<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í¬í† ì¹´ë“œ ì„œë¹„ìŠ¤</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            line-height: 1.6;
            color: #2d3748;
            margin: 0;
            padding: 0;
        }

        .app-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 80px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(226, 232, 240, 0.8);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 40px;
            z-index: 100;
        }

        .app-logo {
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(135deg, #21afbf 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.02em;
        }

        .user-type-toggle {
            display: flex;
            align-items: center;
            background: rgba(226, 232, 240, 0.3);
            border-radius: 50px;
            padding: 6px;
            position: relative;
            width: 200px;
            height: 44px;
        }

        .toggle-switch {
            position: absolute;
            width: 92px;
            height: 32px;
            background: linear-gradient(135deg, #21afbf 0%, #1a8e9f 100%);
            border-radius: 26px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 8px rgba(33, 175, 191, 0.3);
            left: 6px;
        }

        .toggle-switch.customer {
            left: 102px;
        }

        .toggle-option {
            flex: 1;
            text-align: center;
            font-size: 0.85rem;
            font-weight: 500;
            padding: 8px 12px;
            cursor: pointer;
            transition: color 0.3s ease;
            position: relative;
            z-index: 2;
        }

        .toggle-option.active {
            color: white;
        }

        .toggle-option.inactive {
            color: #718096;
        }

        .container {
            min-height: 100vh;
            padding-top: 80px;
            width: 100%;
            max-width: none;
            margin: 0;
            background: transparent;
            border: none;
            border-radius: 0;
            box-shadow: none;
            backdrop-filter: none;
        }

        .main-content {
            padding: 60px 40px;
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
        }

        .hero-section {
            text-align: center;
            padding: 80px 0;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            margin-bottom: 60px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .logo {
            font-size: 4rem;
            font-weight: 700;
            background: linear-gradient(135deg, #21afbf 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 24px;
            letter-spacing: -0.02em;
        }

        .subtitle {
            color: #718096;
            font-size: 1.5rem;
            font-weight: 400;
            margin-bottom: 0;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .user-type-content {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.4s ease;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
        }

        .user-type-content.active {
            opacity: 1;
            transform: translateY(0);
            position: relative;
        }

        .content-wrapper {
            position: relative;
            min-height: 600px;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 32px;
            margin-top: 60px;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(226, 232, 240, 0.8);
            border-radius: 20px;
            padding: 40px 32px;
            text-align: center;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .feature-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            border-color: rgba(33, 175, 191, 0.3);
        }

        .option-card {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(226, 232, 240, 0.8);
            border-radius: 16px;
            padding: 32px 24px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-decoration: none;
            color: inherit;
            position: relative;
            overflow: hidden;
        }

        .option-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(33, 175, 191, 0.02) 0%, rgba(118, 75, 162, 0.02) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .option-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
            border-color: rgba(33, 175, 191, 0.3);
        }

        .option-card:hover::before {
            opacity: 1;
        }

        .option-icon {
            font-size: 2.5rem;
            margin-bottom: 20px;
            display: block;
        }

        .option-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 12px;
            color: #2d3748;
            letter-spacing: -0.01em;
        }

        .option-desc {
            color: #718096;
            font-size: 1rem;
            line-height: 1.6;
            font-weight: 400;
        }

        .hidden {
            display: none;
        }

        .back-btn {
            background: rgba(113, 128, 150, 0.1);
            color: #718096;
            border: 1px solid rgba(113, 128, 150, 0.2);
            padding: 12px 20px;
            border-radius: 12px;
            cursor: pointer;
            margin-bottom: 32px;
            font-size: 0.95rem;
            font-weight: 500;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .back-btn:hover {
            background: rgba(113, 128, 150, 0.15);
            border-color: rgba(113, 128, 150, 0.3);
            transform: translateX(-2px);
        }

        .form-container {
            text-align: left;
            margin-top: 40px;
        }

        .form-group {
            margin-bottom: 24px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #4a5568;
            font-size: 0.95rem;
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 16px 20px;
            border: 1.5px solid #e2e8f0;
            border-radius: 12px;
            font-size: 1rem;
            background: rgba(255, 255, 255, 0.8);
            transition: all 0.2s ease;
            font-family: inherit;
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: #21afbf;
            background: rgba(255, 255, 255, 1);
            box-shadow: 0 0 0 3px rgba(33, 175, 191, 0.1);
        }

        .btn {
            background: linear-gradient(135deg, #21afbf 0%, #1a8e9f 100%);
            color: white;
            border: none;
            padding: 16px 32px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            width: 100%;
            margin-top: 16px;
            transition: all 0.2s ease;
            box-shadow: 0 4px 12px rgba(33, 175, 191, 0.2);
        }

        .btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 20px rgba(33, 175, 191, 0.3);
        }

        .btn:disabled {
            background: #cbd5e0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .template-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-top: 32px;
        }

        .template-card {
            border: 1.5px solid #e2e8f0;
            border-radius: 16px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
        }

        .template-card:hover, .template-card.selected {
            border-color: #21afbf;
            background: rgba(255, 255, 255, 0.95);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(33, 175, 191, 0.15);
        }

        .template-preview {
            width: 100%;
            height: 140px;
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 16px;
            color: #718096;
            font-weight: 500;
            border: 1px solid #e2e8f0;
        }

        .photo-upload {
            border: 2px dashed #cbd5e0;
            border-radius: 16px;
            padding: 48px 24px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 24px;
            background: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(10px);
        }

        .photo-upload:hover {
            border-color: #21afbf;
            background: rgba(33, 175, 191, 0.02);
            transform: translateY(-2px);
        }

        .photo-upload.dragover {
            border-color: #21afbf;
            background: rgba(33, 175, 191, 0.05);
            transform: scale(1.02);
        }

        .uploaded-photos {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 16px;
            margin-top: 24px;
        }

        .uploaded-photo {
            width: 100px;
            height: 100px;
            border-radius: 12px;
            object-fit: cover;
            border: 2px solid #e2e8f0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .feedback-section {
            margin-top: 32px;
            padding: 24px;
            background: rgba(247, 250, 252, 0.8);
            border: 1px solid #e2e8f0;
            border-radius: 16px;
            backdrop-filter: blur(10px);
        }

        .sample-result {
            width: 100%;
            max-width: 320px;
            margin: 24px auto;
            border-radius: 16px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .payment-method:hover {
            border-color: #21afbf !important;
            background-color: rgba(33, 175, 191, 0.02) !important;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(33, 175, 191, 0.1);
        }

        .theme-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-top: 32px;
        }

        .theme-card {
            background: rgba(255, 255, 255, 0.8);
            border: 1.5px solid #e2e8f0;
            border-radius: 20px;
            padding: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            text-align: center;
        }

        .theme-card:hover, .theme-card.selected {
            border-color: #21afbf;
            background: rgba(255, 255, 255, 0.95);
            transform: translateY(-4px);
            box-shadow: 0 12px 30px rgba(33, 175, 191, 0.15);
        }

        .theme-icon {
            margin-bottom: 20px;
            display: flex;
            justify-content: center;
        }

        .theme-info {
            text-align: center;
        }

        .theme-name {
            font-size: 1.25rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 8px;
        }

        .theme-category {
            color: #718096;
            font-size: 0.95rem;
            margin-bottom: 8px;
        }

        .theme-description {
            color: #21afbf;
            font-weight: 500;
            font-size: 0.9rem;
            margin-bottom: 8px;
        }

        .theme-templates {
            color: #4a5568;
            font-size: 0.85rem;
        }

        .selected-theme-info {
            background: rgba(33, 175, 191, 0.05);
            border: 1px solid rgba(33, 175, 191, 0.2);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 32px;
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .selected-theme-icon {
            width: 60px;
            height: 60px;
            border-radius: 16px;
            flex-shrink: 0;
        }

        .selected-theme-details h3 {
            margin: 0 0 8px 0;
            color: #2d3748;
            font-size: 1.1rem;
        }

        .selected-theme-details p {
            margin: 0;
            color: #718096;
            font-size: 0.9rem;
        }

        h1, h2, h3 {
            color: #2d3748;
            font-weight: 600;
            letter-spacing: -0.01em;
            margin-bottom: 20px;
        }

        h2 {
            font-size: 2rem;
            margin-bottom: 24px;
            background: linear-gradient(135deg, #2d3748 0%, #4a5568 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        h3 {
            font-size: 1.4rem;
            margin-bottom: 16px;
        }

        @media (max-width: 768px) {
            .app-header {
                padding: 0 20px;
                height: 70px;
            }
            
            .app-logo {
                font-size: 1.5rem;
            }
            
            .user-type-toggle {
                width: 160px;
                height: 38px;
            }
            
            .toggle-switch {
                width: 72px;
                height: 26px;
            }
            
            .toggle-switch.customer {
                left: 82px;
            }
            
            .toggle-option {
                font-size: 0.75rem;
                padding: 6px 8px;
            }
            
            .container {
                padding-top: 70px;
            }
            
            .main-content {
                padding: 40px 20px;
            }
            
            .hero-section {
                padding: 60px 0;
            }
            
            .logo {
                font-size: 3rem;
            }
            
            .subtitle {
                font-size: 1.2rem;
                margin-bottom: 40px;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
                gap: 24px;
                margin-top: 40px;
            }
            
            .feature-card {
                padding: 32px 24px;
            }
            
            h2 {
                font-size: 1.6rem;
            }
            
            .form-group input, .form-group select, .form-group textarea {
                padding: 14px 16px;
            }
            
            .btn {
                padding: 14px 24px;
            }
        }

        @media (max-width: 480px) {
            .app-header {
                padding: 0 16px;
            }
            
            .app-logo {
                font-size: 1.3rem;
            }
            
            .user-type-toggle {
                width: 140px;
                height: 34px;
            }
            
            .toggle-switch {
                width: 62px;
                height: 22px;
            }
            
            .toggle-switch.customer {
                left: 72px;
            }
            
            .toggle-option {
                font-size: 0.7rem;
            }
            
            .main-content {
                padding: 32px 16px;
            }
            
            .hero-section {
                padding: 40px 0;
            }
            
            .logo {
                font-size: 2.5rem;
            }
            
            .subtitle {
                font-size: 1.1rem;
            }
            
            .feature-card {
                padding: 24px 20px;
            }
            
            .template-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 16px;
            }
        }
    </style>
</head>
<body>
    <!-- Fixed Header -->
    <div class="app-header">
        <div class="app-logo">ğŸ“¸ í¬í† ì¹´ë“œ</div>
        <div class="user-type-toggle">
            <div class="toggle-switch" id="toggle-switch"></div>
            <div class="toggle-option active" id="influencer-toggle" onclick="switchToInfluencer()">
                ì¸í”Œë£¨ì–¸ì„œ
            </div>
            <div class="toggle-option inactive" id="customer-toggle" onclick="switchToCustomer()">
                ì¼ë°˜ ê³ ê°
            </div>
        </div>
    </div>

    <div class="container">
        <div class="main-content">
            <!-- Hero Section -->
            <div class="hero-section">
                <div class="logo">ğŸ“¸ í¬í† ì¹´ë“œ</div>
                <div class="subtitle" id="main-subtitle">AIë¡œ ë§Œë“œëŠ” ë‚˜ë§Œì˜ íŠ¹ë³„í•œ í¬í† ì¹´ë“œ</div>
            </div>

            <!-- Content Wrapper for smooth transitions -->
            <div class="content-wrapper">
                <!-- Influencer Content -->
                <div class="user-type-content active" id="influencer-content">
                    <div class="features-grid">
                        <div class="feature-card" onclick="showInfluencerFlow()">
                            <div class="option-icon">â­</div>
                            <div class="option-title">í…œí”Œë¦¿ ì œì‘ìê°€ ë˜ì–´ë³´ì„¸ìš”</div>
                            <div class="option-desc">
                                SNS ê³„ì • ì—°ë™ ë˜ëŠ” ì‚¬ì§„ ì—…ë¡œë“œë¡œ<br>
                                AIê°€ ë‹¹ì‹ ë§Œì˜ ë…íŠ¹í•œ í¬í† ì¹´ë“œ í…œí”Œë¦¿ì„ ìƒì„±í•©ë‹ˆë‹¤.<br>
                                ì™„ì„±ëœ í…œí”Œë¦¿ì€ í”Œë«í¼ì— ë“±ë¡ë˜ì–´ ìˆ˜ìµì„ ì°½ì¶œí•  ìˆ˜ ìˆì–´ìš”.
                            </div>
                            <div class="btn" style="width: auto; padding: 16px 32px; margin-top: 24px; display: inline-block;">
                                í…œí”Œë¦¿ ì œì‘ ì‹œì‘í•˜ê¸°
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Customer Content -->
                <div class="user-type-content" id="customer-content">
                    <div class="features-grid">
                        <div class="feature-card" onclick="showCustomerFlow()">
                            <div class="option-icon">ğŸ¨</div>
                            <div class="option-title">ë‹¤ì–‘í•œ í…œí”Œë¦¿ìœ¼ë¡œ í¬í† ì¹´ë“œ ì£¼ë¬¸</div>
                            <div class="option-desc">
                                ì¸í”Œë£¨ì–¸ì„œë“¤ì´ ë§Œë“  ë‹¤ì–‘í•œ ìŠ¤íƒ€ì¼ì˜ í…œí”Œë¦¿ ì¤‘<br>
                                ë§ˆìŒì— ë“œëŠ” ê²ƒì„ ì„ íƒí•˜ê³  ë‚˜ë§Œì˜ ì‚¬ì§„ìœ¼ë¡œ<br>
                                ê³ í’ˆì§ˆ 4ì»· í¬í† ì¹´ë“œë¥¼ ì£¼ë¬¸í•˜ì„¸ìš”.
                            </div>
                            <div class="btn" style="width: auto; padding: 16px 32px; margin-top: 24px; display: inline-block;">
                                í¬í† ì¹´ë“œ ì£¼ë¬¸í•˜ê¸°
                            </div>
                        </div>
                        
                        <div class="feature-card">
                            <div class="option-icon">âœ¨</div>
                            <div class="option-title">AI ì¸í˜ì¸íŒ… ê¸°ìˆ </div>
                            <div class="option-desc">
                                ìµœì‹  AI ê¸°ìˆ ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ<br>
                                ë‹¹ì‹ ì˜ ì–¼êµ´ì„ í…œí”Œë¦¿ì— í•©ì„±í•˜ì—¬<br>
                                ì™„ë²½í•œ í¬í† ì¹´ë“œë¥¼ ë§Œë“¤ì–´ë“œë¦½ë‹ˆë‹¤.
                            </div>
                        </div>
                        
                        <div class="feature-card">
                            <div class="option-icon">ğŸšš</div>
                            <div class="option-title">ë¹ ë¥¸ ë°°ì†¡ ì„œë¹„ìŠ¤</div>
                            <div class="option-desc">
                                ì£¼ë¬¸ í›„ 2ì¼ ë‚´ ì œì‘ ì™„ë£Œ<br>
                                ê³ í’ˆì§ˆ ì¸í™”ì§€ë¡œ í”„ë¦°íŠ¸í•˜ì—¬<br>
                                ì•ˆì „í•˜ê²Œ í¬ì¥í•´ ë°°ì†¡í•´ë“œë¦½ë‹ˆë‹¤.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ì¸í”Œë£¨ì–¸ì„œ í”Œë¡œìš° -->
        <div id="influencer-flow" class="hidden">
            <button class="back-btn" onclick="showMainScreen()">â† ë©”ì¸ìœ¼ë¡œ</button>
            
            <!-- ì¸í”Œë£¨ì–¸ì„œ 1ë‹¨ê³„: ì„œë¹„ìŠ¤ ì‹ ì²­ -->
            <div id="influencer-step1">
                <h2>ì¸í”Œë£¨ì–¸ì„œ ì„œë¹„ìŠ¤ ì‹ ì²­</h2>
                <div class="form-container">
                    <div class="form-group">
                        <label>ì´ë¦„</label>
                        <input type="text" id="influencer-name" placeholder="ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”">
                    </div>
                    <div class="form-group">
                        <label>ì—°ë½ì²˜</label>
                        <input type="tel" id="influencer-phone" placeholder="ì—°ë½ì²˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”">
                    </div>
                    <div class="form-group">
                        <label>ì´ë©”ì¼</label>
                        <input type="email" id="influencer-email" placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”">
                    </div>
                    <button class="btn" onclick="goToInfluencerStep2()">ë‹¤ìŒ ë‹¨ê³„</button>
                </div>
            </div>

            <!-- ì¸í”Œë£¨ì–¸ì„œ 2ë‹¨ê³„: SNS ID ë˜ëŠ” ì‚¬ì§„ ì—…ë¡œë“œ -->
            <div id="influencer-step2" class="hidden">
                <h2>SNS ì •ë³´ ë˜ëŠ” ì‚¬ì§„ ì œê³µ</h2>
                <div class="form-container">
                    <div class="form-group">
                        <label>ë°©ë²• ì„ íƒ</label>
                        <select id="upload-method" onchange="toggleUploadMethod()">
                            <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                            <option value="sns">SNS ê³„ì • ì—°ë™</option>
                            <option value="photo">ì‚¬ì§„ ì§ì ‘ ì—…ë¡œë“œ</option>
                        </select>
                    </div>
                    
                    <div id="sns-section" class="hidden">
                        <div class="form-group">
                            <label>SNS í”Œë«í¼</label>
                            <select id="sns-platform" onchange="checkStep2Completion()">
                                <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                                <option value="instagram">ì¸ìŠ¤íƒ€ê·¸ë¨</option>
                                <option value="tiktok">í‹±í†¡</option>
                                <option value="youtube">ìœ íŠœë¸Œ</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>SNS ID</label>
                            <input type="text" id="sns-id" placeholder="@username í˜•íƒœë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”" oninput="checkStep2Completion()">
                        </div>
                    </div>
                    
                    <div id="photo-section" class="hidden">
                        <div class="photo-upload" onclick="document.getElementById('photo-input').click()">
                            <div>ğŸ“· ì‚¬ì§„ì„ ì—…ë¡œë“œí•˜ë ¤ë©´ í´ë¦­í•˜ê±°ë‚˜ ë“œë˜ê·¸í•˜ì„¸ìš”</div>
                            <input type="file" id="photo-input" multiple accept="image/*" style="display: none;" onchange="handlePhotoUpload(event)">
                        </div>
                        <div id="uploaded-photos" class="uploaded-photos"></div>
                    </div>
                    
                    <button class="btn" onclick="goToInfluencerStep3()" disabled id="step2-next-btn">í…œí”Œë¦¿ ìƒì„±í•˜ê¸°</button>
                </div>
            </div>

            <!-- ì¸í”Œë£¨ì–¸ì„œ 3ë‹¨ê³„: í…œí”Œë¦¿ ìƒì„± -->
            <div id="influencer-step3" class="hidden">
                <h2>í…œí”Œë¦¿ ìƒì„±</h2>
                <div class="form-container">
                    <div class="form-group">
                        <label>í…œí”Œë¦¿ ìƒì„± ë°©ë²•</label>
                        <select id="template-method" onchange="toggleTemplateMethod()">
                            <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                            <option value="ai">AI ìë™ ìƒì„±</option>
                            <option value="custom">ì§ì ‘ ì œì‘ (ì‹¤ì œ ì´¬ì˜ í•„ìš”)</option>
                        </select>
                    </div>
                    
                    <div id="ai-generation" class="hidden">
                        <div class="form-group">
                            <label>í…œí”Œë¦¿ ìŠ¤íƒ€ì¼</label>
                            <select id="template-style">
                                <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                                <option value="cute">ê·€ì—¬ìš´ ìŠ¤íƒ€ì¼</option>
                                <option value="cool">ì‹œí¬í•œ ìŠ¤íƒ€ì¼</option>
                                <option value="vintage">ë¹ˆí‹°ì§€ ìŠ¤íƒ€ì¼</option>
                                <option value="minimal">ë¯¸ë‹ˆë©€ ìŠ¤íƒ€ì¼</option>
                            </select>
                        </div>
                        <button class="btn" onclick="generateAITemplate()">AI í…œí”Œë¦¿ ìƒì„±</button>
                    </div>
                    
                    <div id="custom-creation" class="hidden">
                        <div style="background: #fff3cd; padding: 20px; border-radius: 10px; margin: 20px 0;">
                            <h3>ğŸ“ ì§ì ‘ ì œì‘ ì„œë¹„ìŠ¤</h3>
                            <p>ì‹¤ì œ ì´¬ì˜ì„ í†µí•œ ë§ì¶¤ í…œí”Œë¦¿ ì œì‘ì„ ì›í•˜ì‹œë©´ ì•„ë˜ ì—°ë½ì²˜ë¡œ ë¬¸ì˜í•´ì£¼ì„¸ìš”.</p>
                            <div style="margin-top: 15px; font-weight: bold;">
                                ğŸ“ ì „í™”: 010-1234-5678<br>
                                ğŸ“§ ì´ë©”ì¼: contact@photocard.com<br>
                                ğŸ’¬ ì¹´ì¹´ì˜¤í†¡: @photocard
                            </div>
                        </div>
                    </div>
                    
                    <div id="ai-result" class="hidden">
                        <h3>ìƒì„±ëœ í…œí”Œë¦¿ ë¯¸ë¦¬ë³´ê¸°</h3>
                        <div class="sample-result">
                            <div style="background: #f0f0f0; height: 400px; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: #666;">
                                AI ìƒì„± 4ì»· í…œí”Œë¦¿<br>ë¯¸ë¦¬ë³´ê¸°
                            </div>
                        </div>
                        <button class="btn" onclick="goToInfluencerStep4()">í”¼ë“œë°± ì œê³µí•˜ê¸°</button>
                    </div>
                </div>
            </div>

            <!-- ì¸í”Œë£¨ì–¸ì„œ 4ë‹¨ê³„: í”¼ë“œë°± ë° ë“±ë¡ -->
            <div id="influencer-step4" class="hidden">
                <h2>í…œí”Œë¦¿ í”¼ë“œë°± ë° ë“±ë¡</h2>
                <div class="feedback-section">
                    <div class="form-group">
                        <label>í…œí”Œë¦¿ì— ëŒ€í•œ í”¼ë“œë°±</label>
                        <textarea id="template-feedback" rows="4" placeholder="í…œí”Œë¦¿ ê°œì„ ì‚¬í•­ì´ë‚˜ ìš”ì²­ì‚¬í•­ì„ ìì„¸íˆ ì ì–´ì£¼ì„¸ìš”..."></textarea>
                    </div>
                    <div class="form-group">
                        <label>ë§Œì¡±ë„</label>
                        <select id="satisfaction">
                            <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                            <option value="5">ë§¤ìš° ë§Œì¡±</option>
                            <option value="4">ë§Œì¡±</option>
                            <option value="3">ë³´í†µ</option>
                            <option value="2">ë¶ˆë§Œì¡±</option>
                            <option value="1">ë§¤ìš° ë¶ˆë§Œì¡±</option>
                        </select>
                    </div>
                    <button class="btn" onclick="submitFeedback()">í”¼ë“œë°± ì œì¶œ</button>
                    <button class="btn" onclick="registerTemplate()" style="background: #28a745; margin-top: 10px;">í…œí”Œë¦¿ ë“±ë¡í•˜ê¸°</button>
                </div>
            </div>
        </div>

        <!-- ê³ ê° í”Œë¡œìš° -->
        <div id="customer-flow" class="hidden">
            <button class="back-btn" onclick="showMainScreen()">â† ë©”ì¸ìœ¼ë¡œ</button>
            
            <!-- ê³ ê° 1ë‹¨ê³„: í¬í† ë¶€ìŠ¤ í…Œë§ˆ ì„ íƒ -->
            <div id="customer-step1">
                <h2>í¬í† ë¶€ìŠ¤ í…Œë§ˆ ì„ íƒ</h2>
                <div class="subtitle" style="text-align: center; margin-bottom: 40px; color: #718096; font-size: 1.1rem;">
                    íŠ¹ë³„í•œ ìˆœê°„ì„ ë‹´ì„ í¬í† ë¶€ìŠ¤ í…Œë§ˆë¥¼ ì„ íƒí•´ë³´ì„¸ìš”
                </div>
                
                <div class="theme-grid">
                    <div class="theme-card" onclick="selectTheme(1)">
                        <div class="theme-icon">
                            <div style="width: 80px; height: 80px; border-radius: 20px; background: linear-gradient(135deg, #ff6b6b 0%, #ff8e8e 100%); display: flex; align-items: center; justify-content: center; font-size: 2.2rem;">ğŸ’•</div>
                        </div>
                        <div class="theme-info">
                            <div class="theme-name">ì»¤í”Œ ë°ì´íŠ¸</div>
                            <div class="theme-category">ë¡œë§¨í‹± â€¢ ë‹¬ë‹¬í•¨</div>
                            <div class="theme-description">ë‘˜ë§Œì˜ íŠ¹ë³„í•œ ìˆœê°„</div>
                            <div class="theme-templates">í…œí”Œë¦¿ 15ê°œ</div>
                        </div>
                    </div>
                    
                    <div class="theme-card" onclick="selectTheme(2)">
                        <div class="theme-icon">
                            <div style="width: 80px; height: 80px; border-radius: 20px; background: linear-gradient(135deg, #4ecdc4 0%, #44a08d 100%); display: flex; align-items: center; justify-content: center; font-size: 2.2rem;">ğŸ„</div>
                        </div>
                        <div class="theme-info">
                            <div class="theme-name">í¬ë¦¬ìŠ¤ë§ˆìŠ¤</div>
                            <div class="theme-category">ì‹œì¦Œ â€¢ í™€ë¦¬ë°ì´</div>
                            <div class="theme-description">ë”°ëœ»í•œ ê²¨ìš¸ ì¶”ì–µ</div>
                            <div class="theme-templates">í…œí”Œë¦¿ 12ê°œ</div>
                        </div>
                    </div>
                    
                    <div class="theme-card" onclick="selectTheme(3)">
                        <div class="theme-icon">
                            <div style="width: 80px; height: 80px; border-radius: 20px; background: linear-gradient(135deg, #a8e6cf 0%, #dcedc1 100%); display: flex; align-items: center; justify-content: center; font-size: 2.2rem;">ğŸŒ¸</div>
                        </div>
                        <div class="theme-info">
                            <div class="theme-name">ë²šê½ƒ ë‚˜ë“¤ì´</div>
                            <div class="theme-category">ë´„ â€¢ ìì—°</div>
                            <div class="theme-description">í•‘í¬ë¹› ë¡œë§¨ìŠ¤</div>
                            <div class="theme-templates">í…œí”Œë¦¿ 10ê°œ</div>
                        </div>
                    </div>
                    
                    <div class="theme-card" onclick="selectTheme(4)">
                        <div class="theme-icon">
                            <div style="width: 80px; height: 80px; border-radius: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; font-size: 2.2rem;">ğŸ“¸</div>
                        </div>
                        <div class="theme-info">
                            <div class="theme-name">ì¸ìƒë„¤ì»·</div>
                            <div class="theme-category">í´ë˜ì‹ â€¢ ì¶”ì–µ</div>
                            <div class="theme-description">ì†Œì¤‘í•œ ì¼ìƒì˜ ê¸°ë¡</div>
                            <div class="theme-templates">í…œí”Œë¦¿ 18ê°œ</div>
                        </div>
                    </div>
                    
                    <div class="theme-card" onclick="selectTheme(5)">
                        <div class="theme-icon">
                            <div style="width: 80px; height: 80px; border-radius: 20px; background: linear-gradient(135deg, #ffa8ff 0%, #8ac6ff 100%); display: flex; align-items: center; justify-content: center; font-size: 2.2rem;">ğŸ‚</div>
                        </div>
                        <div class="theme-info">
                            <div class="theme-name">ìƒì¼ íŒŒí‹°</div>
                            <div class="theme-category">ì¶•í•˜ â€¢ ê¸°ë…ì¼</div>
                            <div class="theme-description">íŠ¹ë³„í•œ ë‚ ì˜ ì£¼ì¸ê³µ</div>
                            <div class="theme-templates">í…œí”Œë¦¿ 14ê°œ</div>
                        </div>
                    </div>
                    
                    <div class="theme-card" onclick="selectTheme(6)">
                        <div class="theme-icon">
                            <div style="width: 80px; height: 80px; border-radius: 20px; background: linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%); display: flex; align-items: center; justify-content: center; font-size: 2.2rem;">ğŸ–ï¸</div>
                        </div>
                        <div class="theme-info">
                            <div class="theme-name">ì—¬ë¦„ íœ´ê°€</div>
                            <div class="theme-category">ë°”ìº‰ìŠ¤ â€¢ ì—¬í–‰</div>
                            <div class="theme-description">ì‹œì›í•œ ì—¬ë¦„ ì¶”ì–µ</div>
                            <div class="theme-templates">í…œí”Œë¦¿ 13ê°œ</div>
                        </div>
                    </div>
                    
                    <div class="theme-card" onclick="selectTheme(7)">
                        <div class="theme-icon">
                            <div style="width: 80px; height: 80px; border-radius: 20px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); display: flex; align-items: center; justify-content: center; font-size: 2.2rem;">ğŸ‘»</div>
                        </div>
                        <div class="theme-info">
                            <div class="theme-name">í• ë¡œìœˆ</div>
                            <div class="theme-category">ì½”ìŠ¤íŠ¬ â€¢ ì¬ë¯¸</div>
                            <div class="theme-description">ë¬´ì„œìš°ë©´ì„œë„ ê·€ì—¬ìš´</div>
                            <div class="theme-templates">í…œí”Œë¦¿ 11ê°œ</div>
                        </div>
                    </div>
                    
                    <div class="theme-card" onclick="selectTheme(8)">
                        <div class="theme-icon">
                            <div style="width: 80px; height: 80px; border-radius: 20px; background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%); display: flex; align-items: center; justify-content: center; font-size: 2.2rem;">ğŸ‚</div>
                        </div>
                        <div class="theme-info">
                            <div class="theme-name">ê°€ì„ ê°ì„±</div>
                            <div class="theme-category">ê³„ì ˆ â€¢ ë¶„ìœ„ê¸°</div>
                            <div class="theme-description">ë”°ìŠ¤í•œ ê°€ì„ í–‡ì‚´</div>
                            <div class="theme-templates">í…œí”Œë¦¿ 16ê°œ</div>
                        </div>
                    </div>
                </div>
                <button class="btn" onclick="goToCustomerStep2()" disabled id="theme-next-btn">ì„ íƒí•œ í…Œë§ˆì˜ í…œí”Œë¦¿ ë³´ê¸°</button>
            </div>

            <!-- ê³ ê° 2ë‹¨ê³„: í…œí”Œë¦¿ ì„ íƒ (ì´ì œ ì„ íƒëœ í…Œë§ˆ ê¸°ì¤€) -->
            <div id="customer-step2" class="hidden">
                <h2 id="selected-theme-name">í…œí”Œë¦¿ ì„ íƒ</h2>
                <div class="selected-theme-info" id="selected-theme-info">
                    <!-- ì„ íƒëœ í…Œë§ˆ ì •ë³´ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
                
                <div class="template-grid" id="theme-templates">
                    <!-- ì„ íƒëœ í…Œë§ˆì˜ í…œí”Œë¦¿ë“¤ì´ ë™ì ìœ¼ë¡œ ë¡œë“œë©ë‹ˆë‹¤ -->
                </div>
                <button class="btn" onclick="goToCustomerStep3()" disabled id="template-next-btn">ì„ íƒí•œ í…œí”Œë¦¿ìœ¼ë¡œ ì§„í–‰</button>
            </div>

            <!-- ê³ ê° 3ë‹¨ê³„: ì–¼êµ´ ì‚¬ì§„ ì—…ë¡œë“œ -->
            <div id="customer-step3" class="hidden">
                <h2>ì–¼êµ´ ì‚¬ì§„ ì—…ë¡œë“œ (3-5ì¥)</h2>
                <div class="photo-upload" onclick="document.getElementById('customer-photo-input').click()">
                    <div>ğŸ“· ì–¼êµ´ì´ ì˜ ë³´ì´ëŠ” ì‚¬ì§„ 3-5ì¥ì„ ì—…ë¡œë“œí•´ì£¼ì„¸ìš”</div>
                    <input type="file" id="customer-photo-input" multiple accept="image/*" style="display: none;" onchange="handleCustomerPhotoUpload(event)">
                </div>
                <div id="customer-uploaded-photos" class="uploaded-photos"></div>
                <div style="margin-top: 20px; color: #666; font-size: 0.9rem;">
                    ğŸ’¡ ë” ë‚˜ì€ ê²°ê³¼ë¥¼ ìœ„í•œ íŒ:<br>
                    â€¢ ì •ë©´ì—ì„œ ì´¬ì˜í•œ ì‚¬ì§„<br>
                    â€¢ ì–¼êµ´ì´ ì„ ëª…í•˜ê²Œ ë³´ì´ëŠ” ì‚¬ì§„<br>
                    â€¢ ë‹¤ì–‘í•œ ê°ë„ì˜ ì‚¬ì§„
                </div>
                <button class="btn" onclick="goToCustomerStep4()" disabled id="customer-photo-next-btn">ì‚¬ì§„ ì²˜ë¦¬í•˜ê¸°</button>
            </div>

            <!-- ê³ ê° 4ë‹¨ê³„: ìƒ˜í”Œ í™•ì¸ -->
            <div id="customer-step4" class="hidden">
                <h2>ìƒ˜í”Œ í¬í† ì¹´ë“œ í™•ì¸</h2>
                <div class="sample-result">
                    <div style="background: #f0f0f0; height: 200px; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: #666;">
                        ìƒì„±ëœ ìƒ˜í”Œ<br>í¬í† ì¹´ë“œ
                    </div>
                </div>
                <button class="btn" onclick="goToCustomerStep5()">í”¼ë“œë°± ì œê³µí•˜ê¸°</button>
            </div>

            <!-- ê³ ê° 5ë‹¨ê³„: í”¼ë“œë°± -->
            <div id="customer-step5" class="hidden">
                <h2>ìƒ˜í”Œì— ëŒ€í•œ í”¼ë“œë°±</h2>
                <div class="feedback-section">
                    <div class="form-group">
                        <label>ê°œì„  ìš”ì²­ì‚¬í•­</label>
                        <textarea id="customer-feedback" rows="4" placeholder="ìˆ˜ì •í•˜ê³  ì‹¶ì€ ë¶€ë¶„ì´ë‚˜ ê°œì„ ì‚¬í•­ì„ ì ì–´ì£¼ì„¸ìš”..."></textarea>
                    </div>
                    <button class="btn" onclick="submitCustomerFeedback()">í”¼ë“œë°± ì œì¶œ</button>
                    <button class="btn" onclick="goToCustomerStep6()" style="background: #28a745; margin-top: 10px;">ìµœì¢… ì£¼ë¬¸í•˜ê¸°</button>
                </div>
            </div>

            <!-- ê³ ê° 6ë‹¨ê³„: ìµœì¢… ì£¼ë¬¸ -->
            <div id="customer-step6" class="hidden">
                <h2>4ì»· í¬í† ì¹´ë“œ ì£¼ë¬¸</h2>
                <div class="sample-result">
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%); height: 400px; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 1.2rem; text-shadow: 1px 1px 2px rgba(0,0,0,0.5);">
                        ìµœì¢… 4ì»·<br>í¬í† ì¹´ë“œ<br>ğŸ¯
                    </div>
                </div>
                
                <!-- ìƒí’ˆ ì •ë³´ ë° ê°€ê²© -->
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 20px 0;">
                    <h3 style="margin-bottom: 15px;">ğŸ“‹ ì£¼ë¬¸ ì •ë³´</h3>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span>4ì»· í¬í† ì¹´ë“œ (ê³ í’ˆì§ˆ ì¸í™”)</span>
                        <span style="font-weight: bold;">15,000ì›</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span>ë°°ì†¡ë¹„</span>
                        <span>3,000ì›</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px; color: #28a745;">
                        <span>í• ì¸ (ì²« ì£¼ë¬¸)</span>
                        <span>-2,000ì›</span>
                    </div>
                    <hr style="margin: 15px 0;">
                    <div style="display: flex; justify-content: space-between; font-size: 1.2rem; font-weight: bold; color: #dc3545;">
                        <span>ì´ ê²°ì œê¸ˆì•¡</span>
                        <span>16,000ì›</span>
                    </div>
                </div>

                <div class="form-container">
                    <h3 style="margin-bottom: 20px;">ğŸ“¦ ë°°ì†¡ ì •ë³´</h3>
                    <div class="form-group">
                        <label>ë°›ëŠ” ë¶„ ì´ë¦„</label>
                        <input type="text" id="delivery-name" placeholder="ë°›ëŠ” ë¶„ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”">
                    </div>
                    <div class="form-group">
                        <label>ì—°ë½ì²˜</label>
                        <input type="tel" id="delivery-phone" placeholder="íœ´ëŒ€í° ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”">
                    </div>
                    <div class="form-group">
                        <label>ë°°ì†¡ ì£¼ì†Œ</label>
                        <textarea id="delivery-address" rows="3" placeholder="ìƒì„¸ ì£¼ì†Œê¹Œì§€ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”"></textarea>
                    </div>
                    <div class="form-group">
                        <label>ë°°ì†¡ ìš”ì²­ì‚¬í•­ (ì„ íƒ)</label>
                        <input type="text" id="delivery-memo" placeholder="ë°°ì†¡ì‹œ ìš”ì²­ì‚¬í•­ì´ ìˆìœ¼ë©´ ì ì–´ì£¼ì„¸ìš”">
                    </div>
                    
                    <button class="btn" onclick="proceedToPayment()" style="background: #28a745; font-size: 1.1rem; padding: 15px; margin-top: 20px;">ğŸ’³ ê²°ì œí•˜ê¸° (16,000ì›)</button>
                </div>
            </div>

            <!-- ê³ ê° 7ë‹¨ê³„: ê²°ì œ -->
            <div id="customer-step7" class="hidden">
                <h2>ğŸ’³ ê²°ì œ ì •ë³´ ì…ë ¥</h2>
                
                <!-- ì£¼ë¬¸ ìš”ì•½ -->
                <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; margin-bottom: 30px;">
                    <h3 style="margin-bottom: 15px; color: #1976d2;">ğŸ“‹ ì£¼ë¬¸ ìš”ì•½</h3>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                        <span>ìƒí’ˆ: 4ì»· í¬í† ì¹´ë“œ</span>
                        <span>15,000ì›</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                        <span>ë°°ì†¡ë¹„</span>
                        <span>3,000ì›</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px; color: #28a745;">
                        <span>ì²« ì£¼ë¬¸ í• ì¸</span>
                        <span>-2,000ì›</span>
                    </div>
                    <hr>
                    <div style="display: flex; justify-content: space-between; font-weight: bold; font-size: 1.1rem; color: #dc3545;">
                        <span>ì´ ê²°ì œê¸ˆì•¡</span>
                        <span>16,000ì›</span>
                    </div>
                </div>

                <div class="form-container">
                    <!-- ê²°ì œ ë°©ë²• ì„ íƒ -->
                    <div class="form-group">
                        <label>ê²°ì œ ë°©ë²•</label>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-top: 10px;">
                            <div class="payment-method" onclick="selectPaymentMethod('card')" style="border: 2px solid #ddd; padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: all 0.3s;">
                                ğŸ’³<br><strong>ì‹ ìš©ì¹´ë“œ</strong><br><small>ì¦‰ì‹œê²°ì œ</small>
                            </div>
                            <div class="payment-method" onclick="selectPaymentMethod('bank')" style="border: 2px solid #ddd; padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: all 0.3s;">
                                ğŸ¦<br><strong>ê³„ì¢Œì´ì²´</strong><br><small>ì‹¤ì‹œê°„ì´ì²´</small>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-top: 15px;">
                            <div class="payment-method" onclick="selectPaymentMethod('kakao')" style="border: 2px solid #ddd; padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: all 0.3s;">
                                ğŸ’›<br><strong>ì¹´ì¹´ì˜¤í˜ì´</strong><br><small>ê°„í¸ê²°ì œ</small>
                            </div>
                            <div class="payment-method" onclick="selectPaymentMethod('toss')" style="border: 2px solid #ddd; padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: all 0.3s;">
                                ğŸ”µ<br><strong>í† ìŠ¤í˜ì´</strong><br><small>ê°„í¸ê²°ì œ</small>
                            </div>
                        </div>
                    </div>

                    <!-- ì‹ ìš©ì¹´ë“œ ê²°ì œ í¼ -->
                    <div id="card-payment-form" class="hidden">
                        <h3 style="margin: 30px 0 20px 0;">ğŸ’³ ì‹ ìš©ì¹´ë“œ ì •ë³´</h3>
                        <div class="form-group">
                            <label>ì¹´ë“œë²ˆí˜¸</label>
                            <input type="text" id="card-number" placeholder="1234-5678-9012-3456" maxlength="19" oninput="formatCardNumber(this)">
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px;">
                            <div class="form-group">
                                <label>ìœ íš¨ê¸°ê°„</label>
                                <input type="text" id="card-expiry" placeholder="MM/YY" maxlength="5" oninput="formatExpiry(this)">
                            </div>
                            <div class="form-group">
                                <label>CVC</label>
                                <input type="text" id="card-cvc" placeholder="123" maxlength="3">
                            </div>
                            <div class="form-group">
                                <label>í• ë¶€</label>
                                <select id="installment">
                                    <option value="0">ì¼ì‹œë¶ˆ</option>
                                    <option value="2">2ê°œì›”</option>
                                    <option value="3">3ê°œì›”</option>
                                    <option value="6">6ê°œì›”</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>ì¹´ë“œ ë¹„ë°€ë²ˆí˜¸ ì• 2ìë¦¬</label>
                            <input type="password" id="card-password" placeholder="**" maxlength="2">
                        </div>
                    </div>

                    <!-- ê³„ì¢Œì´ì²´ í¼ -->
                    <div id="bank-payment-form" class="hidden">
                        <h3 style="margin: 30px 0 20px 0;">ğŸ¦ ê³„ì¢Œì´ì²´ ì •ë³´</h3>
                        <div class="form-group">
                            <label>ì€í–‰ ì„ íƒ</label>
                            <select id="bank-select">
                                <option value="">ì€í–‰ì„ ì„ íƒí•´ì£¼ì„¸ìš”</option>
                                <option value="kb">KBêµ­ë¯¼ì€í–‰</option>
                                <option value="shinhan">ì‹ í•œì€í–‰</option>
                                <option value="woori">ìš°ë¦¬ì€í–‰</option>
                                <option value="hana">í•˜ë‚˜ì€í–‰</option>
                                <option value="nh">NHë†í˜‘ì€í–‰</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>ê³„ì¢Œë²ˆí˜¸</label>
                            <input type="text" id="account-number" placeholder="ê³„ì¢Œë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”">
                        </div>
                        <div class="form-group">
                            <label>ì˜ˆê¸ˆì£¼ëª…</label>
                            <input type="text" id="account-holder" placeholder="ì˜ˆê¸ˆì£¼ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”">
                        </div>
                    </div>

                    <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin: 20px 0;">
                        <div style="display: flex; align-items: center; margin-bottom: 10px;">
                            <input type="checkbox" id="agree-terms" style="margin-right: 10px;">
                            <label for="agree-terms">ê²°ì œ ì§„í–‰ ë° ê°œì¸ì •ë³´ ìˆ˜ì§‘Â·ì´ìš©ì— ë™ì˜í•©ë‹ˆë‹¤.</label>
                        </div>
                        <div style="display: flex; align-items: center;">
                            <input type="checkbox" id="agree-marketing" style="margin-right: 10px;">
                            <label for="agree-marketing">ë§ˆì¼€íŒ… ì •ë³´ ìˆ˜ì‹ ì— ë™ì˜í•©ë‹ˆë‹¤. (ì„ íƒ)</label>
                        </div>
                    </div>

                    <button class="btn" onclick="processPayment()" disabled id="payment-btn" style="background: #dc3545; font-size: 1.2rem; padding: 18px; margin-top: 20px;">ğŸ”’ 16,000ì› ê²°ì œí•˜ê¸°</button>
                    <button class="btn" onclick="goBackToOrder()" style="background: #6c757d; margin-top: 10px;">â† ì£¼ë¬¸ ì •ë³´ ìˆ˜ì •</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let selectedTemplate = null;
        let selectedTheme = null;
        let customerPhotos = [];
        let influencerPhotos = [];

        // í¬í† ë¶€ìŠ¤ í…Œë§ˆ ë°ì´í„°
        const photoBoothThemes = {
            1: {
                id: 1,
                name: 'ì»¤í”Œ ë°ì´íŠ¸',
                category: 'ë¡œë§¨í‹± â€¢ ë‹¬ë‹¬í•¨',
                description: 'ë‘˜ë§Œì˜ íŠ¹ë³„í•œ ìˆœê°„',
                templates: 15,
                icon: 'ğŸ’•',
                gradient: 'linear-gradient(135deg, #ff6b6b 0%, #ff8e8e 100%)',
                templateData: [
                    { id: 1, name: 'í•˜íŠ¸ í”„ë ˆì„', style: 'ì‚¬ë‘ìŠ¤ëŸ¬ìš´ í•˜íŠ¸ ì¥ì‹' },
                    { id: 2, name: 'ë¡œì¦ˆ ê°€ë“ ', style: 'ì¥ë¯¸ê½ƒë°­ ë°°ê²½' },
                    { id: 3, name: 'ìº”ë“¤ë¼ì´íŠ¸', style: 'ì´›ë¶ˆ ë¶„ìœ„ê¸°' },
                    { id: 4, name: 'ìŠ¤ìœ„íŠ¸ í‚¤ìŠ¤', style: 'ë‹¬ì½¤í•œ í‚¤ìŠ¤ ëª¨ë¨¼íŠ¸' },
                    { id: 5, name: 'ëŸ¬ë¸Œ ë ˆí„°', style: 'í¸ì§€ì§€ ì½˜ì…‰íŠ¸' }
                ]
            },
            2: {
                id: 2,
                name: 'í¬ë¦¬ìŠ¤ë§ˆìŠ¤',
                category: 'ì‹œì¦Œ â€¢ í™€ë¦¬ë°ì´',
                description: 'ë”°ëœ»í•œ ê²¨ìš¸ ì¶”ì–µ',
                templates: 12,
                icon: 'ğŸ„',
                gradient: 'linear-gradient(135deg, #4ecdc4 0%, #44a08d 100%)',
                templateData: [
                    { id: 6, name: 'ì‚°íƒ€ ë§ˆì„', style: 'ì‚°íƒ€í´ë¡œìŠ¤ì™€ í•¨ê»˜' },
                    { id: 7, name: 'í¬ë¦¬ìŠ¤ë§ˆìŠ¤ íŠ¸ë¦¬', style: 'ë°˜ì§ì´ëŠ” íŠ¸ë¦¬ ì•ì—ì„œ' },
                    { id: 8, name: 'ëˆˆê½ƒ í”„ë ˆì„', style: 'í•˜ì–€ ëˆˆê½ƒ ì¥ì‹' },
                    { id: 9, name: 'ì„ ë¬¼ ìƒì', style: 'ì˜ˆìœ ì„ ë¬¼ í¬ì¥ì§€' },
                    { id: 10, name: 'í™€ë¦¬ë°ì´ ë²½ë‚œë¡œ', style: 'ë”°ëœ»í•œ ë‚œë¡œ ì•' }
                ]
            },
            3: {
                id: 3,
                name: 'ë²šê½ƒ ë‚˜ë“¤ì´',
                category: 'ë´„ â€¢ ìì—°',
                description: 'í•‘í¬ë¹› ë¡œë§¨ìŠ¤',
                templates: 10,
                icon: 'ğŸŒ¸',
                gradient: 'linear-gradient(135deg, #a8e6cf 0%, #dcedc1 100%)',
                templateData: [
                    { id: 11, name: 'ë²šê½ƒ ë¹„', style: 'í©ë‚ ë¦¬ëŠ” ë²šê½ƒì' },
                    { id: 12, name: 'í”¼í¬ë‹‰', style: 'ë´„ ì†Œí’ ëŠë‚Œ' },
                    { id: 13, name: 'ê½ƒê¸¸ ì‚°ì±…', style: 'ê½ƒì´ ë§Œë°œí•œ ê¸¸' },
                    { id: 14, name: 'ë²šê½ƒ í„°ë„', style: 'ë¶„í™ìƒ‰ í„°ë„' },
                    { id: 15, name: 'í•˜ëŠ˜ ê³µì›', style: 'í‘¸ë¥¸ í•˜ëŠ˜ ë°°ê²½' }
                ]
            },
            4: {
                id: 4,
                name: 'ì¸ìƒë„¤ì»·',
                category: 'í´ë˜ì‹ â€¢ ì¶”ì–µ',
                description: 'ì†Œì¤‘í•œ ì¼ìƒì˜ ê¸°ë¡',
                templates: 18,
                icon: 'ğŸ“¸',
                gradient: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                templateData: [
                    { id: 16, name: 'ë¹ˆí‹°ì§€ í•„ë¦„', style: 'í•„ë¦„ì¹´ë©”ë¼ ëŠë‚Œ' },
                    { id: 17, name: 'ë¸”ë™&í™”ì´íŠ¸', style: 'í‘ë°± í´ë˜ì‹' },
                    { id: 18, name: 'í´ë¼ë¡œì´ë“œ', style: 'ì¦‰ì„ì‚¬ì§„ ìŠ¤íƒ€ì¼' },
                    { id: 19, name: 'ë ˆíŠ¸ë¡œ í”„ë ˆì„', style: 'ë³µê³ í’ í…Œë‘ë¦¬' },
                    { id: 20, name: 'ë¯¸ë‹ˆë©€ í™”ì´íŠ¸', style: 'ê¹”ë”í•œ í™”ì´íŠ¸' }
                ]
            },
            5: {
                id: 5,
                name: 'ìƒì¼ íŒŒí‹°',
                category: 'ì¶•í•˜ â€¢ ê¸°ë…ì¼',
                description: 'íŠ¹ë³„í•œ ë‚ ì˜ ì£¼ì¸ê³µ',
                templates: 14,
                icon: 'ğŸ‚',
                gradient: 'linear-gradient(135deg, #ffa8ff 0%, #8ac6ff 100%)',
                templateData: [
                    { id: 21, name: 'ìƒì¼ ì¼€ì´í¬', style: 'ì¼€ì´í¬ì™€ ì´›ë¶ˆ' },
                    { id: 22, name: 'íŒŒí‹° ëª¨ì', style: 'ìƒì¼ëª¨ì ì°©ìš©' },
                    { id: 23, name: 'ì»¨í˜í‹°', style: 'ìƒ‰ì¢…ì´ ê°€ë£¨ íš¨ê³¼' },
                    { id: 24, name: 'í’ì„  íŒŒí‹°', style: 'ì•Œë¡ë‹¬ë¡ í’ì„ ' },
                    { id: 25, name: 'ê³¨ë“  í”„ë ˆì„', style: 'ê¸ˆìƒ‰ í™”ë ¤í•œ í…Œë‘ë¦¬' }
                ]
            },
            6: {
                id: 6,
                name: 'ì—¬ë¦„ íœ´ê°€',
                category: 'ë°”ìº‰ìŠ¤ â€¢ ì—¬í–‰',
                description: 'ì‹œì›í•œ ì—¬ë¦„ ì¶”ì–µ',
                templates: 13,
                icon: 'ğŸ–ï¸',
                gradient: 'linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%)',
                templateData: [
                    { id: 26, name: 'í•´ë³€ ì¼ëª°', style: 'ì„ì–‘ì´ ì§€ëŠ” ë°”ë‹¤' },
                    { id: 27, name: 'ì•¼ììˆ˜ ê·¸ëŠ˜', style: 'ì•¼ììˆ˜ ì•„ë˜ì„œ' },
                    { id: 28, name: 'ìˆ˜ì˜ë³µ íŒŒí‹°', style: 'ë¹„í‚¤ë‹ˆ & ë¹„ì¹˜ì›¨ì–´' },
                    { id: 29, name: 'ì„œí•‘ ë³´ë“œ', style: 'ì„œí•‘ë³´ë“œ ì†Œí’ˆ' },
                    { id: 30, name: 'ì¿¨ ì•„ì´ìŠ¤í¬ë¦¼', style: 'ì‹œì›í•œ ì•„ì´ìŠ¤í¬ë¦¼' }
                ]
            },
            7: {
                id: 7,
                name: 'í• ë¡œìœˆ',
                category: 'ì½”ìŠ¤íŠ¬ â€¢ ì¬ë¯¸',
                description: 'ë¬´ì„œìš°ë©´ì„œë„ ê·€ì—¬ìš´',
                templates: 11,
                icon: 'ğŸ‘»',
                gradient: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',
                templateData: [
                    { id: 31, name: 'ìœ ë ¹ ì¹œêµ¬ë“¤', style: 'ê·€ì—¬ìš´ ìœ ë ¹ë“¤' },
                    { id: 32, name: 'ë§ˆë…€ ëª¨ì', style: 'ë§ˆë²•ì‚¬ ì»¨ì…‰' },
                    { id: 33, name: 'í˜¸ë°• ë“±ë¶ˆ', style: 'ì­ì˜¤ëœí„´ ì¥ì‹' },
                    { id: 34, name: 'ë±€íŒŒì´ì–´', style: 'ë±€íŒŒì´ì–´ ì½”ìŠ¤íŠ¬' },
                    { id: 35, name: 'ìº”ë”” íŒŒí‹°', style: 'ì•Œë¡ë‹¬ë¡ ì‚¬íƒ•' }
                ]
            },
            8: {
                id: 8,
                name: 'ê°€ì„ ê°ì„±',
                category: 'ê³„ì ˆ â€¢ ë¶„ìœ„ê¸°',
                description: 'ë”°ìŠ¤í•œ ê°€ì„ í–‡ì‚´',
                templates: 16,
                icon: 'ğŸ‚',
                gradient: 'linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%)',
                templateData: [
                    { id: 36, name: 'ë‹¨í’ì ë¹„', style: 'ë–¨ì–´ì§€ëŠ” ë‹¨í’' },
                    { id: 37, name: 'ì½”ì§€ ì¹´í˜', style: 'ë”°ëœ»í•œ ì¹´í˜ ë¶„ìœ„ê¸°' },
                    { id: 38, name: 'ê°€ì„ ê³µì›', style: 'í™©ê¸ˆë¹› ë‚˜ë¬´ë“¤' },
                    { id: 39, name: 'ìŠ¤ì›¨í„° ë°ì´', style: 'ë‹ˆíŠ¸ íŒ¨ì…˜' },
                    { id: 40, name: 'í˜¸ë°• ë¼ë–¼', style: 'ê°€ì„ ìŒë£Œì™€ í•¨ê»˜' }
                ]
            }
        };

        function showMainScreen() {
            // Hide all flows and show main content
            document.getElementById('influencer-flow').classList.add('hidden');
            document.getElementById('customer-flow').classList.add('hidden');
            document.querySelector('.main-content').style.display = 'block';
        }

        function showInfluencerFlow() {
            document.querySelector('.main-content').style.display = 'none';
            document.getElementById('influencer-flow').classList.remove('hidden');
            document.getElementById('customer-flow').classList.add('hidden');
        }

        function showCustomerFlow() {
            document.querySelector('.main-content').style.display = 'none';
            document.getElementById('customer-flow').classList.remove('hidden');
            document.getElementById('influencer-flow').classList.add('hidden');
        }

        // ì¸í”Œë£¨ì–¸ì„œ í”Œë¡œìš° í•¨ìˆ˜ë“¤
        function goToInfluencerStep2() {
            const name = document.getElementById('influencer-name').value;
            const phone = document.getElementById('influencer-phone').value;
            const email = document.getElementById('influencer-email').value;
            
            if (!name || !phone || !email) {
                alert('ëª¨ë“  ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            document.getElementById('influencer-step1').classList.add('hidden');
            document.getElementById('influencer-step2').classList.remove('hidden');
        }

        function toggleUploadMethod() {
            const method = document.getElementById('upload-method').value;
            const snsSection = document.getElementById('sns-section');
            const photoSection = document.getElementById('photo-section');
            const nextBtn = document.getElementById('step2-next-btn');
            
            snsSection.classList.add('hidden');
            photoSection.classList.add('hidden');
            nextBtn.disabled = true;
            
            if (method === 'sns') {
                snsSection.classList.remove('hidden');
            } else if (method === 'photo') {
                photoSection.classList.remove('hidden');
            }
        }

        function checkStep2Completion() {
            const method = document.getElementById('upload-method').value;
            const nextBtn = document.getElementById('step2-next-btn');
            
            if (method === 'sns') {
                const platform = document.getElementById('sns-platform').value;
                const snsId = document.getElementById('sns-id').value;
                nextBtn.disabled = !(platform && snsId);
            } else if (method === 'photo') {
                nextBtn.disabled = influencerPhotos.length === 0;
            } else {
                nextBtn.disabled = true;
            }
        }

        function handlePhotoUpload(event) {
            const files = event.target.files;
            const container = document.getElementById('uploaded-photos');
            const nextBtn = document.getElementById('step2-next-btn');
            
            influencerPhotos = [];
            container.innerHTML = '';
            
            for (let file of files) {
                influencerPhotos.push(file);
                const img = document.createElement('img');
                img.src = URL.createObjectURL(file);
                img.className = 'uploaded-photo';
                container.appendChild(img);
            }
            
            if (influencerPhotos.length > 0) {
                nextBtn.disabled = false;
            }
            
            checkStep2Completion();
        }

        function goToInfluencerStep3() {
            document.getElementById('influencer-step2').classList.add('hidden');
            document.getElementById('influencer-step3').classList.remove('hidden');
        }

        function toggleTemplateMethod() {
            const method = document.getElementById('template-method').value;
            const aiSection = document.getElementById('ai-generation');
            const customSection = document.getElementById('custom-creation');
            
            aiSection.classList.add('hidden');
            customSection.classList.add('hidden');
            
            if (method === 'ai') {
                aiSection.classList.remove('hidden');
            } else if (method === 'custom') {
                customSection.classList.remove('hidden');
            }
        }

        function generateAITemplate() {
            const style = document.getElementById('template-style').value;
            if (!style) {
                alert('í…œí”Œë¦¿ ìŠ¤íƒ€ì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // AI ìƒì„± ì‹œë®¬ë ˆì´ì…˜
            setTimeout(() => {
                document.getElementById('ai-result').classList.remove('hidden');
                alert('AI í…œí”Œë¦¿ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!');
            }, 2000);
        }

        function goToInfluencerStep4() {
            document.getElementById('influencer-step3').classList.add('hidden');
            document.getElementById('influencer-step4').classList.remove('hidden');
        }

        function submitFeedback() {
            const feedback = document.getElementById('template-feedback').value;
            const satisfaction = document.getElementById('satisfaction').value;
            
            if (!feedback || !satisfaction) {
                alert('í”¼ë“œë°±ê³¼ ë§Œì¡±ë„ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // í”¼ë“œë°± ì²˜ë¦¬ ì¤‘ ë©”ì‹œì§€ í‘œì‹œ
            const feedbackSection = document.querySelector('.feedback-section');
            feedbackSection.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 2rem; margin-bottom: 20px;">ğŸ”„</div>
                    <h3>í”¼ë“œë°±ì„ ë°˜ì˜í•˜ì—¬ í…œí”Œë¦¿ì„ ì¬ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤...</h3>
                    <p style="color: #666; margin-top: 10px;">ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.</p>
                </div>
            `;
            
            // 3ì´ˆ í›„ ìƒˆë¡œìš´ í…œí”Œë¦¿ í‘œì‹œ
            setTimeout(() => {
                showRegeneratedTemplate();
            }, 3000);
        }
        
        function showRegeneratedTemplate() {
            const feedbackSection = document.querySelector('.feedback-section');
            feedbackSection.innerHTML = `
                <h3 style="text-align: center; margin-bottom: 20px;">ğŸ‰ ê°œì„ ëœ í…œí”Œë¦¿</h3>
                <div class="sample-result">
                    <div style="background: linear-gradient(45deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%); height: 400px; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 1.2rem; text-shadow: 1px 1px 2px rgba(0,0,0,0.3);">
                        í”¼ë“œë°± ë°˜ì˜<br>ê°œì„ ëœ 4ì»· í…œí”Œë¦¿<br>âœ¨ Ver 2.0
                    </div>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <div style="background: #d4edda; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                        <strong>ê°œì„ ì‚¬í•­:</strong><br>
                        â€¢ í”¼ë“œë°±ì„ ë°”íƒ•ìœ¼ë¡œ ìƒ‰ìƒ ì¡°ì •<br>
                        â€¢ ë ˆì´ì•„ì›ƒ ìµœì í™”<br>
                        â€¢ ë”ìš± ìì—°ìŠ¤ëŸ¬ìš´ í‘œí˜„
                    </div>
                    <button class="btn" onclick="providMoreFeedback()" style="background: #ffc107; color: #000; margin-right: 10px;">ì¶”ê°€ í”¼ë“œë°±</button>
                    <button class="btn" onclick="finalizeTemplate()" style="background: #28a745;">ìµœì¢… ìŠ¹ì¸</button>
                </div>
            `;
        }
        
        function providMoreFeedback() {
            const feedbackSection = document.querySelector('.feedback-section');
            feedbackSection.innerHTML = `
                <h3>ì¶”ê°€ í”¼ë“œë°± ì œê³µ</h3>
                <div class="form-group">
                    <label>ì¶”ê°€ ê°œì„ ì‚¬í•­</label>
                    <textarea id="additional-feedback" rows="4" placeholder="ì¶”ê°€ë¡œ ìˆ˜ì •í•˜ê³  ì‹¶ì€ ë¶€ë¶„ì´ë‚˜ ê°œì„ ì‚¬í•­ì„ ì ì–´ì£¼ì„¸ìš”..."></textarea>
                </div>
                <div class="form-group">
                    <label>í˜„ì¬ ë§Œì¡±ë„</label>
                    <select id="new-satisfaction">
                        <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                        <option value="5">ë§¤ìš° ë§Œì¡±</option>
                        <option value="4">ë§Œì¡±</option>
                        <option value="3">ë³´í†µ</option>
                        <option value="2">ë¶ˆë§Œì¡±</option>
                        <option value="1">ë§¤ìš° ë¶ˆë§Œì¡±</option>
                    </select>
                </div>
                <button class="btn" onclick="submitAdditionalFeedback()">ì¶”ê°€ í”¼ë“œë°± ì œì¶œ</button>
                <button class="btn" onclick="showRegeneratedTemplate()" style="background: #6c757d; margin-top: 10px;">ì´ì „ í…œí”Œë¦¿ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
            `;
        }
        
        function submitAdditionalFeedback() {
            const feedback = document.getElementById('additional-feedback').value;
            const satisfaction = document.getElementById('new-satisfaction').value;
            
            if (!feedback || !satisfaction) {
                alert('ì¶”ê°€ í”¼ë“œë°±ê³¼ ë§Œì¡±ë„ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // ì¬ìƒì„± ê³¼ì • í‘œì‹œ
            const feedbackSection = document.querySelector('.feedback-section');
            feedbackSection.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 2rem; margin-bottom: 20px;">ğŸ¨</div>
                    <h3>ì¶”ê°€ í”¼ë“œë°±ì„ ë°˜ì˜í•˜ì—¬ ìµœì¢… í…œí”Œë¦¿ì„ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤...</h3>
                    <p style="color: #666; margin-top: 10px;">ê³ í’ˆì§ˆ í…œí”Œë¦¿ ìƒì„± ì¤‘...</p>
                </div>
            `;
            
            // 4ì´ˆ í›„ ìµœì¢… í…œí”Œë¦¿ í‘œì‹œ
            setTimeout(() => {
                showFinalTemplate();
            }, 4000);
        }
        
        function showFinalTemplate() {
            const feedbackSection = document.querySelector('.feedback-section');
            feedbackSection.innerHTML = `
                <h3 style="text-align: center; margin-bottom: 20px;">âœ¨ ìµœì¢… ì™„ì„± í…œí”Œë¦¿</h3>
                <div class="sample-result">
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%); height: 400px; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 1.2rem; text-shadow: 1px 1px 2px rgba(0,0,0,0.5); position: relative;">
                        <div style="text-align: center;">
                            ì™„ë²½í•œ 4ì»· í…œí”Œë¦¿<br>
                            ğŸŒŸ ìµœì¢… ë²„ì „ ğŸŒŸ<br>
                            <small style="opacity: 0.8;">í”¼ë“œë°± ì™„ì „ ë°˜ì˜</small>
                        </div>
                        <div style="position: absolute; top: 10px; right: 10px; background: rgba(255,255,255,0.2); padding: 5px 10px; border-radius: 20px; font-size: 0.8rem;">
                            FINAL
                        </div>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <div style="background: #d1ecf1; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                        <strong>ğŸ‰ í…œí”Œë¦¿ ì™„ì„±!</strong><br>
                        ëª¨ë“  í”¼ë“œë°±ì´ ë°˜ì˜ëœ ìµœì¢… í…œí”Œë¦¿ì…ë‹ˆë‹¤.<br>
                        ì´ì œ ì›¹ì‚¬ì´íŠ¸ì— ë“±ë¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </div>
                    <button class="btn" onclick="providMoreFeedback()" style="background: #17a2b8; margin-right: 10px;">ë¯¸ì„¸ ì¡°ì •</button>
                    <button class="btn" onclick="registerTemplate()" style="background: #28a745;">ì›¹ì‚¬ì´íŠ¸ì— ë“±ë¡</button>
                </div>
            `;
        }
        
        function finalizeTemplate() {
            const feedbackSection = document.querySelector('.feedback-section');
            feedbackSection.innerHTML = `
                <div style="text-align: center; padding: 30px;">
                    <div style="font-size: 3rem; margin-bottom: 20px;">âœ…</div>
                    <h3>í…œí”Œë¦¿ì´ ìµœì¢… ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤!</h3>
                    <p style="color: #666; margin: 15px 0;">ê³ ê°ë“¤ì´ ì„ íƒí•  ìˆ˜ ìˆë„ë¡ ì›¹ì‚¬ì´íŠ¸ì— ë“±ë¡í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
                    <button class="btn" onclick="registerTemplate()" style="background: #28a745;">ì›¹ì‚¬ì´íŠ¸ì— ë“±ë¡í•˜ê¸°</button>
                </div>
            `;
        }

        function registerTemplate() {
            alert('í…œí”Œë¦¿ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤! ì›¹ì‚¬ì´íŠ¸ì—ì„œ ê³ ê°ë“¤ì´ ì„ íƒí•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.');
        }

        // ê³ ê° í”Œë¡œìš° í•¨ìˆ˜ë“¤
        function selectTheme(themeId) {
            // ê¸°ì¡´ ì„ íƒ í•´ì œ
            document.querySelectorAll('.theme-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // ìƒˆë¡œìš´ ì„ íƒ
            event.target.closest('.theme-card').classList.add('selected');
            selectedTheme = themeId;
            document.getElementById('theme-next-btn').disabled = false;
        }

        function goToCustomerStep2() {
            if (!selectedTheme) {
                alert('í¬í† ë¶€ìŠ¤ í…Œë§ˆë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // ì„ íƒëœ í…Œë§ˆì˜ í…œí”Œë¦¿ ë¡œë“œ
            loadThemeTemplates(selectedTheme);
            
            document.getElementById('customer-step1').classList.add('hidden');
            document.getElementById('customer-step2').classList.remove('hidden');
        }

        function loadThemeTemplates(themeId) {
            const theme = photoBoothThemes[themeId];
            
            // í…Œë§ˆ ì´ë¦„ ì—…ë°ì´íŠ¸
            document.getElementById('selected-theme-name').textContent = `${theme.name} í…œí”Œë¦¿`;
            
            // ì„ íƒëœ í…Œë§ˆ ì •ë³´ í‘œì‹œ
            const infoDiv = document.getElementById('selected-theme-info');
            infoDiv.innerHTML = `
                <div class="selected-theme-icon" style="background: ${theme.gradient}; display: flex; align-items: center; justify-content: center; font-size: 1.8rem;">
                    ${theme.icon}
                </div>
                <div class="selected-theme-details">
                    <h3>${theme.name}</h3>
                    <p>${theme.category} â€¢ ${theme.description} â€¢ í…œí”Œë¦¿ ${theme.templates}ê°œ</p>
                </div>
            `;
            
            // í…œí”Œë¦¿ ê·¸ë¦¬ë“œ ì—…ë°ì´íŠ¸
            const templatesDiv = document.getElementById('theme-templates');
            templatesDiv.innerHTML = theme.templateData.map(template => `
                <div class="template-card" onclick="selectTemplate(${template.id})">
                    <div class="template-preview" style="background: ${theme.gradient}; color: white; font-weight: 500;">
                        ${theme.icon}
                    </div>
                    <div style="margin-top: 12px; font-weight: 500;">${template.name}</div>
                    <div style="color: #718096; font-size: 0.85rem;">${template.style}</div>
                </div>
            `).join('');
        }

        function selectTemplate(templateId) {
            // ê¸°ì¡´ ì„ íƒ í•´ì œ
            document.querySelectorAll('.template-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // ìƒˆë¡œìš´ ì„ íƒ
            event.target.closest('.template-card').classList.add('selected');
            selectedTemplate = templateId;
            document.getElementById('template-next-btn').disabled = false;
        }

        function goToCustomerStep3() {
            if (!selectedTemplate) {
                alert('í…œí”Œë¦¿ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }
            
            document.getElementById('customer-step2').classList.add('hidden');
            document.getElementById('customer-step3').classList.remove('hidden');
        }

        function handleCustomerPhotoUpload(event) {
            const files = event.target.files;
            const container = document.getElementById('customer-uploaded-photos');
            const nextBtn = document.getElementById('customer-photo-next-btn');
            
            customerPhotos = [];
            container.innerHTML = '';
            
            for (let file of files) {
                customerPhotos.push(file);
                const img = document.createElement('img');
                img.src = URL.createObjectURL(file);
                img.className = 'uploaded-photo';
                container.appendChild(img);
            }
            
            if (customerPhotos.length >= 3 && customerPhotos.length <= 5) {
                nextBtn.disabled = false;
            } else {
                nextBtn.disabled = true;
                if (customerPhotos.length > 0) {
                    alert('3-5ì¥ì˜ ì‚¬ì§„ì„ ì—…ë¡œë“œí•´ì£¼ì„¸ìš”.');
                }
            }
        }

        function goToCustomerStep4() {
            if (customerPhotos.length < 3 || customerPhotos.length > 5) {
                alert('3-5ì¥ì˜ ì‚¬ì§„ì„ ì—…ë¡œë“œí•´ì£¼ì„¸ìš”.');
                return;
            }
            
            document.getElementById('customer-step3').classList.add('hidden');
            document.getElementById('customer-step4').classList.remove('hidden');
        }

        function goToCustomerStep5() {
            document.getElementById('customer-step4').classList.add('hidden');
            document.getElementById('customer-step5').classList.remove('hidden');
        }

        function goToCustomerStep6() {
            document.getElementById('customer-step5').classList.add('hidden');
            document.getElementById('customer-step6').classList.remove('hidden');
        }

        function submitCustomerFeedback() {
            const feedback = document.getElementById('customer-feedback').value;
            if (!feedback) {
                alert('í”¼ë“œë°±ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // í”¼ë“œë°± ì²˜ë¦¬ ì¤‘ ë©”ì‹œì§€ í‘œì‹œ
            const feedbackSection = document.querySelector('#customer-step4 .feedback-section');
            feedbackSection.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 2rem; margin-bottom: 20px;">ğŸ”„</div>
                    <h3>í”¼ë“œë°±ì„ ë°˜ì˜í•˜ì—¬ í¬í† ì¹´ë“œë¥¼ ì¬ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤...</h3>
                    <p style="color: #666; margin-top: 10px;">AIê°€ ê°œì„ ëœ ê²°ê³¼ë¥¼ ë§Œë“¤ê³  ìˆì–´ìš”.</p>
                </div>
            `;
            
            // 3ì´ˆ í›„ ê°œì„ ëœ ìƒ˜í”Œ í‘œì‹œ
            setTimeout(() => {
                showImprovedSample();
            }, 3000);
        }
        
        function showImprovedSample() {
            const step4 = document.getElementById('customer-step4');
            step4.innerHTML = `
                <h2>ğŸ‰ ê°œì„ ëœ ìƒ˜í”Œ í¬í† ì¹´ë“œ</h2>
                <div class="sample-result">
                    <div style="background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%); height: 200px; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 1.2rem; text-shadow: 1px 1px 2px rgba(0,0,0,0.3); position: relative;">
                        <div style="text-align: center;">
                            ê°œì„ ëœ ìƒ˜í”Œ<br>í¬í† ì¹´ë“œ âœ¨<br>
                            <small style="opacity: 0.8;">Ver 2.0</small>
                        </div>
                        <div style="position: absolute; top: 10px; right: 10px; background: rgba(255,255,255,0.2); padding: 5px 10px; border-radius: 20px; font-size: 0.8rem;">
                            IMPROVED
                        </div>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <div style="background: #d4edda; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                        <strong>ê°œì„ ì‚¬í•­:</strong><br>
                        â€¢ í”¼ë“œë°±ì„ ë°”íƒ•ìœ¼ë¡œ ì–¼êµ´ í‘œí˜„ ê°œì„ <br>
                        â€¢ ë” ìì—°ìŠ¤ëŸ¬ìš´ ìƒ‰ê° ì¡°ì •<br>
                        â€¢ í…œí”Œë¦¿ê³¼ì˜ ì¡°í™” í–¥ìƒ
                    </div>
                    <button class="btn" onclick="provideMoreCustomerFeedback()" style="background: #ffc107; color: #000; margin-right: 10px;">ì¶”ê°€ ìˆ˜ì • ìš”ì²­</button>
                    <button class="btn" onclick="approveCustomerSample()" style="background: #28a745;">ì´ëŒ€ë¡œ ì£¼ë¬¸í•˜ê¸°</button>
                </div>
            `;
        }
        
        function provideMoreCustomerFeedback() {
            const step4 = document.getElementById('customer-step4');
            step4.innerHTML = `
                <h2>ì¶”ê°€ ìˆ˜ì • ìš”ì²­</h2>
                <div class="sample-result">
                    <div style="background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%); height: 200px; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">
                        í˜„ì¬ ìƒ˜í”Œ
                    </div>
                </div>
                <div class="feedback-section">
                    <div class="form-group">
                        <label>ì¶”ê°€ ìˆ˜ì • ìš”ì²­ì‚¬í•­</label>
                        <textarea id="additional-customer-feedback" rows="4" placeholder="ë” ìˆ˜ì •í•˜ê³  ì‹¶ì€ ë¶€ë¶„ì„ êµ¬ì²´ì ìœ¼ë¡œ ì ì–´ì£¼ì„¸ìš”..."></textarea>
                    </div>
                    <div class="form-group">
                        <label>í˜„ì¬ ë§Œì¡±ë„</label>
                        <select id="customer-satisfaction">
                            <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                            <option value="5">ë§¤ìš° ë§Œì¡±</option>
                            <option value="4">ë§Œì¡±</option>
                            <option value="3">ë³´í†µ</option>
                            <option value="2">ë¶ˆë§Œì¡±</option>
                            <option value="1">ë§¤ìš° ë¶ˆë§Œì¡±</option>
                        </select>
                    </div>
                    <button class="btn" onclick="submitAdditionalCustomerFeedback()">ì¶”ê°€ ìˆ˜ì • ìš”ì²­í•˜ê¸°</button>
                    <button class="btn" onclick="showImprovedSample()" style="background: #6c757d; margin-top: 10px;">ì´ì „ ê²°ê³¼ë¡œ ëŒì•„ê°€ê¸°</button>
                </div>
            `;
        }
        
        function submitAdditionalCustomerFeedback() {
            const feedback = document.getElementById('additional-customer-feedback').value;
            const satisfaction = document.getElementById('customer-satisfaction').value;
            
            if (!feedback || !satisfaction) {
                alert('ì¶”ê°€ ìˆ˜ì • ìš”ì²­ì‚¬í•­ê³¼ ë§Œì¡±ë„ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // ì¬ìƒì„± ê³¼ì • í‘œì‹œ
            const step4 = document.getElementById('customer-step4');
            step4.innerHTML = `
                <div style="text-align: center; padding: 60px 20px;">
                    <div style="font-size: 2.5rem; margin-bottom: 20px;">ğŸ¨</div>
                    <h2>ìµœì¢… í¬í† ì¹´ë“œë¥¼ ì™„ì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤</h2>
                    <p style="color: #666; margin-top: 10px; font-size: 1.1rem;">ëª¨ë“  ìš”ì²­ì‚¬í•­ì„ ë°˜ì˜í•˜ì—¬ ì™„ë²½í•œ ê²°ê³¼ë¥¼ ë§Œë“¤ê³  ìˆì–´ìš”...</p>
                    <div style="margin-top: 30px;">
                        <div style="width: 200px; height: 4px; background: #e0e0e0; border-radius: 2px; margin: 0 auto; overflow: hidden;">
                            <div style="width: 0%; height: 100%; background: #667eea; border-radius: 2px; animation: progress 4s ease-in-out forwards;"></div>
                        </div>
                    </div>
                </div>
                <style>
                    @keyframes progress {
                        0% { width: 0%; }
                        100% { width: 100%; }
                    }
                </style>
            `;
            
            // 4ì´ˆ í›„ ìµœì¢… ê²°ê³¼ í‘œì‹œ
            setTimeout(() => {
                showFinalCustomerResult();
            }, 4000);
        }
        
        function showFinalCustomerResult() {
            const step4 = document.getElementById('customer-step4');
            step4.innerHTML = `
                <h2>ğŸŒŸ ì™„ë²½í•œ í¬í† ì¹´ë“œ ì™„ì„±!</h2>
                <div class="sample-result">
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%); height: 200px; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 1.2rem; text-shadow: 1px 1px 2px rgba(0,0,0,0.5); position: relative;">
                        <div style="text-align: center;">
                            ì™„ì„±ëœ í¬í† ì¹´ë“œ<br>
                            ğŸ¯ ì™„ë²½ ë²„ì „<br>
                            <small style="opacity: 0.8;">ëª¨ë“  í”¼ë“œë°± ë°˜ì˜</small>
                        </div>
                        <div style="position: absolute; top: 10px; right: 10px; background: rgba(255,255,255,0.2); padding: 5px 10px; border-radius: 20px; font-size: 0.8rem;">
                            PERFECT
                        </div>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <div style="background: #d1ecf1; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                        <strong>ğŸ‰ ìµœì¢… ì™„ì„±!</strong><br>
                        ëª¨ë“  ìˆ˜ì • ìš”ì²­ì´ ì™„ë²½í•˜ê²Œ ë°˜ì˜ë˜ì—ˆìŠµë‹ˆë‹¤.<br>
                        ì´ì œ 4ì»· í¬í† ì¹´ë“œë¥¼ ì£¼ë¬¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </div>
                    <button class="btn" onclick="provideMoreCustomerFeedback()" style="background: #17a2b8; margin-right: 10px;">ë¯¸ì„¸ ì¡°ì •</button>
                    <button class="btn" onclick="goToCustomerStep5()" style="background: #28a745;">4ì»· í¬í† ì¹´ë“œ ì£¼ë¬¸í•˜ê¸°</button>
                </div>
            `;
        }
        
        function approveCustomerSample() {
            const step4 = document.getElementById('customer-step4');
            step4.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 3rem; margin-bottom: 20px;">âœ…</div>
                    <h2>ìƒ˜í”Œì´ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤!</h2>
                    <p style="color: #666; margin: 15px 0; font-size: 1.1rem;">ì´ì œ 4ì»· í¬í† ì¹´ë“œë¥¼ ì œì‘í•˜ì—¬ ë°°ì†¡í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.</p>
                    <button class="btn" onclick="goToCustomerStep5()" style="background: #28a745; font-size: 1.1rem; padding: 15px 30px;">4ì»· í¬í† ì¹´ë“œ ì£¼ë¬¸í•˜ê¸°</button>
                </div>
            `;
        }

        function goToCustomerStep5() {
            document.getElementById('customer-step4').classList.add('hidden');
            document.getElementById('customer-step5').classList.remove('hidden');
        }

        let selectedPaymentMethod = null;
        let currentUserType = 'influencer'; // 'influencer' or 'customer'

        function switchToInfluencer() {
            if (currentUserType === 'influencer') return;
            
            currentUserType = 'influencer';
            
            // Toggle switch animation
            const toggleSwitch = document.getElementById('toggle-switch');
            const influencerToggle = document.getElementById('influencer-toggle');
            const customerToggle = document.getElementById('customer-toggle');
            const mainSubtitle = document.getElementById('main-subtitle');
            
            toggleSwitch.classList.remove('customer');
            influencerToggle.classList.remove('inactive');
            influencerToggle.classList.add('active');
            customerToggle.classList.remove('active');
            customerToggle.classList.add('inactive');
            
            // Content transition
            const influencerContent = document.getElementById('influencer-content');
            const customerContent = document.getElementById('customer-content');
            
            customerContent.classList.remove('active');
            setTimeout(() => {
                influencerContent.classList.add('active');
                mainSubtitle.textContent = 'AIë¡œ ë§Œë“œëŠ” ë‚˜ë§Œì˜ íŠ¹ë³„í•œ í¬í† ì¹´ë“œ í…œí”Œë¦¿';
            }, 200);
        }

        function switchToCustomer() {
            if (currentUserType === 'customer') return;
            
            currentUserType = 'customer';
            
            // Toggle switch animation
            const toggleSwitch = document.getElementById('toggle-switch');
            const influencerToggle = document.getElementById('influencer-toggle');
            const customerToggle = document.getElementById('customer-toggle');
            const mainSubtitle = document.getElementById('main-subtitle');
            
            toggleSwitch.classList.add('customer');
            customerToggle.classList.remove('inactive');
            customerToggle.classList.add('active');
            influencerToggle.classList.remove('active');
            influencerToggle.classList.add('inactive');
            
            // Content transition
            const influencerContent = document.getElementById('influencer-content');
            const customerContent = document.getElementById('customer-content');
            
            influencerContent.classList.remove('active');
            setTimeout(() => {
                customerContent.classList.add('active');
                mainSubtitle.textContent = 'AIë¡œ ë§Œë“œëŠ” ë‚˜ë§Œì˜ íŠ¹ë³„í•œ í¬í† ì¹´ë“œ';
            }, 200);
        }

        function proceedToPayment() {
            const name = document.getElementById('delivery-name').value;
            const phone = document.getElementById('delivery-phone').value;
            const address = document.getElementById('delivery-address').value;
            
            if (!name || !phone || !address) {
                alert('ë°°ì†¡ ì •ë³´ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            document.getElementById('customer-step6').classList.add('hidden');
            document.getElementById('customer-step7').classList.remove('hidden');
        }

        function goBackToOrder() {
            document.getElementById('customer-step7').classList.add('hidden');
            document.getElementById('customer-step6').classList.remove('hidden');
        }

        function selectPaymentMethod(method) {
            selectedPaymentMethod = method;
            
            // ëª¨ë“  ê²°ì œ ë°©ë²• ì„ íƒ í•´ì œ
            document.querySelectorAll('.payment-method').forEach(el => {
                el.style.borderColor = '#ddd';
                el.style.backgroundColor = 'white';
            });
            
            // ì„ íƒëœ ë°©ë²• í•˜ì´ë¼ì´íŠ¸
            event.target.closest('.payment-method').style.borderColor = '#667eea';
            event.target.closest('.payment-method').style.backgroundColor = '#f0f4ff';
            
            // ëª¨ë“  ê²°ì œ í¼ ìˆ¨ê¸°ê¸°
            document.getElementById('card-payment-form').classList.add('hidden');
            document.getElementById('bank-payment-form').classList.add('hidden');
            
            // ì„ íƒëœ ê²°ì œ ë°©ë²•ì— ë”°ë¼ í¼ í‘œì‹œ
            if (method === 'card') {
                document.getElementById('card-payment-form').classList.remove('hidden');
            } else if (method === 'bank') {
                document.getElementById('bank-payment-form').classList.remove('hidden');
            }
            
            checkPaymentForm();
        }

        function formatCardNumber(input) {
            let value = input.value.replace(/\D/g, '');
            let formattedValue = value.replace(/(\d{4})(?=\d)/g, '$1-');
            if (formattedValue.length > 19) {
                formattedValue = formattedValue.substr(0, 19);
            }
            input.value = formattedValue;
            checkPaymentForm();
        }

        function formatExpiry(input) {
            let value = input.value.replace(/\D/g, '');
            if (value.length >= 2) {
                value = value.substr(0, 2) + '/' + value.substr(2, 2);
            }
            input.value = value;
            checkPaymentForm();
        }

        function checkPaymentForm() {
            const agreeTerms = document.getElementById('agree-terms').checked;
            const paymentBtn = document.getElementById('payment-btn');
            let isFormValid = false;
            
            if (selectedPaymentMethod === 'card') {
                const cardNumber = document.getElementById('card-number').value;
                const cardExpiry = document.getElementById('card-expiry').value;
                const cardCvc = document.getElementById('card-cvc').value;
                const cardPassword = document.getElementById('card-password').value;
                
                isFormValid = cardNumber.length === 19 && cardExpiry.length === 5 && 
                             cardCvc.length === 3 && cardPassword.length === 2;
            } else if (selectedPaymentMethod === 'bank') {
                const bankSelect = document.getElementById('bank-select').value;
                const accountNumber = document.getElementById('account-number').value;
                const accountHolder = document.getElementById('account-holder').value;
                
                isFormValid = bankSelect && accountNumber && accountHolder;
            } else if (selectedPaymentMethod === 'kakao' || selectedPaymentMethod === 'toss') {
                isFormValid = true; // ê°„í¸ê²°ì œëŠ” ë³„ë„ ì •ë³´ ë¶ˆí•„ìš”
            }
            
            paymentBtn.disabled = !(isFormValid && agreeTerms);
            paymentBtn.style.backgroundColor = (isFormValid && agreeTerms) ? '#dc3545' : '#ccc';
        }

        function processPayment() {
            if (!selectedPaymentMethod) {
                alert('ê²°ì œ ë°©ë²•ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // ê²°ì œ ì²˜ë¦¬ ì¤‘ í™”ë©´
            const step6 = document.getElementById('customer-step6');
            step6.innerHTML = `
                <div style="text-align: center; padding: 60px 20px;">
                    <div style="font-size: 3rem; margin-bottom: 20px;">ğŸ’³</div>
                    <h2>ê²°ì œ ì²˜ë¦¬ ì¤‘ì…ë‹ˆë‹¤...</h2>
                    <p style="color: #666; margin: 15px 0; font-size: 1.1rem;">ì•ˆì „í•œ ê²°ì œë¥¼ ìœ„í•´ ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.</p>
                    <div style="margin-top: 30px;">
                        <div style="width: 250px; height: 6px; background: #e0e0e0; border-radius: 3px; margin: 0 auto; overflow: hidden;">
                            <div style="width: 0%; height: 100%; background: #28a745; border-radius: 3px; animation: paymentProgress 3s ease-in-out forwards;"></div>
                        </div>
                        <p style="margin-top: 15px; color: #28a745; font-weight: bold;">ê²°ì œ ìŠ¹ì¸ ì¤‘...</p>
                    </div>
                </div>
                <style>
                    @keyframes paymentProgress {
                        0% { width: 0%; }
                        50% { width: 70%; }
                        100% { width: 100%; }
                    }
                </style>
            `;
            
            // 3ì´ˆ í›„ ê²°ì œ ì™„ë£Œ í™”ë©´
            setTimeout(() => {
                showPaymentComplete();
            }, 3000);
        }

        function showPaymentComplete() {
            const step6 = document.getElementById('customer-step6');
            const orderNumber = 'PC' + Date.now().toString().substr(-8);
            const deliveryDate = new Date(Date.now() + 2 * 24 * 60 * 60 * 1000).toLocaleDateString('ko-KR');
            
            step6.innerHTML = `
                <div style="text-align: center; padding: 40px 20px;">
                    <div style="font-size: 4rem; margin-bottom: 20px;">ğŸ‰</div>
                    <h2 style="color: #28a745; margin-bottom: 20px;">ê²°ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</h2>
                    
                    <div style="background: #d4edda; padding: 25px; border-radius: 15px; margin: 30px 0; text-align: left;">
                        <h3 style="color: #155724; margin-bottom: 15px; text-align: center;">ğŸ“‹ ì£¼ë¬¸ í™•ì¸ì„œ</h3>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span><strong>ì£¼ë¬¸ë²ˆí˜¸:</strong></span>
                            <span>${orderNumber}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span><strong>ìƒí’ˆëª…:</strong></span>
                            <span>4ì»· í¬í† ì¹´ë“œ</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span><strong>ê²°ì œê¸ˆì•¡:</strong></span>
                            <span style="color: #dc3545; font-weight: bold;">16,000ì›</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span><strong>ê²°ì œë°©ë²•:</strong></span>
                            <span>${getPaymentMethodName()}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span><strong>ì˜ˆìƒ ë°°ì†¡ì¼:</strong></span>
                            <span>${deliveryDate}</span>
                        </div>
                        <hr style="margin: 15px 0;">
                        <div style="text-align: center; color: #155724;">
                            <strong>ğŸ“¦ 2ì¼ í›„ ë°°ì†¡ ì‹œì‘ ì˜ˆì •</strong>
                        </div>
                    </div>
                    
                    <div style="background: #fff3cd; padding: 20px; border-radius: 10px; margin: 20px 0;">
                        <h3 style="color: #856404;">ğŸ“± ì£¼ë¬¸ ì•Œë¦¼ ì„œë¹„ìŠ¤</h3>
                        <p style="margin: 10px 0; color: #856404;">
                            â€¢ SMSë¡œ ì œì‘ ì§„í–‰ ìƒí™©ì„ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤<br>
                            â€¢ ë°°ì†¡ ì‹œì‘ ì‹œ íƒë°° ì†¡ì¥ë²ˆí˜¸ë¥¼ ë°œì†¡í•©ë‹ˆë‹¤<br>
                            â€¢ ê³ ê°ì„¼í„°: 010-1234-5678
                        </p>
                    </div>
                    
                    <div style="margin-top: 30px;">
                        <button class="btn" onclick="showMainScreen()" style="background: #667eea; font-size: 1.1rem; padding: 15px 30px; margin-right: 15px;">ğŸ  ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
                        <button class="btn" onclick="downloadReceipt()" style="background: #28a745; font-size: 1.1rem; padding: 15px 30px;">ğŸ“„ ì˜ìˆ˜ì¦ ë‹¤ìš´ë¡œë“œ</button>
                    </div>
                </div>
            `;
        }

        function getPaymentMethodName() {
            switch(selectedPaymentMethod) {
                case 'card': return 'ì‹ ìš©ì¹´ë“œ';
                case 'bank': return 'ê³„ì¢Œì´ì²´';
                case 'kakao': return 'ì¹´ì¹´ì˜¤í˜ì´';
                case 'toss': return 'í† ìŠ¤í˜ì´';
                default: return 'ê²°ì œì™„ë£Œ';
            }
        }

        function downloadReceipt() {
            alert('ì˜ìˆ˜ì¦ì´ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤! (ì‹¤ì œ êµ¬í˜„ì‹œ PDF ìƒì„±)');
        }

        function orderPhotoCard() {
            // ê¸°ì¡´ í•¨ìˆ˜ - ì‚¬ìš©í•˜ì§€ ì•ŠìŒ (proceedToPaymentë¡œ ëŒ€ì²´)
            alert('proceedToPayment í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì£¼ì„¸ìš”.');
        }

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
        document.addEventListener('DOMContentLoaded', function() {
            // ì•½ê´€ ë™ì˜ ì²´í¬ë°•ìŠ¤ ì´ë²¤íŠ¸
            const agreeTermsCheckbox = document.getElementById('agree-terms');
            if (agreeTermsCheckbox) {
                agreeTermsCheckbox.addEventListener('change', checkPaymentForm);
            }
            
            // ì¹´ë“œ ì •ë³´ ì…ë ¥ í•„ë“œ ì´ë²¤íŠ¸
            ['card-cvc', 'card-password'].forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.addEventListener('input', checkPaymentForm);
                }
            });
            
            // ê³„ì¢Œì´ì²´ ì •ë³´ ì…ë ¥ í•„ë“œ ì´ë²¤íŠ¸
            ['bank-select', 'account-number', 'account-holder'].forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.addEventListener('input', checkPaymentForm);
                    element.addEventListener('change', checkPaymentForm);
                }
            });
        });

        // ë“œë˜ê·¸ ì•¤ ë“œë¡­ ê¸°ëŠ¥
        document.addEventListener('DOMContentLoaded', function() {
            const photoUploads = document.querySelectorAll('.photo-upload');
            
            photoUploads.forEach(upload => {
                upload.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.classList.add('dragover');
                });
                
                upload.addEventListener('dragleave', function(e) {
                    e.preventDefault();
                    this.classList.remove('dragover');
                });
                
                upload.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.classList.remove('dragover');
                    
                    const files = e.dataTransfer.files;
                    if (this.querySelector('#photo-input')) {
                        document.getElementById('photo-input').files = files;
                        handlePhotoUpload({target: {files: files}});
                    } else if (this.querySelector('#customer-photo-input')) {
                        document.getElementById('customer-photo-input').files = files;
                        handleCustomerPhotoUpload({target: {files: files}});
                    }
                });
            });
        });
    </script>
</body>
</html>