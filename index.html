<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AIN - μΈν”λ£¨μ–Έμ„μ™€ ν•¨κ» μ°λ” μ¨λΌμΈ AI λ„¤μ»·μ‚¬μ§„</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;500;600;700&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Pretendard", -apple-system, BlinkMacSystemFont, system-ui,
          sans-serif;
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        min-height: 100vh;
        line-height: 1.6;
        color: #2d3748;
        margin: 0;
        padding: 0;
      }

      .app-header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        height: 80px;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(20px);
        border-bottom: 1px solid rgba(226, 232, 240, 0.8);
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 40px;
        z-index: 100;
      }

      .app-logo {
        font-size: 1.8rem;
        font-weight: 700;
        background: linear-gradient(135deg, #21afbf 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        letter-spacing: -0.02em;
      }

      .user-type-toggle {
        display: flex;
        align-items: center;
        background: rgba(226, 232, 240, 0.3);
        border-radius: 50px;
        padding: 6px;
        position: relative;
        width: 200px;
        height: 44px;
      }

      .toggle-switch {
        position: absolute;
        width: 92px;
        height: 32px;
        background: linear-gradient(135deg, #21afbf 0%, #1a8e9f 100%);
        border-radius: 26px;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 0 2px 8px rgba(33, 175, 191, 0.3);
        left: 6px;
      }

      .toggle-switch.customer {
        left: 102px;
      }

      .toggle-option {
        flex: 1;
        text-align: center;
        font-size: 0.85rem;
        font-weight: 500;
        padding: 8px 12px;
        cursor: pointer;
        transition: color 0.3s ease;
        position: relative;
        z-index: 2;
      }

      .toggle-option.active {
        color: white;
      }

      .toggle-option.inactive {
        color: #718096;
      }

      .container {
        min-height: 100vh;
        padding-top: 80px;
        width: 100%;
        max-width: 1400px;
        margin: 0 auto;
        background: transparent;
        border: none;
        border-radius: 0;
        box-shadow: none;
        backdrop-filter: none;
      }

      .main-content {
        padding: 40px 20px;
        max-width: 1200px;
        margin: 0 auto;
        position: relative;
      }

      .logo {
        font-size: 2.8rem;
        font-weight: 700;
        background: linear-gradient(135deg, #21afbf 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 16px;
        letter-spacing: -0.02em;
      }

      .subtitle {
        color: #718096;
        font-size: 1.25rem;
        font-weight: 400;
        margin-bottom: 48px;
        max-width: 500px;
        margin-left: auto;
        margin-right: auto;
      }

      .options {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 24px;
        margin-top: 32px;
      }

      .option-card {
        background: rgba(255, 255, 255, 0.8);
        border: 1px solid rgba(226, 232, 240, 0.8);
        border-radius: 16px;
        padding: 32px 24px;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        text-decoration: none;
        color: inherit;
        position: relative;
        overflow: hidden;
      }

      .option-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
          135deg,
          rgba(33, 175, 191, 0.02) 0%,
          rgba(118, 75, 162, 0.02) 100%
        );
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .option-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
        border-color: rgba(33, 175, 191, 0.3);
      }

      .option-card:hover::before {
        opacity: 1;
      }

      .option-icon {
        font-size: 2.5rem;
        margin-bottom: 20px;
        display: block;
      }

      .option-title {
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 12px;
        color: #2d3748;
        letter-spacing: -0.01em;
      }

      .option-desc {
        color: #718096;
        font-size: 1rem;
        line-height: 1.6;
        font-weight: 400;
      }

      .hidden {
        display: none;
      }

      .back-btn {
        background: rgba(113, 128, 150, 0.1);
        color: #718096;
        border: 1px solid rgba(113, 128, 150, 0.2);
        padding: 12px 20px;
        border-radius: 12px;
        cursor: pointer;
        margin-bottom: 32px;
        font-size: 0.95rem;
        font-weight: 500;
        transition: all 0.2s ease;
        display: inline-flex;
        align-items: center;
        gap: 8px;
      }

      .back-btn:hover {
        background: rgba(113, 128, 150, 0.15);
        border-color: rgba(113, 128, 150, 0.3);
        transform: translateX(-2px);
      }

      .form-container {
        text-align: left;
        margin-top: 40px;
      }

      .form-group {
        margin-bottom: 24px;
      }

      .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 500;
        color: #4a5568;
        font-size: 0.95rem;
      }

      .form-group input,
      .form-group select,
      .form-group textarea {
        width: 100%;
        padding: 16px 20px;
        border: 1.5px solid #e2e8f0;
        border-radius: 12px;
        font-size: 1rem;
        background: rgba(255, 255, 255, 0.8);
        transition: all 0.2s ease;
        font-family: inherit;
      }

      .form-group input:focus,
      .form-group select:focus,
      .form-group textarea:focus {
        outline: none;
        border-color: #21afbf;
        background: rgba(255, 255, 255, 1);
        box-shadow: 0 0 0 3px rgba(33, 175, 191, 0.1);
      }

      .btn {
        background: linear-gradient(135deg, #21afbf 0%, #1a8e9f 100%);
        color: white;
        border: none;
        padding: 16px 32px;
        border-radius: 12px;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 500;
        width: 100%;
        margin-top: 16px;
        transition: all 0.2s ease;
        box-shadow: 0 4px 12px rgba(33, 175, 191, 0.2);
      }

      .btn:hover {
        transform: translateY(-1px);
        box-shadow: 0 6px 20px rgba(33, 175, 191, 0.3);
      }

      .btn:disabled {
        background: #cbd5e0;
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
      }

      .template-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 24px;
        margin-top: 32px;
        max-width: 1200px;
        margin-left: auto;
        margin-right: auto;
      }

      .template-card {
        border: 1.5px solid #e2e8f0;
        border-radius: 16px;
        padding: 20px;
        cursor: pointer;
        transition: all 0.3s ease;
        text-align: center;
        background: rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(10px);
      }

      .template-card:hover,
      .template-card.selected {
        border-color: #21afbf;
        background: rgba(255, 255, 255, 0.95);
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(33, 175, 191, 0.15);
      }

      .template-card.multi-selected {
        border-color: #28a745;
        background: rgba(40, 167, 69, 0.1);
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(40, 167, 69, 0.2);
      }

      .theme-card {
        position: relative;
      }

      .theme-card .selection-indicator {
        position: absolute;
        top: 10px;
        right: 10px;
        width: 24px;
        height: 24px;
        border-radius: 50%;
        background: #28a745;
        color: white;
        display: none;
        align-items: center;
        justify-content: center;
        font-size: 16px;
      }

      .theme-card.multi-selected .selection-indicator {
        display: flex;
      }

      .theme-image {
        width: 100%;
        height: 160px;
        object-fit: contain;
        background: #f8f9fa;
        border-radius: 12px;
        margin-bottom: 16px;
        border: 1px solid #e2e8f0;
        padding: 8px;
      }

      .request-field {
        margin-top: 10px;
        display: none;
      }

      .theme-card.multi-selected .request-field {
        display: block;
      }

      .request-field textarea {
        width: 100%;
        padding: 8px 12px;
        border: 1px solid #e2e8f0;
        border-radius: 8px;
        font-size: 0.85rem;
        resize: vertical;
        min-height: 60px;
        font-family: inherit;
      }

      .tag-btn {
        padding: 8px 16px;
        border: 2px solid #e2e8f0;
        border-radius: 20px;
        background: white;
        color: #4a5568;
        font-size: 0.85rem;
        cursor: pointer;
        transition: all 0.2s ease;
        font-family: inherit;
      }

      .tag-btn:hover {
        border-color: #21afbf;
        background: rgba(33, 175, 191, 0.05);
      }

      .tag-btn.selected {
        border-color: #21afbf;
        background: #21afbf;
        color: white;
      }

      .template-preview {
        width: 100%;
        height: 140px;
        background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 16px;
        color: #718096;
        font-weight: 500;
        border: 1px solid #e2e8f0;
      }

      .photo-upload {
        border: 2px dashed #cbd5e0;
        border-radius: 16px;
        padding: 48px 24px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
        margin-top: 24px;
        background: rgba(255, 255, 255, 0.5);
        backdrop-filter: blur(10px);
      }

      .photo-upload:hover {
        border-color: #21afbf;
        background: rgba(33, 175, 191, 0.02);
        transform: translateY(-2px);
      }

      .photo-upload.dragover {
        border-color: #21afbf;
        background: rgba(33, 175, 191, 0.05);
        transform: scale(1.02);
      }


      .payment-method {
        border: 2px solid #e2e8f0;
        border-radius: 12px;
        padding: 16px;
        cursor: pointer;
        text-align: center;
        transition: all 0.2s ease;
        background: white;
      }

      .payment-method:hover {
        border-color: #21afbf;
        background: rgba(33, 175, 191, 0.05);
        transform: translateY(-1px);
      }

      .payment-method.selected {
        border-color: #21afbf;
        background: rgba(33, 175, 191, 0.1);
      }

      .uploaded-photos {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
        gap: 16px;
        margin-top: 24px;
      }

      .uploaded-photo {
        width: 100px;
        height: 100px;
        border-radius: 12px;
        object-fit: cover;
        border: 2px solid #e2e8f0;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      }

      .feedback-section {
        margin-top: 32px;
        padding: 24px;
        background: rgba(247, 250, 252, 0.8);
        border: 1px solid #e2e8f0;
        border-radius: 16px;
        backdrop-filter: blur(10px);
      }

      .sample-result {
        width: 100%;
        max-width: 320px;
        margin: 24px auto;
        border-radius: 16px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
        overflow: hidden;
        border: 1px solid rgba(255, 255, 255, 0.2);
      }

      .payment-method:hover {
        border-color: #21afbf !important;
        background-color: rgba(33, 175, 191, 0.02) !important;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(33, 175, 191, 0.1);
      }

      h1,
      h2,
      h3 {
        color: #2d3748;
        font-weight: 600;
        letter-spacing: -0.01em;
        margin-bottom: 20px;
      }

      h2 {
        font-size: 2rem;
        margin-bottom: 24px;
        background: linear-gradient(135deg, #2d3748 0%, #4a5568 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      h3 {
        font-size: 1.4rem;
        margin-bottom: 16px;
      }

      @media (max-width: 768px) {
        .container {
          padding: 32px 24px;
          margin: 20px auto;
        }

        .logo {
          font-size: 2.4rem;
        }

        .subtitle {
          font-size: 1.1rem;
          margin-bottom: 40px;
        }

        .options {
          grid-template-columns: 1fr;
          gap: 20px;
        }

        .option-card {
          padding: 28px 20px;
        }

        h2 {
          font-size: 1.6rem;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
          padding: 14px 16px;
        }

        .btn {
          padding: 14px 24px;
        }
      }

      @media (max-width: 1200px) {
        .container {
          max-width: 100%;
          padding: 40px 20px;
        }
        
        #influencer-profile > div > div:first-child {
          grid-template-columns: 1fr !important;
          gap: 30px !important;
        }
        
        #influencer-statistics > div:nth-child(3) {
          grid-template-columns: 1fr !important;
        }
        
        #influencer-statistics .insight-grid {
          grid-template-columns: 1fr !important;
          gap: 20px !important;
        }
      }

      @media (max-width: 768px) {
        .container {
          padding: 30px 16px;
        }

        .logo {
          font-size: 2.2rem;
        }

        .template-grid {
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 16px;
        }

        .options {
          grid-template-columns: 1fr;
          gap: 16px;
        }

        #influencer-statistics .grid-stats {
          grid-template-columns: repeat(2, 1fr) !important;
          gap: 16px !important;
        }

        h2 {
          font-size: 1.8rem;
        }

        .form-container {
          max-width: 100% !important;
        }
      }

      @media (max-width: 480px) {
        .container {
          padding: 20px 12px;
        }

        .logo {
          font-size: 1.8rem;
        }

        .subtitle {
          font-size: 1rem;
        }

        .template-grid {
          grid-template-columns: repeat(2, 1fr);
          gap: 16px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- λ΅κ·ΈμΈ ν™”λ©΄ -->
      <div id="login-screen">
        <div class="logo">π“Έ AIN</div>
        <div class="subtitle">μΈν”λ£¨μ–Έμ„μ™€ ν•¨κ» μ°λ” μ¨λΌμΈ AI λ„¤μ»·μ‚¬μ§„</div>
        
        <div class="form-container" style="max-width: 400px; margin: 0 auto;">
          <div class="form-group">
            <label>μ‚¬μ©μ μ ν•</label>
            <select id="login-user-type">
              <option value="">μ„ νƒν•΄μ£Όμ„Έμ”</option>
              <option value="customer">μΌλ° κ³ κ°</option>
              <option value="influencer">μΈν”λ£¨μ–Έμ„</option>
            </select>
          </div>
          <div class="form-group">
            <label>μ΄λ©”μΌ</label>
            <input type="email" id="login-email" placeholder="μ΄λ©”μΌμ„ μ…λ ¥ν•΄μ£Όμ„Έμ”" />
          </div>
          <div class="form-group">
            <label>λΉ„λ°€λ²νΈ</label>
            <input type="password" id="login-password" placeholder="λΉ„λ°€λ²νΈλ¥Ό μ…λ ¥ν•΄μ£Όμ„Έμ”" />
          </div>
          <button class="btn" onclick="performLogin()">λ΅κ·ΈμΈ</button>
          <p style="text-align: center; margin-top: 20px; color: #666;">
            κ³„μ •μ΄ μ—†μΌμ‹ κ°€μ”? 
            <a href="#" onclick="showSignup()" style="color: #21afbf; text-decoration: none;">νμ›κ°€μ…</a>
          </p>
        </div>
      </div>

      <!-- νμ›κ°€μ… ν™”λ©΄ -->
      <div id="signup-screen" class="hidden">
        <button class="back-btn" onclick="showLogin()">β† λ΅κ·ΈμΈμΌλ΅</button>
        <div class="logo">π“Έ AIN</div>
        <div class="subtitle">νμ›κ°€μ…</div>
        
        <div class="form-container" style="max-width: 400px; margin: 0 auto;">
          <div class="form-group">
            <label>μ΄λ¦„</label>
            <input type="text" id="signup-name" placeholder="μ΄λ¦„μ„ μ…λ ¥ν•΄μ£Όμ„Έμ”" />
          </div>
          <div class="form-group">
            <label>μ΄λ©”μΌ</label>
            <input type="email" id="signup-email" placeholder="μ΄λ©”μΌμ„ μ…λ ¥ν•΄μ£Όμ„Έμ”" />
          </div>
          <div class="form-group">
            <label>λΉ„λ°€λ²νΈ</label>
            <input type="password" id="signup-password" placeholder="λΉ„λ°€λ²νΈλ¥Ό μ…λ ¥ν•΄μ£Όμ„Έμ”" />
          </div>
          <div class="form-group">
            <label>μ‚¬μ©μ μ ν•</label>
            <select id="user-type">
              <option value="">μ„ νƒν•΄μ£Όμ„Έμ”</option>
              <option value="customer">μΌλ° κ³ κ°</option>
              <option value="influencer">μΈν”λ£¨μ–Έμ„</option>
            </select>
          </div>
          <button class="btn" onclick="performSignup()">νμ›κ°€μ…</button>
        </div>
      </div>

      <!-- λ©”μΈ ν™”λ©΄ -->
      <div id="main-screen" class="hidden">
        <div class="logo">π“Έ AIN</div>
        <div class="subtitle">μΈν”λ£¨μ–Έμ„μ™€ ν•¨κ» μ°λ” μ¨λΌμΈ AI λ„¤μ»·μ‚¬μ§„</div>

        <div class="options" id="main-options">
          <!-- μ‚¬μ©μ μ ν•λ³„ λ©”λ‰΄κ°€ μ—¬κΈ°μ— λ™μ μΌλ΅ μƒμ„±λ©λ‹λ‹¤ -->
        </div>
      </div>

      <!-- μΈν”λ£¨μ–Έμ„ ν”λ΅μ° -->
      <div id="influencer-flow" class="hidden">
        <button class="back-btn" onclick="showInfluencerMain()">β† λ©”μΈμΌλ΅</button>

        <!-- μΈν”λ£¨μ–Έμ„ 1λ‹¨κ³„: μ„λΉ„μ¤ μ‹ μ²­ -->
        <div id="influencer-step1">
          <h2>μΈν”λ£¨μ–Έμ„ μ„λΉ„μ¤ μ‹ μ²­</h2>
          <div class="form-container">
            <div class="form-group">
              <label>μ΄λ¦„</label>
              <input
                type="text"
                id="influencer-name"
                placeholder="μ΄λ¦„μ„ μ…λ ¥ν•΄μ£Όμ„Έμ”"
              />
            </div>
            <div class="form-group">
              <label>μ—°λ½μ²</label>
              <input
                type="tel"
                id="influencer-phone"
                placeholder="μ—°λ½μ²λ¥Ό μ…λ ¥ν•΄μ£Όμ„Έμ”"
              />
            </div>
            <div class="form-group">
              <label>μ΄λ©”μΌ</label>
              <input
                type="email"
                id="influencer-email"
                placeholder="μ΄λ©”μΌμ„ μ…λ ¥ν•΄μ£Όμ„Έμ”"
              />
            </div>
            <button class="btn" onclick="goToInfluencerStep2()">
              λ‹¤μ λ‹¨κ³„
            </button>
          </div>
        </div>

        <!-- μΈν”λ£¨μ–Έμ„ 2λ‹¨κ³„: SNS ID λλ” μ‚¬μ§„ μ—…λ΅λ“ -->
        <div id="influencer-step2" class="hidden">
          <h2>SNS μ •λ³΄ λλ” μ‚¬μ§„ μ κ³µ</h2>
          <div class="form-container">
            <div class="form-group">
              <label>λ°©λ²• μ„ νƒ</label>
              <select id="upload-method" onchange="toggleUploadMethod()">
                <option value="">μ„ νƒν•΄μ£Όμ„Έμ”</option>
                <option value="sns">SNS κ³„μ • μ—°λ™</option>
                <option value="photo">μ‚¬μ§„ μ§μ ‘ μ—…λ΅λ“</option>
              </select>
            </div>

            <div id="sns-section" class="hidden">
              <div class="form-group">
                <label>SNS ν”λ«νΌ</label>
                <select id="sns-platform" onchange="checkStep2Completion()">
                  <option value="">μ„ νƒν•΄μ£Όμ„Έμ”</option>
                  <option value="instagram">μΈμ¤νƒ€κ·Έλ¨</option>
                  <option value="tiktok">ν‹±ν†΅</option>
                  <option value="youtube">μ νλΈ</option>
                </select>
              </div>
              <div class="form-group">
                <label>SNS ID</label>
                <input
                  type="text"
                  id="sns-id"
                  placeholder="@username ν•νƒλ΅ μ…λ ¥ν•΄μ£Όμ„Έμ”"
                  oninput="checkStep2Completion()"
                />
              </div>
            </div>

            <div id="photo-section" class="hidden">
              <div
                class="photo-upload"
                onclick="document.getElementById('photo-input').click()"
              >
                <div>π“· μ‚¬μ§„μ„ μ—…λ΅λ“ν•λ ¤λ©΄ ν΄λ¦­ν•κ±°λ‚ λ“λκ·Έν•μ„Έμ”</div>
                <input
                  type="file"
                  id="photo-input"
                  multiple
                  accept="image/*"
                  style="display: none"
                  onchange="handlePhotoUpload(event)"
                />
              </div>
              <div id="uploaded-photos" class="uploaded-photos"></div>
            </div>

            <button
              class="btn"
              onclick="goToInfluencerStep3()"
              disabled
              id="step2-next-btn"
            >
              ν…ν”λ¦Ώ μƒμ„±ν•κΈ°
            </button>
          </div>
        </div>

        <!-- μΈν”λ£¨μ–Έμ„ 3λ‹¨κ³„: ν…ν”λ¦Ώ μ¤νƒ€μΌ μ„ νƒ -->
        <div id="influencer-step3" class="hidden">
          <h2>ν…ν”λ¦Ώ μ¤νƒ€μΌ μ„ νƒ</h2>
          <p style="color: #666; margin-bottom: 20px;">μ›ν•λ” ν…λ§λ¥Ό μ„ νƒν•μ„Έμ” (μ—¬λ¬ κ° μ„ νƒ κ°€λ¥)</p>
          <div class="template-grid" id="theme-selection-grid">
            <!-- ν…λ§ μΉ΄λ“λ“¤μ΄ μ—¬κΈ°μ— λ™μ μΌλ΅ μƒμ„±λ©λ‹λ‹¤ -->
          </div>
          <button class="btn" onclick="generateSelectedTemplates()" disabled id="generate-templates-btn">
            μ„ νƒν• ν…λ§λ΅ ν…ν”λ¦Ώ μƒμ„±
          </button>
        </div>

        <!-- μΈν”λ£¨μ–Έμ„ 4λ‹¨κ³„: ν”Όλ“λ°± λ° λ“±λ΅ -->
        <div id="influencer-step4" class="hidden">
          <h2>ν…ν”λ¦Ώ ν”Όλ“λ°± λ° λ“±λ΅</h2>
          <div class="feedback-section">
            <div class="form-group">
              <label>ν…ν”λ¦Ώμ— λ€ν• ν”Όλ“λ°±</label>
              <textarea
                id="template-feedback"
                rows="4"
                placeholder="ν…ν”λ¦Ώ κ°μ„ μ‚¬ν•­μ΄λ‚ μ”μ²­μ‚¬ν•­μ„ μμ„Έν μ μ–΄μ£Όμ„Έμ”..."
              ></textarea>
            </div>
            <div class="form-group">
              <label>λ§μ΅±λ„</label>
              <select id="satisfaction">
                <option value="">μ„ νƒν•΄μ£Όμ„Έμ”</option>
                <option value="5">λ§¤μ° λ§μ΅±</option>
                <option value="4">λ§μ΅±</option>
                <option value="3">λ³΄ν†µ</option>
                <option value="2">λ¶λ§μ΅±</option>
                <option value="1">λ§¤μ° λ¶λ§μ΅±</option>
              </select>
            </div>
            <button class="btn" onclick="submitFeedback()">ν”Όλ“λ°± μ μ¶</button>
            <button
              class="btn"
              onclick="registerTemplate()"
              style="background: #28a745; margin-top: 10px"
            >
              ν…ν”λ¦Ώ λ“±λ΅ν•κΈ°
            </button>
          </div>
        </div>

        <!-- μΈν”λ£¨μ–Έμ„ ν†µκ³„ λ€μ‹λ³΄λ“ -->
        <div id="influencer-statistics" class="hidden">
          <button class="back-btn" onclick="showInfluencerMain()">β† λ©”μΈμΌλ΅</button>
          <h2>π“ λ‚μ λ€μ‹λ³΄λ“</h2>
          
          <!-- μ£Όμ” μ§€ν‘ μΉ΄λ“λ“¤ -->
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 40px;">
            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 24px; border-radius: 16px; box-shadow: 0 8px 32px rgba(102, 126, 234, 0.3);">
              <h3 style="color: white; margin-bottom: 8px; font-size: 0.9rem; opacity: 0.9;">π’° μ΄ μμµ</h3>
              <div style="font-size: 2.2rem; font-weight: bold; margin-bottom: 4px;">β‚©1,250,000</div>
              <div style="opacity: 0.8; font-size: 0.85rem;">μ΄λ² λ‹¬: +β‚©185,000 (+17.3%)</div>
            </div>
            
            <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 24px; border-radius: 16px; box-shadow: 0 8px 32px rgba(240, 147, 251, 0.3);">
              <h3 style="color: white; margin-bottom: 8px; font-size: 0.9rem; opacity: 0.9;">π“ μ΄ μ£Όλ¬Έμ</h3>
              <div style="font-size: 2.2rem; font-weight: bold; margin-bottom: 4px;">487</div>
              <div style="opacity: 0.8; font-size: 0.85rem;">μ΄λ² λ‹¬: +42κ±΄ (+9.4%)</div>
            </div>
            
            <div style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; padding: 24px; border-radius: 16px; box-shadow: 0 8px 32px rgba(79, 172, 254, 0.3);">
              <h3 style="color: white; margin-bottom: 8px; font-size: 0.9rem; opacity: 0.9;">β­ ν‰κ·  ν‰μ </h3>
              <div style="font-size: 2.2rem; font-weight: bold; margin-bottom: 4px;">4.8</div>
              <div style="opacity: 0.8; font-size: 0.85rem;">λ¦¬λ·° 234κ° β€Ά λ§μ΅±λ„ 96%</div>
            </div>
            
            <div style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); color: white; padding: 24px; border-radius: 16px; box-shadow: 0 8px 32px rgba(250, 112, 154, 0.3);">
              <h3 style="color: white; margin-bottom: 8px; font-size: 0.9rem; opacity: 0.9;">π‘¥ ν”λ΅μ›</h3>
              <div style="font-size: 2.2rem; font-weight: bold; margin-bottom: 4px;">12.4K</div>
              <div style="opacity: 0.8; font-size: 0.85rem;">μ΄λ² μ£Ό: +287λ… (+2.4%)</div>
            </div>
          </div>

          <!-- ν…ν”λ¦Ώ μ„±κ³Ό λ¶„μ„ -->
          <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 30px; margin-bottom: 40px;">
            <div style="background: white; border-radius: 16px; border: 1px solid #e2e8f0; padding: 24px;">
              <h3 style="margin-bottom: 20px; color: #2d3748;">π† λ² μ¤νΈ ν…ν”λ¦Ώ μμ„</h3>
              <div style="space-y: 12px;">
                <div style="display: flex; align-items: center; padding: 16px; border-radius: 12px; background: #f8f9fa; margin-bottom: 12px;">
                  <div style="background: #ffd700; color: #8b6914; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; margin-right: 16px;">1</div>
                  <img src="templates/night.jpeg" style="width: 50px; height: 50px; object-fit: contain; background: #fff; border-radius: 8px; margin-right: 16px; border: 1px solid #e2e8f0;" />
                  <div style="flex: 1;">
                    <div style="font-weight: 600; color: #2d3748;">μ•Όκ²½ ν…ν”λ¦Ώ</div>
                    <div style="color: #666; font-size: 0.85rem;">187κ±΄ μ£Όλ¬Έ β€Ά β‚©467,500 β€Ά μ „ν™μ¨ 23.4%</div>
                  </div>
                  <div style="text-align: right;">
                    <div style="color: #28a745; font-weight: 600;">+15.2%</div>
                    <div style="color: #666; font-size: 0.8rem;">vs μ§€λ‚λ‹¬</div>
                  </div>
                </div>
                
                <div style="display: flex; align-items: center; padding: 16px; border-radius: 12px; background: #f8f9fa; margin-bottom: 12px;">
                  <div style="background: #c0c0c0; color: #666; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; margin-right: 16px;">2</div>
                  <img src="templates/amusement.jpeg" style="width: 50px; height: 50px; object-fit: contain; background: #fff; border-radius: 8px; margin-right: 16px; border: 1px solid #e2e8f0;" />
                  <div style="flex: 1;">
                    <div style="font-weight: 600; color: #2d3748;">λ†€μ΄κ³µμ› ν…ν”λ¦Ώ</div>
                    <div style="color: #666; font-size: 0.85rem;">163κ±΄ μ£Όλ¬Έ β€Ά β‚©407,500 β€Ά μ „ν™μ¨ 19.8%</div>
                  </div>
                  <div style="text-align: right;">
                    <div style="color: #28a745; font-weight: 600;">+8.7%</div>
                    <div style="color: #666; font-size: 0.8rem;">vs μ§€λ‚λ‹¬</div>
                  </div>
                </div>
                
                <div style="display: flex; align-items: center; padding: 16px; border-radius: 12px; background: #f8f9fa;">
                  <div style="background: #cd7f32; color: #fff; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; margin-right: 16px;">3</div>
                  <img src="templates/basic.png" style="width: 50px; height: 50px; object-fit: contain; background: #fff; border-radius: 8px; margin-right: 16px; border: 1px solid #e2e8f0;" />
                  <div style="flex: 1;">
                    <div style="font-weight: 600; color: #2d3748;">μΈμƒλ„¤μ»· ν…ν”λ¦Ώ</div>
                    <div style="color: #666; font-size: 0.85rem;">137κ±΄ μ£Όλ¬Έ β€Ά β‚©342,500 β€Ά μ „ν™μ¨ 16.2%</div>
                  </div>
                  <div style="text-align: right;">
                    <div style="color: #dc3545; font-weight: 600;">-3.4%</div>
                    <div style="color: #666; font-size: 0.8rem;">vs μ§€λ‚λ‹¬</div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- μ›”λ³„ μμµ νΈλ λ“ -->
            <div style="background: white; border-radius: 16px; border: 1px solid #e2e8f0; padding: 24px;">
              <h3 style="margin-bottom: 20px; color: #2d3748;">π“ μ›”λ³„ μμµ</h3>
              <div style="space-y: 8px;">
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0;">
                  <span style="color: #666;">12μ›”</span>
                  <span style="font-weight: 600;">β‚©185,000</span>
                </div>
                <div style="width: 100%; height: 6px; background: #e2e8f0; border-radius: 3px; margin: 4px 0;">
                  <div style="width: 85%; height: 100%; background: linear-gradient(90deg, #667eea, #764ba2); border-radius: 3px;"></div>
                </div>
                
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0;">
                  <span style="color: #666;">11μ›”</span>
                  <span style="font-weight: 600;">β‚©156,000</span>
                </div>
                <div style="width: 100%; height: 6px; background: #e2e8f0; border-radius: 3px; margin: 4px 0;">
                  <div style="width: 72%; height: 100%; background: linear-gradient(90deg, #667eea, #764ba2); border-radius: 3px;"></div>
                </div>
                
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0;">
                  <span style="color: #666;">10μ›”</span>
                  <span style="font-weight: 600;">β‚©142,000</span>
                </div>
                <div style="width: 100%; height: 6px; background: #e2e8f0; border-radius: 3px; margin: 4px 0;">
                  <div style="width: 65%; height: 100%; background: linear-gradient(90deg, #667eea, #764ba2); border-radius: 3px;"></div>
                </div>
                
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0;">
                  <span style="color: #666;">9μ›”</span>
                  <span style="font-weight: 600;">β‚©178,000</span>
                </div>
                <div style="width: 100%; height: 6px; background: #e2e8f0; border-radius: 3px; margin: 4px 0;">
                  <div style="width: 82%; height: 100%; background: linear-gradient(90deg, #667eea, #764ba2); border-radius: 3px;"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- κ³ κ° ν”Όλ“λ°± & μΈμ‚¬μ΄νΈ -->
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
            <div style="background: white; border-radius: 16px; border: 1px solid #e2e8f0; padding: 24px;">
              <h3 style="margin-bottom: 20px; color: #2d3748;">π’¬ μµκ·Ό κ³ κ° λ¦¬λ·°</h3>
              <div style="space-y: 16px;">
                <div style="padding: 16px; background: #f8f9fa; border-radius: 12px; border-left: 4px solid #ffd700;">
                  <div style="display: flex; align-items: center; margin-bottom: 8px;">
                    <div style="color: #ffd700; margin-right: 8px;">β­β­β­β­β­</div>
                    <span style="font-size: 0.85rem; color: #666;">κΉ€*μ§„λ‹</span>
                  </div>
                  <p style="color: #2d3748; font-size: 0.9rem;">"μ•Όκ²½ ν…ν”λ¦Ώ λ„λ¬΄ μλ»μ”! μΈν”λ£¨μ–Έμ„λ‹κ³Ό ν•¨κ» μ°μ€ κ²ƒ κ°™μ€ λλ‚μ΄μ—μ” β¨"</p>
                </div>
                
                <div style="padding: 16px; background: #f8f9fa; border-radius: 12px; border-left: 4px solid #28a745;">
                  <div style="display: flex; align-items: center; margin-bottom: 8px;">
                    <div style="color: #ffd700; margin-right: 8px;">β­β­β­β­β­</div>
                    <span style="font-size: 0.85rem; color: #666;">λ°•*μλ‹</span>
                  </div>
                  <p style="color: #2d3748; font-size: 0.9rem;">"λ†€μ΄κ³µμ› μ»¨μ…‰ μ™„μ „ μ·¨μ €! μΉκµ¬λ“¤μ΄ λ‹¤ λ¬Όμ–΄λ΄¤μ–΄μ” γ…γ…"</p>
                </div>
              </div>
            </div>
            
            <div style="background: white; border-radius: 16px; border: 1px solid #e2e8f0; padding: 24px;">
              <h3 style="margin-bottom: 20px; color: #2d3748;">π― μ„±κ³Ό μΈμ‚¬μ΄νΈ</h3>
              <div style="space-y: 12px;">
                <div style="padding: 12px; background: #e3f2fd; border-radius: 8px;">
                  <div style="color: #1976d2; font-weight: 600; font-size: 0.85rem;">π”¥ νΈλ λ”©</div>
                  <p style="color: #2d3748; font-size: 0.9rem; margin-top: 4px;">μ•Όκ²½ ν…λ§κ°€ 20λ€ μ—¬μ„± κ³ κ°λ“¤ μ‚¬μ΄μ—μ„ μΈκΈ° κΈ‰μƒμΉ!</p>
                </div>
                
                <div style="padding: 12px; background: #f3e5f5; border-radius: 8px;">
                  <div style="color: #7b1fa2; font-weight: 600; font-size: 0.85rem;">π“ κΈ°ν</div>
                  <p style="color: #2d3748; font-size: 0.9rem; margin-top: 4px;">μ£Όλ§ μ£Όλ¬Έλ‰μ΄ ν‰μΌ λ€λΉ„ 2.3λ°° λ†’μ•„μ”. μ£Όλ§ νΉκ°€ μ΄λ²¤νΈ κ³ λ ¤ν•΄λ³΄μ„Έμ”!</p>
                </div>
                
                <div style="padding: 12px; background: #fff3e0; border-radius: 8px;">
                  <div style="color: #ef6c00; font-weight: 600; font-size: 0.85rem;">π’΅ μ μ•</div>
                  <p style="color: #2d3748; font-size: 0.9rem; margin-top: 4px;">ν¬λ¦¬μ¤λ§μ¤ μ‹μ¦ λ§μ¶¤ ν…ν”λ¦Ώ μ¶μ‹ν•λ©΄ μμµ 20% μ¦κ°€ μμƒ!</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- μΈν”λ£¨μ–Έμ„ ν”„λ΅ν•„ νΈμ§‘ -->
        <div id="influencer-profile" class="hidden">
          <button class="back-btn" onclick="showInfluencerMain()">β† λ©”μΈμΌλ΅</button>
          <h2>β¨ λ‚μ ν”„λ΅ν•„</h2>
          
          <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 40px; max-width: 1200px; margin: 0 auto;">
            <!-- μ™Όμ½: ν”„λ΅ν•„ λ―Έλ¦¬λ³΄κΈ° -->
            <div style="background: white; border-radius: 20px; border: 1px solid #e2e8f0; padding: 32px; text-align: center; height: fit-content;">
              <h3 style="margin-bottom: 24px; color: #2d3748;">π” κ³ κ° ν™”λ©΄ λ―Έλ¦¬λ³΄κΈ°</h3>
              
              <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 24px; border-radius: 16px; color: white; margin-bottom: 20px;">
                <div style="width: 80px; height: 80px; border-radius: 50%; background: rgba(255,255,255,0.2); margin: 0 auto 16px; display: flex; align-items: center; justify-content: center; font-size: 2rem; border: 3px solid rgba(255,255,255,0.3);">π‘¤</div>
                <h3 style="color: white; margin-bottom: 8px;" id="preview-name">κΉ€μΈν”</h3>
                <div style="opacity: 0.9; font-size: 0.9rem; margin-bottom: 12px;">β­ 4.8 ν‰μ  β€Ά π‘¥ 12.4K ν”λ΅μ›</div>
                <div style="display: flex; justify-content: center; flex-wrap: wrap; gap: 6px; margin-bottom: 16px;">
                  <span style="background: rgba(255,255,255,0.2); padding: 4px 12px; border-radius: 12px; font-size: 0.8rem;">λΌμ΄ν”„μ¤νƒ€μΌ</span>
                  <span style="background: rgba(255,255,255,0.2); padding: 4px 12px; border-radius: 12px; font-size: 0.8rem;">μ—¬ν–‰</span>
                </div>
                <p style="opacity: 0.9; font-size: 0.9rem; line-height: 1.4;" id="preview-bio">μ•λ…•ν•μ„Έμ”! νΈλ λ””ν• ν¬ν† μΉ΄λ“λ¥Ό λ§λ“¤μ–΄λ“λ¦¬λ” κΉ€μΈν”μ…λ‹λ‹¤ β¨</p>
              </div>
              
              <div style="background: #f8f9fa; padding: 16px; border-radius: 12px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
                <h4 style="color: #2d3748; margin-bottom: 12px;">π“± SNS μ—°κ²°</h4>
                <div style="display: flex; justify-content: center; gap: 12px;">
                  <div style="width: 36px; height: 36px; background: linear-gradient(135deg, #833ab4 0%, #fd1d1d 50%, #fcb045 100%); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.2rem;">π“·</div>
                  <div style="width: 36px; height: 36px; background: #000; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.2rem;">πµ</div>
                  <div style="width: 36px; height: 36px; background: #ff0000; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.2rem;">π“Ί</div>
                </div>
              </div>
              
              <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px;">
                <img src="templates/night.jpeg" style="width: 100%; aspect-ratio: 1; object-fit: cover; border-radius: 8px; border: 1px solid #e2e8f0;" />
                <img src="templates/amusement.jpeg" style="width: 100%; aspect-ratio: 1; object-fit: cover; border-radius: 8px; border: 1px solid #e2e8f0;" />
                <img src="templates/basic.png" style="width: 100%; aspect-ratio: 1; object-fit: cover; border-radius: 8px; border: 1px solid #e2e8f0;" />
              </div>
            </div>
            
            <!-- μ¤λ¥Έμ½: ν”„λ΅ν•„ μ„¤μ • νΌ -->
            <div style="background: white; border-radius: 20px; border: 1px solid #e2e8f0; padding: 32px;">
              <h3 style="margin-bottom: 24px; color: #2d3748;">β™οΈ ν”„λ΅ν•„ μ„¤μ •</h3>
              
              <div class="form-group">
                <label>π­ μΈν”λ£¨μ–Έμ„ μ΄λ¦„</label>
                <input type="text" id="influencer-profile-name" placeholder="κ³ κ°μ—κ² λ³΄μ—¬μ§ μ΄λ¦„" value="κΉ€μΈν”" oninput="updatePreview()" />
                <small style="color: #666; font-size: 0.85rem;">κ³ κ°λ“¤μ΄ λ³΄λ” κ³µκ° μ΄λ¦„μ…λ‹λ‹¤</small>
              </div>
              
              <div class="form-group">
                <label>βοΈ μκΈ°μ†κ°</label>
                <textarea id="influencer-bio" rows="4" placeholder="λ‚λ§μ λ§¤λ ¥μ„ μ–΄ν•„ν•΄λ³΄μ„Έμ”!" oninput="updatePreview()">μ•λ…•ν•μ„Έμ”! νΈλ λ””ν• ν¬ν† μΉ΄λ“λ¥Ό λ§λ“¤μ–΄λ“λ¦¬λ” κΉ€μΈν”μ…λ‹λ‹¤ β¨</textarea>
                <small style="color: #666; font-size: 0.85rem;">κ³ κ°λ“¤μ—κ² λ³΄μ—¬μ§ μ†κ°κΈ€μ…λ‹λ‹¤ (μµλ€ 200μ)</small>
              </div>
              
              <div class="form-group">
                <label>π“± SNS κ³„μ •</label>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px;">
                  <div>
                    <label style="font-size: 0.85rem; color: #666; margin-bottom: 4px; display: block;">Instagram</label>
                    <input type="text" id="instagram" placeholder="@username" value="@kim_influencer" />
                  </div>
                  <div>
                    <label style="font-size: 0.85rem; color: #666; margin-bottom: 4px; display: block;">TikTok</label>
                    <input type="text" id="tiktok" placeholder="@username" />
                  </div>
                  <div>
                    <label style="font-size: 0.85rem; color: #666; margin-bottom: 4px; display: block;">YouTube</label>
                    <input type="text" id="youtube" placeholder="μ±„λ„λ…" />
                  </div>
                </div>
              </div>
              
              <div class="form-group">
                <label>π― μ „λ¬Έ λ¶„μ•Ό</label>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 12px; margin-top: 12px;">
                  <button class="tag-btn" onclick="toggleTag(this)">π‘— ν¨μ…</button>
                  <button class="tag-btn" onclick="toggleTag(this)">π’„ λ·°ν‹°</button>
                  <button class="tag-btn selected" onclick="toggleTag(this)">π  λΌμ΄ν”„μ¤νƒ€μΌ</button>
                  <button class="tag-btn selected" onclick="toggleTag(this)">βοΈ μ—¬ν–‰</button>
                  <button class="tag-btn" onclick="toggleTag(this)">π• μμ‹</button>
                  <button class="tag-btn" onclick="toggleTag(this)">π’ ν”ΌνΈλ‹μ¤</button>
                  <button class="tag-btn" onclick="toggleTag(this)">π“ κµμ΅</button>
                  <button class="tag-btn" onclick="toggleTag(this)">π® κ²μ„</button>
                </div>
                <small style="color: #666; font-size: 0.85rem; margin-top: 8px; display: block;">κ΄€μ‹¬ λ¶„μ•Όλ¥Ό μ„ νƒν•λ©΄ λ§μ¶¤ κ³ κ°μ„ μ¶”μ²λ°›μ„ μ μμ–΄μ”</small>
              </div>
              
              <div class="form-group">
                <label>π¨ ν”„λ΅ν•„ ν…λ§ μƒ‰μƒ</label>
                <div style="display: flex; gap: 12px; margin-top: 12px;">
                  <div onclick="changeThemeColor('linear-gradient(135deg, #667eea 0%, #764ba2 100%)')" style="width: 40px; height: 40px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 50%; cursor: pointer; border: 3px solid #667eea; box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);"></div>
                  <div onclick="changeThemeColor('linear-gradient(135deg, #f093fb 0%, #f5576c 100%)')" style="width: 40px; height: 40px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: 50%; cursor: pointer; border: 3px solid transparent;"></div>
                  <div onclick="changeThemeColor('linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)')" style="width: 40px; height: 40px; background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); border-radius: 50%; cursor: pointer; border: 3px solid transparent;"></div>
                  <div onclick="changeThemeColor('linear-gradient(135deg, #fa709a 0%, #fee140 100%)')" style="width: 40px; height: 40px; background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); border-radius: 50%; cursor: pointer; border: 3px solid transparent;"></div>
                </div>
              </div>
              
              <div style="display: flex; gap: 12px; margin-top: 32px;">
                <button class="btn" onclick="saveProfile()" style="flex: 1; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); font-size: 1.1rem; padding: 14px;">π’Ύ ν”„λ΅ν•„ μ €μ¥</button>
                <button class="btn" onclick="previewProfile()" style="background: #28a745; padding: 14px 20px;">π‘€ λ―Έλ¦¬λ³΄κΈ°</button>
              </div>
              
              <!-- ν”„λ΅ν•„ ν†µκ³„ -->
              <div style="background: #f8f9fa; border-radius: 12px; padding: 20px; margin-top: 24px; border: 1px solid #e2e8f0;">
                <h4 style="color: #2d3748; margin-bottom: 16px;">π“ ν”„λ΅ν•„ μ„±κ³Ό</h4>
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; text-align: center;">
                  <div>
                    <div style="font-size: 1.5rem; font-weight: bold; color: #667eea;">324</div>
                    <div style="font-size: 0.8rem; color: #666;">ν”„λ΅ν•„ μ΅°ν</div>
                  </div>
                  <div>
                    <div style="font-size: 1.5rem; font-weight: bold; color: #f093fb;">87</div>
                    <div style="font-size: 0.8rem; color: #666;">ν”λ΅μ°</div>
                  </div>
                  <div>
                    <div style="font-size: 1.5rem; font-weight: bold; color: #4facfe;">23</div>
                    <div style="font-size: 0.8rem; color: #666;">ν…ν”λ¦Ώ μ£Όλ¬Έ</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- κ³ κ° ν”λ΅μ° -->
      <div id="customer-flow" class="hidden">
        <button class="back-btn" onclick="showMainScreen()">β† λ©”μΈμΌλ΅</button>

        <!-- κ³ κ° 1λ‹¨κ³„: μΈν”λ£¨μ–Έμ„ μ„ νƒ -->
        <div id="customer-step1">
          <h2>μΈν”λ£¨μ–Έμ„ μ„ νƒ</h2>
          <p style="color: #666; margin-bottom: 20px;">ν•¨κ» μ°κ³  μ‹¶μ€ μΈν”λ£¨μ–Έμ„λ¥Ό μ„ νƒν•΄μ£Όμ„Έμ”</p>
          <div class="template-grid" id="influencer-selection-grid">
            <!-- μΈν”λ£¨μ–Έμ„ μΉ΄λ“λ“¤μ΄ μ—¬κΈ°μ— λ™μ μΌλ΅ μƒμ„±λ©λ‹λ‹¤ -->
          </div>
          <button
            class="btn"
            onclick="goToCustomerStep2()"
            disabled
            id="influencer-next-btn"
          >
            μ„ νƒν• μΈν”λ£¨μ–Έμ„μ ν…ν”λ¦Ώ λ³΄κΈ°
          </button>
        </div>

        <!-- κ³ κ° 2λ‹¨κ³„: ν…ν”λ¦Ώ μ„ νƒ -->
        <div id="customer-step2" class="hidden">
          <h2>ν…ν”λ¦Ώ μ„ νƒ</h2>
          <div class="template-grid" id="customer-template-grid">
            <!-- ν…ν”λ¦Ώ μΉ΄λ“λ“¤μ΄ μ—¬κΈ°μ— λ™μ μΌλ΅ μƒμ„±λ©λ‹λ‹¤ -->
          </div>
          <button
            class="btn"
            onclick="goToCustomerStep3()"
            disabled
            id="template-next-btn"
          >
            λ‹¤μ λ‹¨κ³„λ΅
          </button>
        </div>

        <!-- κ³ κ° 3λ‹¨κ³„: κ²°μ  -->
        <div id="customer-step3" class="hidden">
          <h2>π’³ κ²°μ ν•κΈ°</h2>
          <div style="max-width: 500px; margin: 0 auto;">
            <!-- μ£Όλ¬Έ μ”μ•½ -->
            <div style="background: white; border-radius: 16px; border: 1px solid #e2e8f0; padding: 24px; margin-bottom: 24px;">
              <h3 style="margin-bottom: 16px; color: #2d3748;">π“‹ μ£Όλ¬Έ λ‚΄μ—­</h3>
              <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                <span>AI λ„¤μ»·μ‚¬μ§„ μ μ‘</span>
                <span style="font-weight: 600;">β‚©16,000</span>
              </div>
              <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                <span style="color: #666;">μ„ νƒν• μΈν”λ£¨μ–Έμ„:</span>
                <span id="payment-influencer">-</span>
              </div>
              <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                <span style="color: #666;">μ„ νƒν• ν…ν”λ¦Ώ:</span>
                <span id="payment-template">-</span>
              </div>
              <hr style="margin: 16px 0; border: none; border-top: 1px solid #e2e8f0;">
              <div style="display: flex; justify-content: space-between; font-size: 1.2rem; font-weight: bold; color: #2d3748;">
                <span>μ΄ κ²°μ  κΈμ•΅</span>
                <span>β‚©16,000</span>
              </div>
            </div>

            <!-- κ²°μ  λ°©λ²• μ„ νƒ -->
            <div style="background: white; border-radius: 16px; border: 1px solid #e2e8f0; padding: 24px; margin-bottom: 24px;">
              <h3 style="margin-bottom: 16px; color: #2d3748;">π’³ κ²°μ  λ°©λ²•</h3>
              <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px;">
                <div onclick="selectPaymentMethod('card', this)" id="payment-card" class="payment-method">
                  <div style="font-size: 1.5rem; margin-bottom: 8px;">π’³</div>
                  <div style="font-weight: 500;">μΉ΄λ“κ²°μ </div>
                </div>
                <div onclick="selectPaymentMethod('kakao', this)" id="payment-kakao" class="payment-method">
                  <div style="font-size: 1.5rem; margin-bottom: 8px;">π’›</div>
                  <div style="font-weight: 500;">μΉ΄μΉ΄μ¤νμ΄</div>
                </div>
              </div>
            </div>

            <button class="btn" onclick="proceedToPhotoUpload()" id="payment-proceed-btn" style="width: 100%; font-size: 1.1rem; padding: 16px; background: #28a745; cursor: pointer; position: relative; z-index: 999;">
              κ²°μ  ν›„ μ‚¬μ§„ μ—…λ΅λ“ν•κΈ°
            </button>
          </div>
        </div>

        <!-- κ³ κ° 4λ‹¨κ³„: μ–Όκµ΄ μ‚¬μ§„ μ—…λ΅λ“ -->
        <div id="customer-step4" class="hidden">
          <h2>μ–Όκµ΄ μ‚¬μ§„ μ—…λ΅λ“ (3-5μ¥)</h2>
          <div
            class="photo-upload"
            onclick="document.getElementById('customer-photo-input').click()"
          >
            <div>π“· μ–Όκµ΄μ΄ μ λ³΄μ΄λ” μ‚¬μ§„ 3-5μ¥μ„ μ—…λ΅λ“ν•΄μ£Όμ„Έμ”</div>
            <input
              type="file"
              id="customer-photo-input"
              multiple
              accept="image/*"
              style="display: none"
              onchange="handleCustomerPhotoUpload(event)"
            />
          </div>
          <div id="customer-uploaded-photos" class="uploaded-photos"></div>
          <div style="margin-top: 20px; color: #666; font-size: 0.9rem">
            π’΅ λ” λ‚μ€ κ²°κ³Όλ¥Ό μ„ν• ν:<br />
            β€Ά μ •λ©΄μ—μ„ μ΄¬μν• μ‚¬μ§„<br />
            β€Ά μ–Όκµ΄μ΄ μ„ λ…ν•κ² λ³΄μ΄λ” μ‚¬μ§„<br />
            β€Ά λ‹¤μ–‘ν• κ°λ„μ μ‚¬μ§„
          </div>
          <button
            class="btn"
            onclick="goToCustomerStep4()"
            disabled
            id="customer-photo-next-btn"
          >
            μ‚¬μ§„ μ²λ¦¬ν•κΈ°
          </button>
        </div>

        <!-- κ³ κ° 5λ‹¨κ³„: μƒν” ν™•μΈ -->
        <div id="customer-step5" class="hidden">
          <h2>β¨ AI λ„¤μ»·μ‚¬μ§„ μ™„μ„±!</h2>
          <div class="sample-result" id="generated-sample-container">
            <!-- μƒμ„±λ μƒν”μ΄ μ—¬κΈ°μ— ν‘μ‹λ©λ‹λ‹¤ -->
          </div>
          <div style="display: flex; gap: 12px; justify-content: center; margin-top: 24px;">
            <button class="btn" onclick="goToCustomerStep6()" style="background: #ffc107; color: #000;">
              μμ • μ”μ²­ν•κΈ°
            </button>
            <button class="btn" onclick="goToCustomerStep7()" style="background: #28a745;">
              μ΄λ€λ΅ μ£Όλ¬Έν•κΈ°
            </button>
          </div>
        </div>

        <!-- κ³ κ° 6λ‹¨κ³„: ν”Όλ“λ°± -->
        <div id="customer-step6" class="hidden">
          <h2>μƒν”μ— λ€ν• ν”Όλ“λ°±</h2>
          <div class="feedback-section">
            <div class="form-group">
              <label>κ°μ„  μ”μ²­μ‚¬ν•­</label>
              <textarea
                id="customer-feedback"
                rows="4"
                placeholder="μμ •ν•κ³  μ‹¶μ€ λ¶€λ¶„μ΄λ‚ κ°μ„ μ‚¬ν•­μ„ μ μ–΄μ£Όμ„Έμ”..."
              ></textarea>
            </div>
            <button class="btn" onclick="submitCustomerFeedback()">
              ν”Όλ“λ°± μ μ¶
            </button>
            <button
              class="btn"
              onclick="goToCustomerStep7()"
              style="background: #28a745; margin-top: 10px"
            >
              μµμΆ… μ£Όλ¬Έν•κΈ°
            </button>
          </div>
        </div>

        <!-- κ³ κ° 7λ‹¨κ³„: μµμΆ… μ£Όλ¬Έ -->
        <div id="customer-step7" class="hidden">
          <h2>4μ»· ν¬ν† μΉ΄λ“ μ£Όλ¬Έ</h2>
          <div class="sample-result">
            <div
              style="
                background: linear-gradient(
                  135deg,
                  #667eea 0%,
                  #764ba2 50%,
                  #f093fb 100%
                );
                height: 400px;
                border-radius: 10px;
                display: flex;
                align-items: center;
                justify-content: center;
                color: white;
                font-weight: bold;
                font-size: 1.2rem;
                text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
              "
            >
              μµμΆ… 4μ»·<br />ν¬ν† μΉ΄λ“<br />π―
            </div>
          </div>

          <!-- μƒν’ μ •λ³΄ λ° κ°€κ²© -->
          <div
            style="
              background: #f8f9fa;
              padding: 20px;
              border-radius: 10px;
              margin: 20px 0;
            "
          >
            <h3 style="margin-bottom: 15px">π“‹ μ£Όλ¬Έ μ •λ³΄</h3>
            <div
              style="
                display: flex;
                justify-content: space-between;
                margin-bottom: 10px;
              "
            >
              <span>4μ»· ν¬ν† μΉ΄λ“ (κ³ ν’μ§ μΈν™”)</span>
              <span style="font-weight: bold">15,000μ›</span>
            </div>
            <div
              style="
                display: flex;
                justify-content: space-between;
                margin-bottom: 10px;
              "
            >
              <span>λ°°μ†΅λΉ„</span>
              <span>3,000μ›</span>
            </div>
            <div
              style="
                display: flex;
                justify-content: space-between;
                margin-bottom: 10px;
                color: #28a745;
              "
            >
              <span>ν• μΈ (μ²« μ£Όλ¬Έ)</span>
              <span>-2,000μ›</span>
            </div>
            <hr style="margin: 15px 0" />
            <div
              style="
                display: flex;
                justify-content: space-between;
                font-size: 1.2rem;
                font-weight: bold;
                color: #dc3545;
              "
            >
              <span>μ΄ κ²°μ κΈμ•΅</span>
              <span>16,000μ›</span>
            </div>
          </div>

          <div class="form-container">
            <h3 style="margin-bottom: 20px">π“¦ λ°°μ†΅ μ •λ³΄</h3>
            <div class="form-group">
              <label>λ°›λ” λ¶„ μ΄λ¦„</label>
              <input
                type="text"
                id="delivery-name"
                placeholder="λ°›λ” λ¶„ μ΄λ¦„μ„ μ…λ ¥ν•΄μ£Όμ„Έμ”"
              />
            </div>
            <div class="form-group">
              <label>μ—°λ½μ²</label>
              <input
                type="tel"
                id="delivery-phone"
                placeholder="ν΄λ€ν° λ²νΈλ¥Ό μ…λ ¥ν•΄μ£Όμ„Έμ”"
              />
            </div>
            <div class="form-group">
              <label>λ°°μ†΅ μ£Όμ†</label>
              <textarea
                id="delivery-address"
                rows="3"
                placeholder="μƒμ„Έ μ£Όμ†κΉμ§€ μ •ν™•ν μ…λ ¥ν•΄μ£Όμ„Έμ”"
              ></textarea>
            </div>
            <div class="form-group">
              <label>λ°°μ†΅ μ”μ²­μ‚¬ν•­ (μ„ νƒ)</label>
              <input
                type="text"
                id="delivery-memo"
                placeholder="λ°°μ†΅μ‹ μ”μ²­μ‚¬ν•­μ΄ μμΌλ©΄ μ μ–΄μ£Όμ„Έμ”"
              />
            </div>

            <div style="margin-top: 30px;">
              <h3 style="margin-bottom: 20px">π“¤ μλ Ή λ°©λ²• μ„ νƒ</h3>
              <div style="display: flex; gap: 15px; justify-content: center;">
                <button
                  class="btn"
                  onclick="selectDeliveryMethod('shipping')"
                  style="
                    background: #28a745;
                    font-size: 1.1rem;
                    padding: 15px 20px;
                    flex: 1;
                  "
                >
                  π“¦ λ°°μ†΅μΌλ΅ λ°›κΈ°
                </button>
                <button
                  class="btn"
                  onclick="selectDeliveryMethod('kakao')"
                  style="
                    background: #ffc107;
                    color: #000;
                    font-size: 1.1rem;
                    padding: 15px 20px;
                    flex: 1;
                  "
                >
                  π’¬ μΉ΄μΉ΄μ¤ν†΅ μ „μ†΅
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- κ³ κ° 8λ‹¨κ³„: λ°°μ†΅μ •λ³΄ λ° μµμΆ…κ²°μ  -->
        <div id="customer-step8" class="hidden">
          <h2>π’³ κ²°μ  μ •λ³΄ μ…λ ¥</h2>

          <!-- μ£Όλ¬Έ μ”μ•½ -->
          <div
            style="
              background: #e3f2fd;
              padding: 20px;
              border-radius: 10px;
              margin-bottom: 30px;
            "
          >
            <h3 style="margin-bottom: 15px; color: #1976d2">π“‹ μ£Όλ¬Έ μ”μ•½</h3>
            <div
              style="
                display: flex;
                justify-content: space-between;
                margin-bottom: 8px;
              "
            >
              <span>μƒν’: 4μ»· ν¬ν† μΉ΄λ“</span>
              <span>15,000μ›</span>
            </div>
            <div
              style="
                display: flex;
                justify-content: space-between;
                margin-bottom: 8px;
              "
            >
              <span>λ°°μ†΅λΉ„</span>
              <span>3,000μ›</span>
            </div>
            <div
              style="
                display: flex;
                justify-content: space-between;
                margin-bottom: 8px;
                color: #28a745;
              "
            >
              <span>μ²« μ£Όλ¬Έ ν• μΈ</span>
              <span>-2,000μ›</span>
            </div>
            <hr />
            <div
              style="
                display: flex;
                justify-content: space-between;
                font-weight: bold;
                font-size: 1.1rem;
                color: #dc3545;
              "
            >
              <span>μ΄ κ²°μ κΈμ•΅</span>
              <span>16,000μ›</span>
            </div>
          </div>

          <div class="form-container">
            <!-- κ²°μ  λ°©λ²• μ„ νƒ -->
            <div class="form-group">
              <label>κ²°μ  λ°©λ²•</label>
              <div
                style="
                  display: grid;
                  grid-template-columns: repeat(2, 1fr);
                  gap: 15px;
                  margin-top: 10px;
                "
              >
                <div
                  class="payment-method"
                  onclick="selectPaymentMethod('card', this)"
                  style="
                    border: 2px solid #ddd;
                    padding: 15px;
                    border-radius: 10px;
                    text-align: center;
                    cursor: pointer;
                    transition: all 0.3s;
                  "
                >
                  π’³<br /><strong>μ‹ μ©μΉ΄λ“</strong><br /><small>μ¦‰μ‹κ²°μ </small>
                </div>
                <div
                  class="payment-method"
                  onclick="selectPaymentMethod('bank', this)"
                  style="
                    border: 2px solid #ddd;
                    padding: 15px;
                    border-radius: 10px;
                    text-align: center;
                    cursor: pointer;
                    transition: all 0.3s;
                  "
                >
                  π¦<br /><strong>κ³„μΆμ΄μ²΄</strong><br /><small
                    >μ‹¤μ‹κ°„μ΄μ²΄</small
                  >
                </div>
              </div>
              <div
                style="
                  display: grid;
                  grid-template-columns: repeat(2, 1fr);
                  gap: 15px;
                  margin-top: 15px;
                "
              >
                <div
                  class="payment-method"
                  onclick="selectPaymentMethod('kakao', this)"
                  style="
                    border: 2px solid #ddd;
                    padding: 15px;
                    border-radius: 10px;
                    text-align: center;
                    cursor: pointer;
                    transition: all 0.3s;
                  "
                >
                  π’›<br /><strong>μΉ΄μΉ΄μ¤νμ΄</strong><br /><small
                    >κ°„νΈκ²°μ </small
                  >
                </div>
                <div
                  class="payment-method"
                  onclick="selectPaymentMethod('toss', this)"
                  style="
                    border: 2px solid #ddd;
                    padding: 15px;
                    border-radius: 10px;
                    text-align: center;
                    cursor: pointer;
                    transition: all 0.3s;
                  "
                >
                  π”µ<br /><strong>ν† μ¤νμ΄</strong><br /><small>κ°„νΈκ²°μ </small>
                </div>
              </div>
            </div>

            <!-- μ‹ μ©μΉ΄λ“ κ²°μ  νΌ -->
            <div id="card-payment-form" class="hidden">
              <h3 style="margin: 30px 0 20px 0">π’³ μ‹ μ©μΉ΄λ“ μ •λ³΄</h3>
              <div class="form-group">
                <label>μΉ΄λ“λ²νΈ</label>
                <input
                  type="text"
                  id="card-number"
                  placeholder="1234-5678-9012-3456"
                  maxlength="19"
                  oninput="formatCardNumber(this)"
                />
              </div>
              <div
                style="
                  display: grid;
                  grid-template-columns: 1fr 1fr 1fr;
                  gap: 15px;
                "
              >
                <div class="form-group">
                  <label>μ ν¨κΈ°κ°„</label>
                  <input
                    type="text"
                    id="card-expiry"
                    placeholder="MM/YY"
                    maxlength="5"
                    oninput="formatExpiry(this)"
                  />
                </div>
                <div class="form-group">
                  <label>CVC</label>
                  <input
                    type="text"
                    id="card-cvc"
                    placeholder="123"
                    maxlength="3"
                  />
                </div>
                <div class="form-group">
                  <label>ν• λ¶€</label>
                  <select id="installment">
                    <option value="0">μΌμ‹λ¶</option>
                    <option value="2">2κ°μ›”</option>
                    <option value="3">3κ°μ›”</option>
                    <option value="6">6κ°μ›”</option>
                  </select>
                </div>
              </div>
              <div class="form-group">
                <label>μΉ΄λ“ λΉ„λ°€λ²νΈ μ• 2μλ¦¬</label>
                <input
                  type="password"
                  id="card-password"
                  placeholder="**"
                  maxlength="2"
                />
              </div>
            </div>

            <!-- κ³„μΆμ΄μ²΄ νΌ -->
            <div id="bank-payment-form" class="hidden">
              <h3 style="margin: 30px 0 20px 0">π¦ κ³„μΆμ΄μ²΄ μ •λ³΄</h3>
              <div class="form-group">
                <label>μ€ν–‰ μ„ νƒ</label>
                <select id="bank-select">
                  <option value="">μ€ν–‰μ„ μ„ νƒν•΄μ£Όμ„Έμ”</option>
                  <option value="kb">KBκµ­λ―Όμ€ν–‰</option>
                  <option value="shinhan">μ‹ ν•μ€ν–‰</option>
                  <option value="woori">μ°λ¦¬μ€ν–‰</option>
                  <option value="hana">ν•λ‚μ€ν–‰</option>
                  <option value="nh">NHλ†ν‘μ€ν–‰</option>
                </select>
              </div>
              <div class="form-group">
                <label>κ³„μΆλ²νΈ</label>
                <input
                  type="text"
                  id="account-number"
                  placeholder="κ³„μΆλ²νΈλ¥Ό μ…λ ¥ν•΄μ£Όμ„Έμ”"
                />
              </div>
              <div class="form-group">
                <label>μκΈμ£Όλ…</label>
                <input
                  type="text"
                  id="account-holder"
                  placeholder="μκΈμ£Όλ…μ„ μ…λ ¥ν•΄μ£Όμ„Έμ”"
                />
              </div>
            </div>

            <div
              style="
                background: #fff3cd;
                padding: 15px;
                border-radius: 8px;
                margin: 20px 0;
              "
            >
              <div
                style="display: flex; align-items: center; margin-bottom: 10px"
              >
                <input
                  type="checkbox"
                  id="agree-terms"
                  style="margin-right: 10px"
                />
                <label for="agree-terms"
                  >κ²°μ  μ§„ν–‰ λ° κ°μΈμ •λ³΄ μμ§‘Β·μ΄μ©μ— λ™μν•©λ‹λ‹¤.</label
                >
              </div>
              <div style="display: flex; align-items: center">
                <input
                  type="checkbox"
                  id="agree-marketing"
                  style="margin-right: 10px"
                />
                <label for="agree-marketing"
                  >λ§μΌ€ν… μ •λ³΄ μμ‹ μ— λ™μν•©λ‹λ‹¤. (μ„ νƒ)</label
                >
              </div>
            </div>

            <button
              class="btn"
              onclick="processPayment()"
              id="payment-btn"
              style="
                background: #dc3545;
                font-size: 1.2rem;
                padding: 18px;
                margin-top: 20px;
                position: relative;
                z-index: 999;
                pointer-events: auto;
                cursor: pointer;
              "
            >
              π”’ 16,000μ› κ²°μ ν•κΈ°
            </button>
            <button
              class="btn"
              onclick="goBackToOrder()"
              style="background: #6c757d; margin-top: 10px"
            >
              β† μ£Όλ¬Έ μ •λ³΄ μμ •
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      let selectedTemplate = null;
      let selectedInfluencer = null;
      let customerPhotos = [];
      let influencerPhotos = [];
      let currentUserType = null;
      let selectedThemes = new Set();
      
      // μΈν”λ£¨μ–Έμ„ λ°μ΄ν„°
      const influencerData = [
        { id: 'danaka', name: 'λ‹¤λ‚μΉ΄', image: 'assets/influencers/danaka.png', description: 'κ·€μ—¬μ΄ μ¤νƒ€μΌμ μ „λ¬Έκ°€' },
        { id: 'mijo', name: 'μ§λ―Έμ΅°', image: 'assets/influencers/mijo.png', description: 'νΈλ λ””ν• κ°μ„±μ ν¬λ¦¬μ—μ΄ν„°' },
        { id: 'sabae', name: 'μ΄μ‚¬λ°°', image: 'assets/influencers/sabae.png', description: 'μ„Έλ ¨λ μ»¨μ…‰μ μΈν”λ£¨μ–Έμ„' }
      ];
      
      // ν…λ§ λ°μ΄ν„°
      const themeData = [
        { id: 'night', name: 'μ•Όκ²½', image: 'assets/theme/night.jpeg', description: 'λ΅λ§¨ν‹±ν• μ•Όκ²½ λ°°κ²½' },
        { id: 'basic', name: 'μΈμƒλ„¤μ»·', image: 'assets/theme/basic.png', description: 'ν΄λμ‹ν• μΈμƒλ„¤μ»· μ¤νƒ€μΌ' },
        { id: 'amusement', name: 'λ†€μ΄κ³µμ›', image: 'assets/theme/amusement.jpeg', description: 'μ¦κ±°μ΄ λ†€μ΄κ³µμ› ν…λ§' }
      ];

      // ν…ν”λ¦Ώ λ°μ΄ν„° (κ° μΈν”λ£¨μ–Έμ„λ³„)
      const templateData = [
        { id: 'night_template', name: 'μ•Όκ²½ ν…ν”λ¦Ώ', image: 'assets/templates/night.jpeg', influencer: 'danaka', theme: 'night' },
        { id: 'basic_template', name: 'μΈμƒλ„¤μ»· ν…ν”λ¦Ώ', image: 'assets/templates/basic.png', influencer: 'mijo', theme: 'basic' },
        { id: 'amusement_template', name: 'λ†€μ΄κ³µμ› ν…ν”λ¦Ώ', image: 'assets/templates/amusement.jpeg', influencer: 'sabae', theme: 'amusement' }
      ];

      // ν™”λ©΄ μ „ν™ ν•¨μλ“¤
      function showLogin() {
        hideAllScreens();
        document.getElementById("login-screen").classList.remove("hidden");
      }

      function showSignup() {
        hideAllScreens();
        document.getElementById("signup-screen").classList.remove("hidden");
      }

      function showMainScreen() {
        hideAllScreens();
        document.getElementById("main-screen").classList.remove("hidden");
        loadMainContent();
      }

      function showInfluencerFlow() {
        hideAllScreens();
        document.getElementById("influencer-flow").classList.remove("hidden");
        resetInfluencerFlow();
      }

      function showCustomerFlow() {
        hideAllScreens();
        document.getElementById("customer-flow").classList.remove("hidden");
        resetCustomerFlow();
        loadInfluencerSelection();
      }

      function showInfluencerMain() {
        hideAllScreens();
        document.getElementById("main-screen").classList.remove("hidden");
        loadMainContent();
      }

      function showInfluencerStatistics() {
        hideAllScreens();
        document.getElementById("influencer-statistics").classList.remove("hidden");
      }

      function showInfluencerProfile() {
        hideAllScreens();
        document.getElementById("influencer-profile").classList.remove("hidden");
      }

      function hideAllScreens() {
        document.querySelectorAll('.container > div').forEach(screen => {
          screen.classList.add('hidden');
        });
      }

      // λ΅κ·ΈμΈ/νμ›κ°€μ… λ΅μ§
      function performLogin() {
        const userType = document.getElementById("login-user-type").value;
        const email = document.getElementById("login-email").value;
        const password = document.getElementById("login-password").value;

        if (!userType || !email || !password) {
          alert("λ¨λ“  μ •λ³΄λ¥Ό μ…λ ¥ν•΄μ£Όμ„Έμ”.");
          return;
        }

        currentUserType = userType;
        alert("λ΅κ·ΈμΈλμ—μµλ‹λ‹¤!");
        showMainScreen();
      }

      function performSignup() {
        const name = document.getElementById("signup-name").value;
        const email = document.getElementById("signup-email").value;
        const password = document.getElementById("signup-password").value;
        const userType = document.getElementById("user-type").value;

        if (!name || !email || !password || !userType) {
          alert("λ¨λ“  μ •λ³΄λ¥Ό μ…λ ¥ν•΄μ£Όμ„Έμ”.");
          return;
        }

        currentUserType = userType;
        alert("νμ›κ°€μ…μ΄ μ™„λ£λμ—μµλ‹λ‹¤!");
        showMainScreen();
      }

      // λ©”μΈ ν™”λ©΄ μ½ν…μΈ  λ΅λ“
      function loadMainContent() {
        const mainOptions = document.getElementById("main-options");
        
        if (currentUserType === 'influencer') {
          mainOptions.innerHTML = `
            <div class="option-card" onclick="showInfluencerFlow()">
              <div class="option-icon">β¨</div>
              <div class="option-title">μƒ ν…ν”λ¦Ώ λ§λ“¤κΈ°</div>
              <div class="option-desc">
                λ‚λ§μ λ…νΉν• ν…λ§λ΅<br />
                μƒλ΅μ΄ ν…ν”λ¦Ώμ„ μ μ‘ν•μ„Έμ”
              </div>
            </div>
            <div class="option-card" onclick="showInfluencerStatistics()">
              <div class="option-icon">π“</div>
              <div class="option-title">ν†µκ³„ λ³΄κΈ°</div>
              <div class="option-desc">
                ν…ν”λ¦Ώλ³„ μ£Όλ¬Έ ν„ν™©κ³Ό<br />
                μμµμ„ ν™•μΈν•μ„Έμ”
              </div>
            </div>
            <div class="option-card" onclick="showInfluencerProfile()">
              <div class="option-icon">π‘¤</div>
              <div class="option-title">ν”„λ΅ν•„ μ„¤μ •</div>
              <div class="option-desc">
                κ³ κ°μ—κ² λ³΄μ—¬μ§<br />
                ν”„λ΅ν•„μ„ κΎΈλ©°λ³΄μ„Έμ”
              </div>
            </div>
          `;
        } else {
          mainOptions.innerHTML = `
            <div class="option-card" onclick="showCustomerFlow()">
              <div class="option-icon">π“Έ</div>
              <div class="option-title">AI λ„¤μ»·μ‚¬μ§„ μ£Όλ¬Έ</div>
              <div class="option-desc">
                μΈν”λ£¨μ–Έμ„μ ν…ν”λ¦Ώμ„ μ„ νƒν•κ³ <br />
                λ‚λ§μ AI λ„¤μ»·μ‚¬μ§„μ„ λ§λ“¤μ–΄λ³΄μ„Έμ”
              </div>
            </div>
          `;
        }
      }

      // μΈν”λ£¨μ–Έμ„ ν…ν”λ¦Ώ μƒμ„± ν”λ΅μ° μ΄κΈ°ν™”
      function resetInfluencerFlow() {
        // λ¨λ“  λ‹¨κ³„ μ¨κΈ°κΈ°
        document.querySelectorAll('#influencer-flow > div').forEach(step => {
          step.classList.add('hidden');
        });
        // λ°”λ΅ ν…λ§ μ„ νƒ λ‹¨κ³„λ΅
        document.getElementById('influencer-step3').classList.remove('hidden');
        selectedThemes.clear();
        loadThemeSelection();
      }

      function loadThemeSelection() {
        const grid = document.getElementById('theme-selection-grid');
        grid.innerHTML = themeData.map(theme => `
          <div class="template-card theme-card" onclick="toggleThemeSelection('${theme.id}')">
            <div class="selection-indicator">β“</div>
            <img src="${theme.image}" alt="${theme.name}" class="theme-image" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
            <div style="display: none; width: 100%; height: 160px; background: #f0f4ff; border-radius: 12px; margin-bottom: 16px; border: 1px solid #e2e8f0; align-items: center; justify-content: center; color: #667eea; font-weight: 500; font-size: 0.9rem;">${theme.name}</div>
            <div style="font-weight: 500; margin-bottom: 8px;">${theme.name}</div>
            <div style="color: #666; font-size: 0.85rem;">${theme.description}</div>
            <div class="request-field">
              <textarea placeholder="μ΄ ν…λ§μ— λ€ν• νΉλ³„ν• μ”μ²­μ‚¬ν•­μ΄ μλ‹¤λ©΄ μ μ–΄μ£Όμ„Έμ”..." id="request-${theme.id}"></textarea>
            </div>
          </div>
        `).join('');
      }

      function toggleThemeSelection(themeId) {
        const card = event.currentTarget;
        
        if (selectedThemes.has(themeId)) {
          selectedThemes.delete(themeId);
          card.classList.remove('multi-selected');
        } else {
          selectedThemes.add(themeId);
          card.classList.add('multi-selected');
        }
        
        document.getElementById('generate-templates-btn').disabled = selectedThemes.size === 0;
      }

      function generateSelectedTemplates() {
        if (selectedThemes.size === 0) {
          alert("μµμ† ν•λ‚μ ν…λ§λ¥Ό μ„ νƒν•΄μ£Όμ„Έμ”.");
          return;
        }

        const requests = {};
        selectedThemes.forEach(themeId => {
          const textarea = document.getElementById(`request-${themeId}`);
          if (textarea.value.trim()) {
            requests[themeId] = textarea.value.trim();
          }
        });

        // AI μƒμ„± μ‹λ®¬λ μ΄μ…
        showTemplateGenerationProgress();
        
        setTimeout(() => {
          showGeneratedTemplates();
          goToInfluencerStep4();
        }, 3000);
      }

      function showTemplateGenerationProgress() {
        const step3 = document.getElementById('influencer-step3');
        step3.innerHTML = `
          <div style="text-align: center; padding: 60px 20px;">
            <div style="font-size: 3rem; margin-bottom: 20px; animation: spin 1s linear infinite;">β¨</div>
            <h2>AIκ°€ λ‹Ήμ‹ λ§μ ν…ν”λ¦Ώμ„ μƒμ„±ν•κ³  μμ–΄μ”...</h2>
            <p style="color: #666; margin: 15px 0; font-size: 1.1rem;">μ„ νƒν•μ‹  ν…λ§λ“¤μ„ λ°”νƒ•μΌλ΅ μ™„λ²½ν• ν…ν”λ¦Ώμ„ λ§λ“¤κ³  μμµλ‹λ‹¤!</p>
            <div style="width: 200px; height: 4px; background: #e2e8f0; border-radius: 2px; margin: 20px auto; overflow: hidden;">
              <div style="width: 100%; height: 100%; background: linear-gradient(90deg, #667eea, #764ba2); border-radius: 2px; animation: progress 3s ease-in-out;"></div>
            </div>
          </div>
        `;
      }

      function showGeneratedTemplates() {
        const step3 = document.getElementById('influencer-step3');
        const selectedThemeList = Array.from(selectedThemes);
        
        const templatePreviews = selectedThemeList.map(themeId => {
          const themeInfo = themeData.find(t => t.id === themeId);
          const templateInfo = templateData.find(t => t.theme === themeId);
          const imagePath = templateInfo ? templateInfo.image : `templates/${themeId}.jpeg`;
          
          console.log(`Theme: ${themeId}, Template Info:`, templateInfo, `Image Path: ${imagePath}`);
          
          return `
            <div style="text-align: center; margin: 20px;">
              <img src="${imagePath}" alt="${themeId} ν…ν”λ¦Ώ" 
                   style="max-width: 200px; height: auto; border-radius: 12px; box-shadow: 0 4px 16px rgba(0,0,0,0.1); border: 1px solid #e2e8f0;"
                   onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" 
                   onload="console.log('μ΄λ―Έμ§€ λ΅λ“ μ„±κ³µ: ${imagePath}')" />
              <div style="display: none; width: 200px; height: 150px; background: #f0f4ff; border-radius: 12px; border: 1px solid #e2e8f0; align-items: center; justify-content: center; color: #667eea; font-weight: 500; flex-direction: column;">
                <div>π“·</div>
                <div style="margin-top: 8px; font-size: 0.9rem;">${themeInfo?.name || themeId}</div>
                <div style="font-size: 0.7rem; opacity: 0.7; margin-top: 4px;">ν…ν”λ¦Ώ</div>
              </div>
              <h4 style="margin-top: 12px; color: #2d3748;">${themeInfo?.name || themeId} ν…ν”λ¦Ώ</h4>
            </div>
          `;
        }).join('');

        step3.innerHTML = `
          <h2>π‰ ν…ν”λ¦Ώ μƒμ„± μ™„λ£!</h2>
          <p style="color: #666; margin-bottom: 30px; text-align: center;">μ„ νƒν•μ‹  ν…λ§λ“¤λ΅ λ©‹μ§„ ν…ν”λ¦Ώμ΄ μ™„μ„±λμ—μ–΄μ”!</p>
          <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 30px; margin: 30px 0;">
            ${templatePreviews}
          </div>
          <div style="text-align: center;">
            <button class="btn" onclick="goToInfluencerStep4()" style="background: #28a745; font-size: 1.1rem; padding: 14px 28px;">
              ν…ν”λ¦Ώ λ“±λ΅ν•κ³  ν”Όλ“λ°± λ°›κΈ°
            </button>
          </div>
        `;
      }

      // κ³ κ° ν”λ΅μ° κ΄€λ ¨ ν•¨μλ“¤
      function resetCustomerFlow() {
        // λ¨λ“  κ³ κ° λ‹¨κ³„ μ¨κΈ°κΈ°
        document.querySelectorAll('#customer-flow > div').forEach(step => {
          if (step.id.startsWith('customer-step')) {
            step.classList.add('hidden');
          }
        });
        document.getElementById('customer-step1').classList.remove('hidden');
        selectedInfluencer = null;
        selectedTemplate = null;
      }

      function loadInfluencerSelection() {
        const grid = document.getElementById('influencer-selection-grid');
        grid.innerHTML = influencerData.map(influencer => `
          <div class="template-card" onclick="selectInfluencer('${influencer.id}')">
            <img src="${influencer.image}" alt="${influencer.name}" class="theme-image" />
            <div style="font-weight: 500;">${influencer.name}</div>
            <div style="color: #666; font-size: 0.85rem;">${influencer.description}</div>
          </div>
        `).join('');
      }

      function selectInfluencer(influencerId) {
        // κΈ°μ΅΄ μ„ νƒ ν•΄μ 
        document.querySelectorAll('#influencer-selection-grid .template-card').forEach(card => {
          card.classList.remove('selected');
        });
        
        // μƒλ΅μ΄ μ„ νƒ
        event.currentTarget.classList.add('selected');
        selectedInfluencer = influencerId;
        document.getElementById('influencer-next-btn').disabled = false;
      }

      function loadCustomerTemplates() {
        if (!selectedInfluencer) return;
        
        const grid = document.getElementById('customer-template-grid');
        // λ¨λ“  ν…ν”λ¦Ώμ„ λ³΄μ—¬μ£Όλ, μ„ νƒν• μΈν”λ£¨μ–Έμ„ μ •λ³΄ ν‘μ‹
        const selectedInfluencerName = influencerData.find(inf => inf.id === selectedInfluencer)?.name;
        
        grid.innerHTML = templateData.map((template, index) => `
          <div class="template-card" onclick="selectTemplate('${template.id}')">
            <img src="${template.image}" alt="${template.name}" class="theme-image" 
                 onerror="console.log('κ³ κ° ν…ν”λ¦Ώ μ΄λ―Έμ§€ λ΅λ“ μ‹¤ν¨: ${template.image}'); this.style.display='none'; this.nextElementSibling.style.display='flex';"
                 onload="console.log('κ³ κ° ν…ν”λ¦Ώ μ΄λ―Έμ§€ λ΅λ“ μ„±κ³µ: ${template.image}')" />
            <div style="display: none; width: 100%; height: 160px; background: #f0f4ff; border-radius: 12px; border: 1px solid #e2e8f0; align-items: center; justify-content: center; color: #667eea; font-weight: 500; flex-direction: column; margin-bottom: 16px;">
              <div>π“·</div>
              <div style="margin-top: 8px; font-size: 0.9rem;">${template.name}</div>
            </div>
            <div style="font-weight: 500;">${template.name}</div>
            <div style="color: #666; font-size: 0.85rem;">with ${selectedInfluencerName}</div>
          </div>
        `).join('');
      }

      // νƒκ·Έ ν† κΈ€ ν•¨μ
      function toggleTag(button) {
        button.classList.toggle('selected');
      }

      function saveProfile() {
        alert("ν”„λ΅ν•„μ΄ μ €μ¥λμ—μµλ‹λ‹¤!");
      }

      function updatePreview() {
        const name = document.getElementById('influencer-profile-name').value;
        const bio = document.getElementById('influencer-bio').value;
        
        document.getElementById('preview-name').textContent = name || 'κΉ€μΈν”';
        document.getElementById('preview-bio').textContent = bio || 'μ•λ…•ν•μ„Έμ”! νΈλ λ””ν• ν¬ν† μΉ΄λ“λ¥Ό λ§λ“¤μ–΄λ“λ¦¬λ” κΉ€μΈν”μ…λ‹λ‹¤ β¨';
      }

      function changeThemeColor(gradient) {
        // λ¨λ“  μƒ‰μƒ μ›λ“¤μ ν…λ‘λ¦¬ μ΄κΈ°ν™”
        document.querySelectorAll('[onclick*="changeThemeColor"]').forEach(el => {
          el.style.border = '3px solid transparent';
        });
        
        // μ„ νƒλ μƒ‰μƒμ— ν…λ‘λ¦¬ μ¶”κ°€
        event.currentTarget.style.border = '3px solid rgba(102, 126, 234, 0.8)';
        event.currentTarget.style.boxShadow = '0 2px 8px rgba(102, 126, 234, 0.3)';
        
        // λ―Έλ¦¬λ³΄κΈ° μ—…λ°μ΄νΈ
        const previewCard = document.querySelector('#influencer-profile .gradient-card');
        if (previewCard) {
          previewCard.style.background = gradient;
        }
      }

      function previewProfile() {
        alert('ν”„λ΅ν•„ λ―Έλ¦¬λ³΄κΈ°λ¥Ό μƒ μ°½μ—μ„ μ—΄κ² μµλ‹λ‹¤!');
      }

      // μΈν”λ£¨μ–Έμ„ ν”λ΅μ° ν•¨μλ“¤
      function goToInfluencerStep2() {
        const name = document.getElementById("influencer-name").value;
        const phone = document.getElementById("influencer-phone").value;
        const email = document.getElementById("influencer-email").value;

        if (!name || !phone || !email) {
          alert("λ¨λ“  μ •λ³΄λ¥Ό μ…λ ¥ν•΄μ£Όμ„Έμ”.");
          return;
        }

        document.getElementById("influencer-step1").classList.add("hidden");
        document.getElementById("influencer-step2").classList.remove("hidden");
      }

      function toggleUploadMethod() {
        const method = document.getElementById("upload-method").value;
        const snsSection = document.getElementById("sns-section");
        const photoSection = document.getElementById("photo-section");
        const nextBtn = document.getElementById("step2-next-btn");

        snsSection.classList.add("hidden");
        photoSection.classList.add("hidden");
        nextBtn.disabled = true;

        if (method === "sns") {
          snsSection.classList.remove("hidden");
        } else if (method === "photo") {
          photoSection.classList.remove("hidden");
        }
      }

      function checkStep2Completion() {
        const method = document.getElementById("upload-method").value;
        const nextBtn = document.getElementById("step2-next-btn");

        if (method === "sns") {
          const platform = document.getElementById("sns-platform").value;
          const snsId = document.getElementById("sns-id").value;
          nextBtn.disabled = !(platform && snsId);
        } else if (method === "photo") {
          nextBtn.disabled = influencerPhotos.length === 0;
        } else {
          nextBtn.disabled = true;
        }
      }

      function handlePhotoUpload(event) {
        const files = event.target.files;
        const container = document.getElementById("uploaded-photos");
        const nextBtn = document.getElementById("step2-next-btn");

        influencerPhotos = [];
        container.innerHTML = "";

        for (let file of files) {
          influencerPhotos.push(file);
          const img = document.createElement("img");
          img.src = URL.createObjectURL(file);
          img.className = "uploaded-photo";
          container.appendChild(img);
        }

        if (influencerPhotos.length > 0) {
          nextBtn.disabled = false;
        }

        checkStep2Completion();
      }

      function goToInfluencerStep3() {
        document.getElementById("influencer-step2").classList.add("hidden");
        document.getElementById("influencer-step3").classList.remove("hidden");
        loadThemeSelection();
      }

      function toggleTemplateMethod() {
        const method = document.getElementById("template-method").value;
        const aiSection = document.getElementById("ai-generation");
        const customSection = document.getElementById("custom-creation");

        aiSection.classList.add("hidden");
        customSection.classList.add("hidden");

        if (method === "ai") {
          aiSection.classList.remove("hidden");
        } else if (method === "custom") {
          customSection.classList.remove("hidden");
        }
      }

      function generateAITemplate() {
        const style = document.getElementById("template-style").value;
        if (!style) {
          alert("ν…ν”λ¦Ώ μ¤νƒ€μΌμ„ μ„ νƒν•΄μ£Όμ„Έμ”.");
          return;
        }

        // AI μƒμ„± μ‹λ®¬λ μ΄μ…
        setTimeout(() => {
          document.getElementById("ai-result").classList.remove("hidden");
          alert("AI ν…ν”λ¦Ώμ΄ μƒμ„±λμ—μµλ‹λ‹¤!");
        }, 2000);
      }

      function goToInfluencerStep4() {
        document.getElementById("influencer-step3").classList.add("hidden");
        document.getElementById("influencer-step4").classList.remove("hidden");
        
        // μƒμ„±λ ν…ν”λ¦Ώ λ―Έλ¦¬λ³΄κΈ° ν‘μ‹
        showInfluencerTemplatePreview();
      }
      
      function showInfluencerTemplatePreview() {
        const step4 = document.getElementById("influencer-step4");
        const selectedThemeList = Array.from(selectedThemes);
        
        const templatePreviews = selectedThemeList.map(themeId => {
          const themeInfo = themeData.find(t => t.id === themeId);
          
          // μ •ν™•ν• μ΄λ―Έμ§€ κ²½λ΅ λ§¤ν•‘
          let imagePath;
          if (themeId === 'amusement') {
            imagePath = 'assets/templates/amusement.jpeg';
          } else if (themeId === 'night') {
            imagePath = 'assets/templates/night.jpeg';
          } else if (themeId === 'basic') {
            imagePath = 'assets/templates/basic.png';
          } else {
            imagePath = `assets/templates/${themeId}.jpeg`;
          }
          
          console.log(`Theme: ${themeId}, Image Path: ${imagePath}`);
          
          return `
            <div style="text-align: center; margin: 15px;">
              <img src="${imagePath}" alt="${themeId} ν…ν”λ¦Ώ" 
                   style="max-width: 180px; height: auto; border-radius: 12px; box-shadow: 0 4px 16px rgba(0,0,0,0.1); border: 1px solid #e2e8f0;"
                   onerror="console.log('μ΄λ―Έμ§€ λ΅λ“ μ‹¤ν¨: ${imagePath}'); this.style.display='none'; this.nextElementSibling.style.display='flex';"
                   onload="console.log('μ΄λ―Έμ§€ λ΅λ“ μ„±κ³µ: ${imagePath}')" />
              <div style="display: none; width: 180px; height: 135px; background: #f0f4ff; border-radius: 12px; border: 1px solid #e2e8f0; align-items: center; justify-content: center; color: #667eea; font-weight: 500; flex-direction: column;">
                <div>π“·</div>
                <div style="margin-top: 8px; font-size: 0.9rem;">${themeInfo?.name || themeId}</div>
                <div style="font-size: 0.7rem; opacity: 0.7; margin-top: 4px;">ν…ν”λ¦Ώ</div>
              </div>
              <h4 style="margin-top: 10px; color: #2d3748; font-size: 0.9rem;">${themeInfo?.name || themeId} ν…ν”λ¦Ώ</h4>
            </div>
          `;
        }).join('');
        
        step4.innerHTML = `
          <h2>π¨ μƒμ„±λ ν…ν”λ¦Ώ ν™•μΈ</h2>
          <p style="color: #666; margin-bottom: 20px; text-align: center;">AIκ°€ μƒμ„±ν• ν…ν”λ¦Ώμ„ ν™•μΈν•κ³  ν”Όλ“λ°±μ„ μ κ³µν•΄μ£Όμ„Έμ”</p>
          
          <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; padding: 20px; background: #f8f9fa; border-radius: 12px; margin-bottom: 30px;">
            ${templatePreviews}
          </div>
          
          <div class="feedback-section">
            <div class="form-group">
              <label>ν…ν”λ¦Ώμ— λ€ν• ν”Όλ“λ°±</label>
              <textarea
                id="template-feedback"
                rows="4"
                placeholder="ν…ν”λ¦Ώ κ°μ„ μ‚¬ν•­μ΄λ‚ μ”μ²­μ‚¬ν•­μ„ μμ„Έν μ μ–΄μ£Όμ„Έμ”..."
              ></textarea>
            </div>
            <div class="form-group">
              <label>λ§μ΅±λ„</label>
              <select id="satisfaction">
                <option value="">μ„ νƒν•΄μ£Όμ„Έμ”</option>
                <option value="5">λ§¤μ° λ§μ΅±</option>
                <option value="4">λ§μ΅±</option>
                <option value="3">λ³΄ν†µ</option>
                <option value="2">λ¶λ§μ΅±</option>
                <option value="1">λ§¤μ° λ¶λ§μ΅±</option>
              </select>
            </div>
            <button class="btn" onclick="submitFeedback()">ν”Όλ“λ°± μ μ¶</button>
            <button
              class="btn"
              onclick="registerTemplate()"
              style="background: #28a745; margin-top: 10px"
            >
              ν…ν”λ¦Ώ λ“±λ΅ν•κΈ°
            </button>
          </div>
        `;
      }

      function submitFeedback() {
        const feedback = document.getElementById("template-feedback").value;
        const satisfaction = document.getElementById("satisfaction").value;

        if (!feedback || !satisfaction) {
          alert("ν”Όλ“λ°±κ³Ό λ§μ΅±λ„λ¥Ό λ¨λ‘ μ…λ ¥ν•΄μ£Όμ„Έμ”.");
          return;
        }

        // ν”Όλ“λ°± μ²λ¦¬ μ¤‘ λ©”μ‹μ§€ ν‘μ‹
        const feedbackSection = document.querySelector(".feedback-section");
        feedbackSection.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 2rem; margin-bottom: 20px;">π”„</div>
                    <h3>ν”Όλ“λ°±μ„ λ°μν•μ—¬ ν…ν”λ¦Ώμ„ μ¬μƒμ„±ν•κ³  μμµλ‹λ‹¤...</h3>
                    <p style="color: #666; margin-top: 10px;">μ μ‹λ§ κΈ°λ‹¤λ ¤μ£Όμ„Έμ”.</p>
                </div>
            `;

        // 3μ΄ ν›„ μƒλ΅μ΄ ν…ν”λ¦Ώ ν‘μ‹
        setTimeout(() => {
          showRegeneratedTemplate();
        }, 3000);
      }

      function showRegeneratedTemplate() {
        const feedbackSection = document.querySelector(".feedback-section");
        const selectedThemeList = Array.from(selectedThemes);
        
        const templatePreviews = selectedThemeList.map(themeId => {
          const themeInfo = themeData.find(t => t.id === themeId);
          
          // μ •ν™•ν• μ΄λ―Έμ§€ κ²½λ΅ λ§¤ν•‘
          let imagePath;
          if (themeId === 'amusement') {
            imagePath = 'assets/templates/amusement.jpeg';
          } else if (themeId === 'night') {
            imagePath = 'assets/templates/night.jpeg';
          } else if (themeId === 'basic') {
            imagePath = 'assets/templates/basic.png';
          } else {
            imagePath = `assets/templates/${themeId}.jpeg`;
          }
          
          return `
            <div style="text-align: center; margin: 15px;">
              <img src="${imagePath}" alt="${themeId} ν…ν”λ¦Ώ" 
                   style="max-width: 180px; height: auto; border-radius: 12px; box-shadow: 0 4px 16px rgba(0,0,0,0.1); border: 1px solid #e2e8f0;"
                   onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
              <div style="display: none; width: 180px; height: 135px; background: #f0f4ff; border-radius: 12px; border: 1px solid #e2e8f0; align-items: center; justify-content: center; color: #667eea; font-weight: 500; flex-direction: column;">
                <div>π“·</div>
                <div style="margin-top: 8px; font-size: 0.9rem;">${themeInfo?.name || themeId}</div>
                <div style="font-size: 0.7rem; opacity: 0.7; margin-top: 4px;">κ°μ„ λ ν…ν”λ¦Ώ</div>
              </div>
              <h4 style="margin-top: 10px; color: #2d3748; font-size: 0.9rem;">${themeInfo?.name || themeId} ν…ν”λ¦Ώ</h4>
            </div>
          `;
        }).join('');
        
        feedbackSection.innerHTML = `
                <h3 style="text-align: center; margin-bottom: 20px;">π‰ κ°μ„ λ ν…ν”λ¦Ώ</h3>
                <div class="sample-result" style="display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; padding: 20px; background: #f8f9fa; border-radius: 12px;">
                    ${templatePreviews}
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <div style="background: #d4edda; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                        <strong>κ°μ„ μ‚¬ν•­:</strong><br>
                        β€Ά ν”Όλ“λ°±μ„ λ°”νƒ•μΌλ΅ μƒ‰μƒ μ΅°μ •<br>
                        β€Ά λ μ΄μ•„μ›ƒ μµμ ν™”<br>
                        β€Ά λ”μ± μμ—°μ¤λ¬μ΄ ν‘ν„
                    </div>
                    <button class="btn" onclick="providMoreFeedback()" style="background: #ffc107; color: #000; margin-right: 10px;">μ¶”κ°€ ν”Όλ“λ°±</button>
                    <button class="btn" onclick="finalizeTemplate()" style="background: #28a745;">μµμΆ… μΉμΈ</button>
                </div>
            `;
      }

      function providMoreFeedback() {
        const feedbackSection = document.querySelector(".feedback-section");
        feedbackSection.innerHTML = `
                <h3>μ¶”κ°€ ν”Όλ“λ°± μ κ³µ</h3>
                <div class="form-group">
                    <label>μ¶”κ°€ κ°μ„ μ‚¬ν•­</label>
                    <textarea id="additional-feedback" rows="4" placeholder="μ¶”κ°€λ΅ μμ •ν•κ³  μ‹¶μ€ λ¶€λ¶„μ΄λ‚ κ°μ„ μ‚¬ν•­μ„ μ μ–΄μ£Όμ„Έμ”..."></textarea>
                </div>
                <div class="form-group">
                    <label>ν„μ¬ λ§μ΅±λ„</label>
                    <select id="new-satisfaction">
                        <option value="">μ„ νƒν•΄μ£Όμ„Έμ”</option>
                        <option value="5">λ§¤μ° λ§μ΅±</option>
                        <option value="4">λ§μ΅±</option>
                        <option value="3">λ³΄ν†µ</option>
                        <option value="2">λ¶λ§μ΅±</option>
                        <option value="1">λ§¤μ° λ¶λ§μ΅±</option>
                    </select>
                </div>
                <button class="btn" onclick="submitAdditionalFeedback()">μ¶”κ°€ ν”Όλ“λ°± μ μ¶</button>
                <button class="btn" onclick="showRegeneratedTemplate()" style="background: #6c757d; margin-top: 10px;">μ΄μ „ ν…ν”λ¦ΏμΌλ΅ λμ•„κ°€κΈ°</button>
            `;
      }

      function submitAdditionalFeedback() {
        const feedback = document.getElementById("additional-feedback").value;
        const satisfaction = document.getElementById("new-satisfaction").value;

        if (!feedback || !satisfaction) {
          alert("μ¶”κ°€ ν”Όλ“λ°±κ³Ό λ§μ΅±λ„λ¥Ό λ¨λ‘ μ…λ ¥ν•΄μ£Όμ„Έμ”.");
          return;
        }

        // μ¬μƒμ„± κ³Όμ • ν‘μ‹
        const feedbackSection = document.querySelector(".feedback-section");
        feedbackSection.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 2rem; margin-bottom: 20px;">π¨</div>
                    <h3>μ¶”κ°€ ν”Όλ“λ°±μ„ λ°μν•μ—¬ μµμΆ… ν…ν”λ¦Ώμ„ μƒμ„±ν•κ³  μμµλ‹λ‹¤...</h3>
                    <p style="color: #666; margin-top: 10px;">κ³ ν’μ§ ν…ν”λ¦Ώ μƒμ„± μ¤‘...</p>
                </div>
            `;

        // 4μ΄ ν›„ μµμΆ… ν…ν”λ¦Ώ ν‘μ‹
        setTimeout(() => {
          showFinalTemplate();
        }, 4000);
      }

      function showFinalTemplate() {
        const feedbackSection = document.querySelector(".feedback-section");
        feedbackSection.innerHTML = `
                <h3 style="text-align: center; margin-bottom: 20px;">β¨ μµμΆ… μ™„μ„± ν…ν”λ¦Ώ</h3>
                <div class="sample-result">
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%); height: 400px; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 1.2rem; text-shadow: 1px 1px 2px rgba(0,0,0,0.5); position: relative;">
                        <div style="text-align: center;">
                            μ™„λ²½ν• 4μ»· ν…ν”λ¦Ώ<br>
                            π μµμΆ… λ²„μ „ π<br>
                            <small style="opacity: 0.8;">ν”Όλ“λ°± μ™„μ „ λ°μ</small>
                        </div>
                        <div style="position: absolute; top: 10px; right: 10px; background: rgba(255,255,255,0.2); padding: 5px 10px; border-radius: 20px; font-size: 0.8rem;">
                            FINAL
                        </div>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <div style="background: #d1ecf1; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                        <strong>π‰ ν…ν”λ¦Ώ μ™„μ„±!</strong><br>
                        λ¨λ“  ν”Όλ“λ°±μ΄ λ°μλ μµμΆ… ν…ν”λ¦Ώμ…λ‹λ‹¤.<br>
                        μ΄μ  μ›Ήμ‚¬μ΄νΈμ— λ“±λ΅ν•  μ μμµλ‹λ‹¤.
                    </div>
                    <button class="btn" onclick="providMoreFeedback()" style="background: #17a2b8; margin-right: 10px;">λ―Έμ„Έ μ΅°μ •</button>
                    <button class="btn" onclick="registerTemplate()" style="background: #28a745;">μ›Ήμ‚¬μ΄νΈμ— λ“±λ΅</button>
                </div>
            `;
      }

      function finalizeTemplate() {
        const feedbackSection = document.querySelector(".feedback-section");
        feedbackSection.innerHTML = `
                <div style="text-align: center; padding: 30px;">
                    <div style="font-size: 3rem; margin-bottom: 20px;">β…</div>
                    <h3>ν…ν”λ¦Ώμ΄ μµμΆ… μΉμΈλμ—μµλ‹λ‹¤!</h3>
                    <p style="color: #666; margin: 15px 0;">κ³ κ°λ“¤μ΄ μ„ νƒν•  μ μλ„λ΅ μ›Ήμ‚¬μ΄νΈμ— λ“±λ΅ν•μ‹κ² μµλ‹κΉ?</p>
                    <button class="btn" onclick="registerTemplate()" style="background: #28a745;">μ›Ήμ‚¬μ΄νΈμ— λ“±λ΅ν•κΈ°</button>
                </div>
            `;
      }

      function registerTemplate() {
        alert(
          "ν…ν”λ¦Ώμ΄ λ“±λ΅λμ—μµλ‹λ‹¤! μ›Ήμ‚¬μ΄νΈμ—μ„ κ³ κ°λ“¤μ΄ μ„ νƒν•  μ μκ² λ©λ‹λ‹¤."
        );
      }

      // κ³ κ° ν”λ΅μ° ν•¨μλ“¤ μ—…λ°μ΄νΈ
      function selectTemplate(templateId) {
        // κΈ°μ΅΄ μ„ νƒ ν•΄μ 
        document.querySelectorAll("#customer-template-grid .template-card").forEach((card) => {
          card.classList.remove("selected");
        });

        // μƒλ΅μ΄ μ„ νƒ
        event.target.closest(".template-card").classList.add("selected");
        selectedTemplate = templateId;
        document.getElementById("template-next-btn").disabled = false;
      }

      function goToCustomerStep2() {
        if (!selectedInfluencer) {
          alert("μΈν”λ£¨μ–Έμ„λ¥Ό μ„ νƒν•΄μ£Όμ„Έμ”.");
          return;
        }


        document.getElementById("customer-step1").classList.add("hidden");
        document.getElementById("customer-step2").classList.remove("hidden");
        loadCustomerTemplates();
      }

      function goToCustomerStep3() {
        if (!selectedTemplate) {
          alert("ν…ν”λ¦Ώμ„ μ„ νƒν•΄μ£Όμ„Έμ”.");
          return;
        }


        // κ²°μ  μ •λ³΄ μ—…λ°μ΄νΈ
        updatePaymentInfo();

        document.getElementById("customer-step2").classList.add("hidden");
        document.getElementById("customer-step3").classList.remove("hidden");
      }

      function updatePaymentInfo() {
        const influencerName = influencerData.find(inf => inf.id === selectedInfluencer)?.name || '-';
        const templateObj = templateData.find(template => template.id === selectedTemplate);
        const templateName = templateObj?.name || '-';
        
        document.getElementById('payment-influencer').textContent = influencerName;
        document.getElementById('payment-template').textContent = templateName;
      }


      function proceedToPhotoUpload() {
        console.log('proceedToPhotoUpload ν•¨μ νΈμ¶λ¨');
        
        // κ²°μ  μ²λ¦¬ μ‹λ®¬λ μ΄μ…
        const btn = document.getElementById('payment-proceed-btn');
        if (btn) {
          btn.innerHTML = 'κ²°μ  μ²λ¦¬ μ¤‘...';
          btn.disabled = true;
          console.log('λ²„νΌ μƒνƒ λ³€κ²½λ¨');
        } else {
          console.log('payment-proceed-btn λ²„νΌμ„ μ°Ύμ„ μ μ—†μ');
        }
        
        setTimeout(() => {
          alert('κ²°μ κ°€ μ™„λ£λμ—μµλ‹λ‹¤! μ΄μ  μ‚¬μ§„μ„ μ—…λ΅λ“ν•΄μ£Όμ„Έμ”.');
          document.getElementById("customer-step3").classList.add("hidden");
          document.getElementById("customer-step4").classList.remove("hidden");
          console.log('μ‚¬μ§„ μ—…λ΅λ“ ν™”λ©΄μΌλ΅ μ „ν™λ¨');
        }, 2000);
      }

      function handleCustomerPhotoUpload(event) {
        const files = event.target.files;
        const container = document.getElementById("customer-uploaded-photos");
        const nextBtn = document.getElementById("customer-photo-next-btn");

        customerPhotos = [];
        container.innerHTML = "";

        for (let file of files) {
          customerPhotos.push(file);
          const img = document.createElement("img");
          img.src = URL.createObjectURL(file);
          img.className = "uploaded-photo";
          container.appendChild(img);
        }

        if (customerPhotos.length >= 3 && customerPhotos.length <= 5) {
          nextBtn.disabled = false;
        } else {
          nextBtn.disabled = true;
          if (customerPhotos.length > 0) {
            alert("3-5μ¥μ μ‚¬μ§„μ„ μ—…λ΅λ“ν•΄μ£Όμ„Έμ”.");
          }
        }
      }

      function goToCustomerStep4() {
        // ν„μ¬λ” 4λ‹¨κ³„κ°€ μ—†μΌλ―€λ΅ λ°”λ΅ 5λ‹¨κ³„λ΅
        goToCustomerStep5();
      }

      function goToCustomerStep5() {
        if (customerPhotos.length < 3 || customerPhotos.length > 5) {
          alert("3-5μ¥μ μ‚¬μ§„μ„ μ—…λ΅λ“ν•΄μ£Όμ„Έμ”.");
          return;
        }

        // AI μƒμ„± μ‹λ®¬λ μ΄μ…
        document.getElementById("customer-step4").classList.add("hidden");
        showAIGenerationProgress();
        
        setTimeout(() => {
          showGeneratedSample();
          document.getElementById("customer-step5").classList.remove("hidden");
        }, 3000);
      }

      function showAIGenerationProgress() {
        const step5 = document.getElementById("customer-step5");
        step5.classList.remove("hidden");
        step5.innerHTML = `
          <div style="text-align: center; padding: 60px 20px;">
            <div style="font-size: 3rem; margin-bottom: 20px; animation: spin 1s linear infinite;">π¨</div>
            <h2>AIκ°€ λ‹Ήμ‹ λ§μ λ„¤μ»·μ‚¬μ§„μ„ μƒμ„±ν•κ³  μμ–΄μ”...</h2>
            <p style="color: #666; margin: 15px 0; font-size: 1.1rem;">μ μ‹λ§ κΈ°λ‹¤λ ¤μ£Όμ„Έμ”. μ™„λ²½ν• ν¬ν† μΉ΄λ“λ¥Ό λ§λ“¤κ³  μμµλ‹λ‹¤!</p>
            <div style="width: 200px; height: 4px; background: #e2e8f0; border-radius: 2px; margin: 20px auto; overflow: hidden;">
              <div style="width: 100%; height: 100%; background: linear-gradient(90deg, #21afbf, #667eea); border-radius: 2px; animation: progress 3s ease-in-out;"></div>
            </div>
          </div>
          <style>
            @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
            @keyframes progress { 0% { transform: translateX(-100%); } 100% { transform: translateX(0%); } }
          </style>
        `;
      }

      function showGeneratedSample() {
        const templateObj = templateData.find(template => template.id === selectedTemplate);
        const themeName = templateObj ? templateObj.theme : 'basic';
        generatedImagePath = `assets/generated_images/${themeName}.jpeg`;
        
        const step5 = document.getElementById("customer-step5");
        step5.innerHTML = `
          <h2>β¨ AI λ„¤μ»·μ‚¬μ§„ μ™„μ„±!</h2>
          <div class="sample-result" style="text-align: center; margin: 30px 0;">
            <img src="${generatedImagePath}" alt="μƒμ„±λ AI λ„¤μ»·μ‚¬μ§„" style="max-width: 100%; height: auto; border-radius: 16px; box-shadow: 0 8px 32px rgba(0,0,0,0.1); border: 1px solid #e2e8f0;" />
            <p style="color: #666; margin-top: 16px; font-size: 0.9rem;">μ„ νƒν•μ‹  ${templateObj?.name || 'ν…ν”λ¦Ώ'}μΌλ΅ μ μ‘λ AI λ„¤μ»·μ‚¬μ§„μ…λ‹λ‹¤</p>
          </div>
          <div style="display: flex; gap: 12px; justify-content: center; margin-top: 24px;">
            <button class="btn" onclick="goToCustomerStep6()" style="background: #ffc107; color: #000;">
              μμ • μ”μ²­ν•κΈ°
            </button>
            <button class="btn" onclick="goToCustomerStep7()" style="background: #28a745;">
              μ΄λ€λ΅ μ£Όλ¬Έν•κΈ°
            </button>
          </div>
        `;
      }

      function goToCustomerStep6() {
        document.getElementById("customer-step5").classList.add("hidden");
        document.getElementById("customer-step6").classList.remove("hidden");
      }

      function goToCustomerStep7() {
        document.getElementById("customer-step5").classList.add("hidden");
        document.getElementById("customer-step6").classList.add("hidden");
        document.getElementById("customer-step7").classList.remove("hidden");
      }

      function submitCustomerFeedback() {
        const feedback = document.getElementById("customer-feedback").value;
        if (!feedback) {
          alert("ν”Όλ“λ°±μ„ μ…λ ¥ν•΄μ£Όμ„Έμ”.");
          return;
        }

        // ν”Όλ“λ°± μ²λ¦¬ μ¤‘ λ©”μ‹μ§€ ν‘μ‹
        const feedbackSection = document.querySelector(
          "#customer-step6 .feedback-section"
        );
        feedbackSection.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 2rem; margin-bottom: 20px;">π”„</div>
                    <h3>ν”Όλ“λ°±μ„ λ°μν•μ—¬ ν¬ν† μΉ΄λ“λ¥Ό μ¬μƒμ„±ν•κ³  μμµλ‹λ‹¤...</h3>
                    <p style="color: #666; margin-top: 10px;">AIκ°€ κ°μ„ λ κ²°κ³Όλ¥Ό λ§λ“¤κ³  μμ–΄μ”.</p>
                </div>
            `;

        // 3μ΄ ν›„ κ°μ„ λ μƒν” ν‘μ‹
        setTimeout(() => {
          showImprovedSample();
        }, 3000);
      }

      function showImprovedSample() {
        // Use the same image path that was generated originally
        if (!generatedImagePath) {
          const templateObj = templateData.find(template => template.id === selectedTemplate);
          const themeName = templateObj ? templateObj.theme : 'basic';
          generatedImagePath = `assets/generated_images/${themeName}.jpeg`;
        }
        
        const step6 = document.getElementById("customer-step6");
        step6.innerHTML = `
                <h2>π‰ κ°μ„ λ AI λ„¤μ»·μ‚¬μ§„</h2>
                <div class="sample-result" style="text-align: center; margin: 30px 0;">
                    <img src="${generatedImagePath}" alt="κ°μ„ λ AI λ„¤μ»·μ‚¬μ§„" style="max-width: 100%; height: auto; border-radius: 16px; box-shadow: 0 8px 32px rgba(0,0,0,0.1); border: 1px solid #e2e8f0;" />
                    <div style="position: relative; display: inline-block;">
                      <div style="position: absolute; top: -10px; right: -10px; background: #28a745; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.7rem; font-weight: bold;">
                        IMPROVED β¨
                      </div>
                    </div>
                    <p style="color: #666; margin-top: 16px; font-size: 0.9rem;">ν”Όλ“λ°±μ΄ λ°μλ κ°μ„ λ λ²„μ „μ…λ‹λ‹¤</p>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <div style="background: #d4edda; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                        <strong>κ°μ„ μ‚¬ν•­:</strong><br>
                        β€Ά ν”Όλ“λ°±μ„ λ°”νƒ•μΌλ΅ μ–Όκµ΄ ν‘ν„ κ°μ„ <br>
                        β€Ά λ” μμ—°μ¤λ¬μ΄ μƒ‰κ° μ΅°μ •<br>
                        β€Ά ν…ν”λ¦Ώκ³Όμ μ΅°ν™” ν–¥μƒ
                    </div>
                    <button class="btn" onclick="provideMoreCustomerFeedback()" style="background: #ffc107; color: #000; margin-right: 10px;">μ¶”κ°€ μμ • μ”μ²­</button>
                    <button class="btn" onclick="approveCustomerSample()" style="background: #28a745;">μ΄λ€λ΅ μ£Όλ¬Έν•κΈ°</button>
                </div>
            `;
      }

      function provideMoreCustomerFeedback() {
        const step6 = document.getElementById("customer-step6");
        step6.innerHTML = `
                <h2>μ¶”κ°€ μμ • μ”μ²­</h2>
                <div class="sample-result">
                    <div style="background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%); height: 200px; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">
                        ν„μ¬ μƒν”
                    </div>
                </div>
                <div class="feedback-section">
                    <div class="form-group">
                        <label>μ¶”κ°€ μμ • μ”μ²­μ‚¬ν•­</label>
                        <textarea id="additional-customer-feedback" rows="4" placeholder="λ” μμ •ν•κ³  μ‹¶μ€ λ¶€λ¶„μ„ κµ¬μ²΄μ μΌλ΅ μ μ–΄μ£Όμ„Έμ”..."></textarea>
                    </div>
                    <div class="form-group">
                        <label>ν„μ¬ λ§μ΅±λ„</label>
                        <select id="customer-satisfaction">
                            <option value="">μ„ νƒν•΄μ£Όμ„Έμ”</option>
                            <option value="5">λ§¤μ° λ§μ΅±</option>
                            <option value="4">λ§μ΅±</option>
                            <option value="3">λ³΄ν†µ</option>
                            <option value="2">λ¶λ§μ΅±</option>
                            <option value="1">λ§¤μ° λ¶λ§μ΅±</option>
                        </select>
                    </div>
                    <button class="btn" onclick="submitAdditionalCustomerFeedback()">μ¶”κ°€ μμ • μ”μ²­ν•κΈ°</button>
                    <button class="btn" onclick="showImprovedSample()" style="background: #6c757d; margin-top: 10px;">μ΄μ „ κ²°κ³Όλ΅ λμ•„κ°€κΈ°</button>
                </div>
            `;
      }

      function submitAdditionalCustomerFeedback() {
        const feedback = document.getElementById(
          "additional-customer-feedback"
        ).value;
        const satisfaction = document.getElementById(
          "customer-satisfaction"
        ).value;

        if (!feedback || !satisfaction) {
          alert("μ¶”κ°€ μμ • μ”μ²­μ‚¬ν•­κ³Ό λ§μ΅±λ„λ¥Ό λ¨λ‘ μ…λ ¥ν•΄μ£Όμ„Έμ”.");
          return;
        }

        // μ¬μƒμ„± κ³Όμ • ν‘μ‹
        const step4 = document.getElementById("customer-step4");
        step4.innerHTML = `
                <div style="text-align: center; padding: 60px 20px;">
                    <div style="font-size: 2.5rem; margin-bottom: 20px;">π¨</div>
                    <h2>μµμΆ… ν¬ν† μΉ΄λ“λ¥Ό μ™„μ„±ν•κ³  μμµλ‹λ‹¤</h2>
                    <p style="color: #666; margin-top: 10px; font-size: 1.1rem;">λ¨λ“  μ”μ²­μ‚¬ν•­μ„ λ°μν•μ—¬ μ™„λ²½ν• κ²°κ³Όλ¥Ό λ§λ“¤κ³  μμ–΄μ”...</p>
                    <div style="margin-top: 30px;">
                        <div style="width: 200px; height: 4px; background: #e0e0e0; border-radius: 2px; margin: 0 auto; overflow: hidden;">
                            <div style="width: 0%; height: 100%; background: #667eea; border-radius: 2px; animation: progress 4s ease-in-out forwards;"></div>
                        </div>
                    </div>
                </div>
                <style>
                    @keyframes progress {
                        0% { width: 0%; }
                        100% { width: 100%; }
                    }
                </style>
            `;

        // 4μ΄ ν›„ μµμΆ… κ²°κ³Ό ν‘μ‹
        setTimeout(() => {
          showFinalCustomerResult();
        }, 4000);
      }

      function showFinalCustomerResult() {
        const step6 = document.getElementById("customer-step6");
        step6.innerHTML = `
                <h2>π μ™„λ²½ν• ν¬ν† μΉ΄λ“ μ™„μ„±!</h2>
                <div class="sample-result">
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%); height: 200px; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 1.2rem; text-shadow: 1px 1px 2px rgba(0,0,0,0.5); position: relative;">
                        <div style="text-align: center;">
                            μ™„μ„±λ ν¬ν† μΉ΄λ“<br>
                            π― μ™„λ²½ λ²„μ „<br>
                            <small style="opacity: 0.8;">λ¨λ“  ν”Όλ“λ°± λ°μ</small>
                        </div>
                        <div style="position: absolute; top: 10px; right: 10px; background: rgba(255,255,255,0.2); padding: 5px 10px; border-radius: 20px; font-size: 0.8rem;">
                            PERFECT
                        </div>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <div style="background: #d1ecf1; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                        <strong>π‰ μµμΆ… μ™„μ„±!</strong><br>
                        λ¨λ“  μμ • μ”μ²­μ΄ μ™„λ²½ν•κ² λ°μλμ—μµλ‹λ‹¤.<br>
                        μ΄μ  4μ»· ν¬ν† μΉ΄λ“λ¥Ό μ£Όλ¬Έν•μ‹¤ μ μμµλ‹λ‹¤.
                    </div>
                    <button class="btn" onclick="provideMoreCustomerFeedback()" style="background: #17a2b8; margin-right: 10px;">λ―Έμ„Έ μ΅°μ •</button>
                    <button class="btn" onclick="goToCustomerStep6()" style="background: #28a745;">4μ»· ν¬ν† μΉ΄λ“ μ£Όλ¬Έν•κΈ°</button>
                </div>
            `;
      }

      function approveCustomerSample() {
        const step6 = document.getElementById("customer-step6");
        step6.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 3rem; margin-bottom: 20px;">β…</div>
                    <h2>μƒν”μ΄ μΉμΈλμ—μµλ‹λ‹¤!</h2>
                    <p style="color: #666; margin: 15px 0; font-size: 1.1rem;">μ΄μ  4μ»· ν¬ν† μΉ΄λ“λ¥Ό μ μ‘ν•μ—¬ λ°°μ†΅ν•΄λ“λ¦¬κ² μµλ‹λ‹¤.</p>
                    <button class="btn" onclick="goToCustomerStep6()" style="background: #28a745; font-size: 1.1rem; padding: 15px 30px;">4μ»· ν¬ν† μΉ΄λ“ μ£Όλ¬Έν•κΈ°</button>
                </div>
            `;
      }

      function goToCustomerStep6() {
        document.getElementById("customer-step5").classList.add("hidden");
        document.getElementById("customer-step6").classList.remove("hidden");
      }

      let selectedPaymentMethod = null;
      let generatedImagePath = null;

      function selectDeliveryMethod(method) {
        const name = document.getElementById("delivery-name").value;
        const phone = document.getElementById("delivery-phone").value;
        
        if (!name || !phone) {
          alert("λ°›λ” λ¶„ μ΄λ¦„κ³Ό μ—°λ½μ²λ¥Ό μ…λ ¥ν•΄μ£Όμ„Έμ”.");
          return;
        }
        
        if (method === 'shipping') {
          const address = document.getElementById("delivery-address").value;
          if (!address) {
            alert("λ°°μ†΅ μ£Όμ†λ¥Ό μ…λ ¥ν•΄μ£Όμ„Έμ”.");
            return;
          }
          
          alert(`λ°°μ†΅μΌλ΅ μ£Όλ¬Έμ΄ μ™„λ£λμ—μµλ‹λ‹¤!\n\nλ°›λ” λ¶„: ${name}\nμ—°λ½μ²: ${phone}\nμ£Όμ†: ${address}\n\nμμ—…μΌ κΈ°μ¤€ 2-3μΌ λ‚΄ λ°°μ†΅ μμ •μ…λ‹λ‹¤.`);
        } else if (method === 'kakao') {
          alert(`μΉ΄μΉ΄μ¤ν†΅ μ „μ†΅μΌλ΅ μ£Όλ¬Έμ΄ μ™„λ£λμ—μµλ‹λ‹¤!\n\nλ°›λ” λ¶„: ${name}\nμ—°λ½μ²: ${phone}\n\nκ³ ν™”μ§ μ΄λ―Έμ§€κ°€ μΉ΄μΉ΄μ¤ν†΅μΌλ΅ μ „μ†΅λ©λ‹λ‹¤.`);
        }
        
        // μ£Όλ¬Έ μ™„λ£ ν›„ μ²μμΌλ΅ λμ•„κ°€κΈ°
        setTimeout(() => {
          showMainScreen();
        }, 2000);
      }

      function proceedToPayment() {
        const name = document.getElementById("delivery-name").value;
        const phone = document.getElementById("delivery-phone").value;
        const address = document.getElementById("delivery-address").value;

        if (!name || !phone || !address) {
          alert("λ°°μ†΅ μ •λ³΄λ¥Ό λ¨λ‘ μ…λ ¥ν•΄μ£Όμ„Έμ”.");
          return;
        }


        document.getElementById("customer-step6").classList.add("hidden");
        document.getElementById("customer-step7").classList.remove("hidden");
        
        // κ²°μ  μ°½ μ§„μ… μ‹ λ°”λ΅ λ²„νΌ ν™μ„±ν™”
        setTimeout(() => {
          const paymentBtn = document.getElementById("payment-btn");
          if (paymentBtn) {
            paymentBtn.disabled = false;
            paymentBtn.style.backgroundColor = "#dc3545";
            console.log('κ²°μ  μ°½ μ§„μ… - λ²„νΌ κ°•μ  ν™μ„±ν™”');
          }
        }, 100);
      }

      function goBackToOrder() {
        document.getElementById("customer-step7").classList.add("hidden");
        document.getElementById("customer-step6").classList.remove("hidden");
      }

      function selectPaymentMethod(method, element) {
        console.log(`κ²°μ  λ°©λ²• μ„ νƒ: ${method}`);
        selectedPaymentMethod = method;

        // λ¨λ“  κ²°μ  λ°©λ²• μ„ νƒ ν•΄μ 
        document.querySelectorAll(".payment-method").forEach((el) => {
          el.classList.remove("selected");
          el.style.borderColor = "#ddd";
          el.style.backgroundColor = "white";
        });

        // μ„ νƒλ λ°©λ²• ν•μ΄λΌμ΄νΈ
        const paymentElement = element.closest(".payment-method");
        if (paymentElement) {
          paymentElement.classList.add("selected");
          paymentElement.style.borderColor = "#667eea";
          paymentElement.style.backgroundColor = "#f0f4ff";
          console.log('κ²°μ  λ°©λ²• ν•μ΄λΌμ΄νΈ μ™„λ£');
        } else {
          console.log('κ²°μ  λ°©λ²• μ”μ†λ¥Ό μ°Ύμ„ μ μ—†μ');
        }

        // λ¨λ“  κ²°μ  νΌ μ¨κΈ°κΈ° (κ°„λ‹¨ν™”)
        const cardForm = document.getElementById("card-payment-form");
        const bankForm = document.getElementById("bank-payment-form");
        
        if (cardForm) cardForm.classList.add("hidden");
        if (bankForm) bankForm.classList.add("hidden");
        console.log(`${method} κ²°μ  λ°©λ²• μ„ νƒλ¨ - μ„Έλ¶€ νΌ μ—†μ΄ λ°”λ΅ μ§„ν–‰`);

        checkPaymentForm();
      }

      function formatCardNumber(input) {
        let value = input.value.replace(/\D/g, "");
        let formattedValue = value.replace(/(\d{4})(?=\d)/g, "$1-");
        if (formattedValue.length > 19) {
          formattedValue = formattedValue.substr(0, 19);
        }
        input.value = formattedValue;
        checkPaymentForm();
      }

      function formatExpiry(input) {
        let value = input.value.replace(/\D/g, "");
        if (value.length >= 2) {
          value = value.substr(0, 2) + "/" + value.substr(2, 2);
        }
        input.value = value;
        checkPaymentForm();
      }

      function checkPaymentForm() {
        const paymentBtn = document.getElementById("payment-btn");
        
        if (!paymentBtn) {
          console.log('κ²°μ  λ²„νΌμ„ μ°Ύμ„ μ μ—†μµλ‹λ‹¤');
          return;
        }

        console.log(`Selected payment method: ${selectedPaymentMethod}`);

        // κ²°μ  λ°©λ²•μ΄ μ„ νƒλμ—λ‹¤λ©΄ λ°”λ΅ λ²„νΌ ν™μ„±ν™”
        if (selectedPaymentMethod) {
          console.log('κ²°μ  λ°©λ²• μ„ νƒλ¨ - λ²„νΌ ν™μ„±ν™”');
          paymentBtn.disabled = false;
          paymentBtn.style.backgroundColor = "#dc3545";
        } else {
          console.log('κ²°μ  λ°©λ²• λ―Έμ„ νƒ - λ²„νΌ λΉ„ν™μ„±ν™”');
          paymentBtn.disabled = true;
          paymentBtn.style.backgroundColor = "#ccc";
        }
      }

      function processPayment() {
        console.log('processPayment ν•¨μ νΈμ¶λ¨');
        console.log('selectedPaymentMethod:', selectedPaymentMethod);
        
        // κ²°μ  λ°©λ²• ν™•μΈμ„ μ κ±°ν•κ³  λ¬΄μ΅°κ±΄ μ§„ν–‰
        // if (!selectedPaymentMethod) {
        //   alert("κ²°μ  λ°©λ²•μ„ μ„ νƒν•΄μ£Όμ„Έμ”.");
        //   return;
        // }


        // κ²°μ  μ²λ¦¬ μ¤‘ ν™”λ©΄
        const step7 = document.getElementById("customer-step7");
        step7.innerHTML = `
                <div style="text-align: center; padding: 60px 20px;">
                    <div style="font-size: 3rem; margin-bottom: 20px;">π’³</div>
                    <h2>κ²°μ  μ²λ¦¬ μ¤‘μ…λ‹λ‹¤...</h2>
                    <p style="color: #666; margin: 15px 0; font-size: 1.1rem;">μ•μ „ν• κ²°μ λ¥Ό μ„ν•΄ μ μ‹λ§ κΈ°λ‹¤λ ¤μ£Όμ„Έμ”.</p>
                    <div style="margin-top: 30px;">
                        <div style="width: 250px; height: 6px; background: #e0e0e0; border-radius: 3px; margin: 0 auto; overflow: hidden;">
                            <div style="width: 0%; height: 100%; background: #28a745; border-radius: 3px; animation: paymentProgress 3s ease-in-out forwards;"></div>
                        </div>
                        <p style="margin-top: 15px; color: #28a745; font-weight: bold;">κ²°μ  μΉμΈ μ¤‘...</p>
                    </div>
                </div>
                <style>
                    @keyframes paymentProgress {
                        0% { width: 0%; }
                        50% { width: 70%; }
                        100% { width: 100%; }
                    }
                </style>
            `;

        // 3μ΄ ν›„ κ²°μ  μ™„λ£ ν™”λ©΄
        setTimeout(() => {
          showPaymentComplete();
        }, 3000);
      }

      function showPaymentComplete() {
        const step7 = document.getElementById("customer-step7");
        const orderNumber = "PC" + Date.now().toString().substr(-8);
        const deliveryDate = new Date(
          Date.now() + 2 * 24 * 60 * 60 * 1000
        ).toLocaleDateString("ko-KR");

        step7.innerHTML = `
                <div style="text-align: center; padding: 40px 20px;">
                    <div style="font-size: 4rem; margin-bottom: 20px;">π‰</div>
                    <h2 style="color: #28a745; margin-bottom: 20px;">κ²°μ κ°€ μ™„λ£λμ—μµλ‹λ‹¤!</h2>
                    
                    <div style="background: #d4edda; padding: 25px; border-radius: 15px; margin: 30px 0; text-align: left;">
                        <h3 style="color: #155724; margin-bottom: 15px; text-align: center;">π“‹ μ£Όλ¬Έ ν™•μΈμ„</h3>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span><strong>μ£Όλ¬Έλ²νΈ:</strong></span>
                            <span>${orderNumber}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span><strong>μƒν’λ…:</strong></span>
                            <span>4μ»· ν¬ν† μΉ΄λ“</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span><strong>κ²°μ κΈμ•΅:</strong></span>
                            <span style="color: #dc3545; font-weight: bold;">16,000μ›</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span><strong>κ²°μ λ°©λ²•:</strong></span>
                            <span>${getPaymentMethodName()}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span><strong>μμƒ λ°°μ†΅μΌ:</strong></span>
                            <span>${deliveryDate}</span>
                        </div>
                        <hr style="margin: 15px 0;">
                        <div style="text-align: center; color: #155724;">
                            <strong>π“¦ 2μΌ ν›„ λ°°μ†΅ μ‹μ‘ μμ •</strong>
                        </div>
                    </div>
                    
                    <div style="background: #fff3cd; padding: 20px; border-radius: 10px; margin: 20px 0;">
                        <h3 style="color: #856404;">π“± μ£Όλ¬Έ μ•λ¦Ό μ„λΉ„μ¤</h3>
                        <p style="margin: 10px 0; color: #856404;">
                            β€Ά SMSλ΅ μ μ‘ μ§„ν–‰ μƒν™©μ„ μ•λ ¤λ“λ¦½λ‹λ‹¤<br>
                            β€Ά λ°°μ†΅ μ‹μ‘ μ‹ νƒλ°° μ†΅μ¥λ²νΈλ¥Ό λ°μ†΅ν•©λ‹λ‹¤<br>
                            β€Ά κ³ κ°μ„Όν„°: 010-1234-5678
                        </p>
                    </div>
                    
                    <div style="margin-top: 30px;">
                        <button class="btn" onclick="showMainScreen()" style="background: #667eea; font-size: 1.1rem; padding: 15px 30px; margin-right: 15px;">π  λ©”μΈμΌλ΅ λμ•„κ°€κΈ°</button>
                        <button class="btn" onclick="downloadReceipt()" style="background: #28a745; font-size: 1.1rem; padding: 15px 30px;">π“„ μμμ¦ λ‹¤μ΄λ΅λ“</button>
                    </div>
                </div>
            `;
      }

      function getPaymentMethodName() {
        switch (selectedPaymentMethod) {
          case "card":
            return "μ‹ μ©μΉ΄λ“";
          case "bank":
            return "κ³„μΆμ΄μ²΄";
          case "kakao":
            return "μΉ΄μΉ΄μ¤νμ΄";
          case "toss":
            return "ν† μ¤νμ΄";
          default:
            return "κ²°μ μ™„λ£";
        }
      }

      function downloadReceipt() {
        alert("μμμ¦μ΄ λ‹¤μ΄λ΅λ“λμ—μµλ‹λ‹¤! (μ‹¤μ  κµ¬ν„μ‹ PDF μƒμ„±)");
      }

      function orderPhotoCard() {
        // κΈ°μ΅΄ ν•¨μ - μ‚¬μ©ν•μ§€ μ•μ (proceedToPaymentλ΅ λ€μ²΄)
        alert("proceedToPayment ν•¨μλ¥Ό μ‚¬μ©ν•΄μ£Όμ„Έμ”.");
      }

      // μ΄λ²¤νΈ λ¦¬μ¤λ„ μ¶”κ°€
      document.addEventListener("DOMContentLoaded", function () {
        // μ•½κ΄€ λ™μ μ²΄ν¬λ°•μ¤ μ΄λ²¤νΈ μ κ±°λ¨ - κ²°μ  λ°©λ²• μ„ νƒλ§μΌλ΅ ν™μ„±ν™”

        // μΉ΄λ“ μ •λ³΄ μ…λ ¥ ν•„λ“ μ΄λ²¤νΈ
        ["card-cvc", "card-password"].forEach((id) => {
          const element = document.getElementById(id);
          if (element) {
            element.addEventListener("input", checkPaymentForm);
          }
        });

        // κ³„μΆμ΄μ²΄ μ •λ³΄ μ…λ ¥ ν•„λ“ μ΄λ²¤νΈ
        ["bank-select", "account-number", "account-holder"].forEach((id) => {
          const element = document.getElementById(id);
          if (element) {
            element.addEventListener("input", checkPaymentForm);
            element.addEventListener("change", checkPaymentForm);
          }
        });
      });

      // λ“λκ·Έ μ•¤ λ“λ΅­ κΈ°λ¥
      document.addEventListener("DOMContentLoaded", function () {
        const photoUploads = document.querySelectorAll(".photo-upload");

        photoUploads.forEach((upload) => {
          upload.addEventListener("dragover", function (e) {
            e.preventDefault();
            this.classList.add("dragover");
          });

          upload.addEventListener("dragleave", function (e) {
            e.preventDefault();
            this.classList.remove("dragover");
          });

          upload.addEventListener("drop", function (e) {
            e.preventDefault();
            this.classList.remove("dragover");

            const files = e.dataTransfer.files;
            if (this.querySelector("#photo-input")) {
              document.getElementById("photo-input").files = files;
              handlePhotoUpload({ target: { files: files } });
            } else if (this.querySelector("#customer-photo-input")) {
              document.getElementById("customer-photo-input").files = files;
              handleCustomerPhotoUpload({ target: { files: files } });
            }
          });
        });
      });
    </script>
  </body>
</html>
