<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>studio ain - ì¸í”Œë£¨ì–¸ì„œì™€ í•¨ê»˜ ì°ëŠ” ì˜¨ë¼ì¸ AI ë„¤ì»·ì‚¬ì§„</title>
    <style>
      /* Noto Sans KR Font Faces */
      @font-face {
        font-family: "Noto Sans KR";
        font-style: normal;
        font-weight: 100;
        font-display: swap;
        src: url("./fonts/Noto_Sans_KR/static/NotoSansKR-Thin.ttf")
          format("truetype");
      }
      @font-face {
        font-family: "Noto Sans KR";
        font-style: normal;
        font-weight: 200;
        font-display: swap;
        src: url("./fonts/Noto_Sans_KR/static/NotoSansKR-ExtraLight.ttf")
          format("truetype");
      }
      @font-face {
        font-family: "Noto Sans KR";
        font-style: normal;
        font-weight: 300;
        font-display: swap;
        src: url("./fonts/Noto_Sans_KR/static/NotoSansKR-Light.ttf")
          format("truetype");
      }
      @font-face {
        font-family: "Noto Sans KR";
        font-style: normal;
        font-weight: 400;
        font-display: swap;
        src: url("./fonts/Noto_Sans_KR/static/NotoSansKR-Regular.ttf")
          format("truetype");
      }
      @font-face {
        font-family: "Noto Sans KR";
        font-style: normal;
        font-weight: 500;
        font-display: swap;
        src: url("./fonts/Noto_Sans_KR/static/NotoSansKR-Medium.ttf")
          format("truetype");
      }
      @font-face {
        font-family: "Noto Sans KR";
        font-style: normal;
        font-weight: 600;
        font-display: swap;
        src: url("./fonts/Noto_Sans_KR/static/NotoSansKR-SemiBold.ttf")
          format("truetype");
      }
      @font-face {
        font-family: "Noto Sans KR";
        font-style: normal;
        font-weight: 700;
        font-display: swap;
        src: url("./fonts/Noto_Sans_KR/static/NotoSansKR-Bold.ttf")
          format("truetype");
      }
      @font-face {
        font-family: "Noto Sans KR";
        font-style: normal;
        font-weight: 800;
        font-display: swap;
        src: url("./fonts/Noto_Sans_KR/static/NotoSansKR-ExtraBold.ttf")
          format("truetype");
      }
      @font-face {
        font-family: "Noto Sans KR";
        font-style: normal;
        font-weight: 900;
        font-display: swap;
        src: url("./fonts/Noto_Sans_KR/static/NotoSansKR-Black.ttf")
          format("truetype");
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Noto Sans KR", -apple-system, BlinkMacSystemFont,
          "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        background: #f6f7f9;
        min-height: 100vh;
        line-height: 1.6;
        color: #606060;
        margin: 0;
        padding: 0;
        font-weight: 400;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      .app-header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        height: 70px;
        background: #ffffff;
        border-bottom: 1px solid #e5e7eb;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 40px;
        z-index: 1000;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
      }

      .app-logo {
        font-size: 1.75rem;
        font-weight: 700;
        color: #1f2937;
        letter-spacing: -0.025em;
      }

      .user-type-toggle {
        display: flex;
        align-items: center;
        background: #f3f4f6;
        border-radius: 50px;
        padding: 6px;
        position: relative;
        width: 200px;
        height: 44px;
      }

      .toggle-switch {
        position: absolute;
        width: 92px;
        height: 32px;
        background: #3b82f6;
        border-radius: 26px;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 0 2px 4px rgba(59, 130, 246, 0.2);
        left: 6px;
      }

      .toggle-switch.customer {
        left: 102px;
      }

      .toggle-option {
        flex: 1;
        text-align: center;
        font-size: 0.85rem;
        font-weight: 500;
        padding: 8px 12px;
        cursor: pointer;
        transition: color 0.3s ease;
        position: relative;
        z-index: 2;
      }

      .toggle-option.active {
        color: white;
      }

      .toggle-option.inactive {
        color: #6b7280;
      }

      .container {
        min-height: 100vh;
        padding-top: 70px;
        width: 100%;
        max-width: 1440px;
        margin: 0 auto;
        background: transparent;
        position: relative;
      }

      .main-content {
        padding: 80px 32px 60px;
        max-width: 1200px;
        margin: 0 auto;
        position: relative;
        text-align: center;
      }

      .main-content::before {
        display: none;
      }

      .logo {
        font-size: 3.2rem;
        font-weight: 700;
        color: #1f2937;
        margin-bottom: 24px;
        letter-spacing: -0.025em;
      }

      .subtitle {
        color: #6b7280;
        font-size: 1.125rem;
        font-weight: 400;
        margin-bottom: 64px;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
      }

      .options {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 24px;
        margin-top: 32px;
      }

      .option-card {
        background: #ffffff;
        border: 1px solid #e5e7eb;
        border-radius: 16px;
        padding: 48px 32px;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        text-decoration: none;
        color: inherit;
        position: relative;
        overflow: hidden;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        opacity: 0;
      }

      .option-card::before {
        display: none;
      }

      .option-card:hover {
        transform: translateY(-8px) scale(1.02);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        border-color: #3b82f6;
      }

      .option-card:hover::before {
        opacity: 1;
      }

      .option-icon {
        font-size: 3rem;
        margin-bottom: 24px;
        display: block;
        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
      }

      .option-title {
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 16px;
        color: #1f2937;
        letter-spacing: -0.025em;
      }

      .option-desc {
        color: #6b7280;
        font-size: 1rem;
        line-height: 1.6;
        font-weight: 400;
      }

      .hidden {
        display: none;
      }

      .back-btn {
        background: #f9fafb;
        color: #6b7280;
        border: 1px solid #e5e7eb;
        padding: 12px 20px;
        border-radius: 8px;
        cursor: pointer;
        margin-bottom: 32px;
        font-size: 0.875rem;
        font-weight: 500;
        transition: all 0.2s ease;
        display: inline-flex;
        align-items: center;
        gap: 8px;
      }

      .back-btn:hover {
        background: #f3f4f6;
        border-color: #d1d5db;
      }

      .form-container {
        text-align: left;
        margin-top: 40px;
      }

      .form-group {
        margin-bottom: 24px;
      }

      .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 500;
        color: #4a5568;
        font-size: 0.95rem;
      }

      .form-group input,
      .form-group select,
      .form-group textarea {
        width: 100%;
        padding: 16px 20px;
        border: 1.5px solid #e2e8f0;
        border-radius: 12px;
        font-size: 1rem;
        background: rgba(255, 255, 255, 0.8);
        transition: all 0.2s ease;
        font-family: inherit;
      }

      .form-group input:focus,
      .form-group select:focus,
      .form-group textarea:focus {
        outline: none;
        border-color: #3b82f6;
        background: rgba(255, 255, 255, 1);
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
      }

      .btn {
        background: #3b82f6;
        color: white;
        border: none;
        padding: 16px 24px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 600;
        width: 100%;
        margin-top: 24px;
        transition: all 0.2s ease;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        letter-spacing: -0.01em;
      }

      .btn:hover {
        background: #2563eb;
        box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);
      }

      .btn:disabled {
        background: #d1d5db;
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
      }

      .template-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 24px;
        margin-top: 32px;
        max-width: 1200px;
        margin-left: auto;
        margin-right: auto;
      }

      .template-card {
        border: 1px solid #e5e7eb;
        border-radius: 12px;
        padding: 20px;
        cursor: pointer;
        transition: all 0.2s ease;
        text-align: center;
        background: #ffffff;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
      }

      .template-card:hover,
      .template-card.selected {
        border-color: #3b82f6;
        background: #ffffff;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(59, 130, 246, 0.1);
      }

      .template-card.multi-selected {
        border-color: #10b981;
        background: rgba(16, 185, 129, 0.05);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(16, 185, 129, 0.15);
      }

      .theme-card {
        position: relative;
      }

      .theme-card .selection-indicator {
        position: absolute;
        top: 10px;
        right: 10px;
        width: 24px;
        height: 24px;
        border-radius: 50%;
        background: #10b981;
        color: white;
        display: none;
        align-items: center;
        justify-content: center;
        font-size: 16px;
      }

      .theme-card.multi-selected .selection-indicator {
        display: flex;
      }

      .theme-image {
        width: 100%;
        height: 160px;
        object-fit: contain;
        background: #f9fafb;
        border-radius: 8px;
        margin-bottom: 16px;
        border: 1px solid #e5e7eb;
        padding: 8px;
      }

      .request-field {
        margin-top: 10px;
        display: none;
      }

      .theme-card.multi-selected .request-field {
        display: block;
      }

      .request-field textarea {
        width: 100%;
        padding: 8px 12px;
        border: 1px solid #d1d5db;
        border-radius: 6px;
        font-size: 0.875rem;
        resize: vertical;
        min-height: 60px;
        font-family: inherit;
        color: #374151;
      }

      .tag-btn {
        padding: 8px 16px;
        border: 1px solid #e5e7eb;
        border-radius: 20px;
        background: white;
        color: #374151;
        font-size: 0.875rem;
        cursor: pointer;
        transition: all 0.2s ease;
        font-family: inherit;
      }

      .tag-btn:hover {
        border-color: #3b82f6;
        background: rgba(59, 130, 246, 0.05);
      }

      .tag-btn.selected {
        border-color: #3b82f6;
        background: #3b82f6;
        color: white;
      }

      .template-preview {
        width: 100%;
        height: 140px;
        background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 16px;
        color: #718096;
        font-weight: 500;
        border: 1px solid #e2e8f0;
      }

      .photo-upload {
        border: 2px dashed #cbd5e0;
        border-radius: 16px;
        padding: 48px 24px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
        margin-top: 24px;
        background: rgba(255, 255, 255, 0.5);
        backdrop-filter: blur(10px);
      }

      .photo-upload:hover {
        border-color: #3b82f6;
        background: rgba(59, 130, 246, 0.02);
        transform: translateY(-2px);
      }

      .photo-upload.dragover {
        border-color: #3b82f6;
        background: rgba(59, 130, 246, 0.05);
        transform: scale(1.02);
      }

      .payment-method {
        border: 2px solid #e2e8f0;
        border-radius: 12px;
        padding: 16px;
        cursor: pointer;
        text-align: center;
        transition: all 0.2s ease;
        background: white;
      }

      .payment-method:hover {
        border-color: #3b82f6;
        background: rgba(59, 130, 246, 0.05);
        transform: translateY(-1px);
      }

      .payment-method.selected {
        border-color: #3b82f6;
        background: rgba(59, 130, 246, 0.1);
      }

      .uploaded-photos {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
        gap: 16px;
        margin-top: 24px;
      }

      .uploaded-photo {
        width: 100px;
        height: 100px;
        border-radius: 12px;
        object-fit: cover;
        border: 2px solid #e2e8f0;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      }

      .feedback-section {
        margin-top: 32px;
        padding: 24px;
        background: rgba(247, 250, 252, 0.8);
        border: 1px solid #e2e8f0;
        border-radius: 16px;
        backdrop-filter: blur(10px);
      }

      .sample-result {
        width: 100%;
        max-width: 320px;
        margin: 24px auto;
        border-radius: 16px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
        overflow: hidden;
        border: 1px solid rgba(255, 255, 255, 0.2);
      }

      .payment-method:hover {
        border-color: #3b82f6 !important;
        background-color: rgba(59, 130, 246, 0.02) !important;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(59, 130, 246, 0.1);
      }

      h1,
      h2,
      h3 {
        color: #2d3748;
        font-weight: 600;
        letter-spacing: -0.01em;
        margin-bottom: 20px;
      }

      h2 {
        font-size: 2rem;
        margin-bottom: 24px;
        background: linear-gradient(135deg, #2d3748 0%, #4a5568 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      h3 {
        font-size: 1.4rem;
        margin-bottom: 16px;
      }

      @media (max-width: 768px) {
        .container {
          padding: 32px 24px;
          margin: 20px auto;
        }

        .logo {
          font-size: 2.4rem;
        }

        .subtitle {
          font-size: 1.1rem;
          margin-bottom: 40px;
        }

        .options {
          grid-template-columns: 1fr;
          gap: 20px;
        }

        .option-card {
          padding: 28px 20px;
        }

        h2 {
          font-size: 1.6rem;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
          padding: 14px 16px;
        }

        .btn {
          padding: 14px 24px;
        }
      }

      @media (max-width: 1440px) {
        .container {
          max-width: 100%;
          padding: 0 24px;
        }

        .main-content {
          padding: 60px 24px 40px;
        }

        .logo {
          font-size: 3rem;
        }

        .options {
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 20px;
        }
      }

      @media (max-width: 1200px) {
        .container {
          padding: 0 20px;
        }

        #influencer-profile > div > div:first-child {
          grid-template-columns: 1fr !important;
          gap: 30px !important;
        }

        #influencer-statistics > div:nth-child(3) {
          grid-template-columns: 1fr !important;
        }

        #influencer-statistics .insight-grid {
          grid-template-columns: 1fr !important;
          gap: 20px !important;
        }
      }

      @media (max-width: 768px) {
        .container {
          padding: 30px 16px;
        }

        .logo {
          font-size: 2.2rem;
        }

        .template-grid {
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 16px;
        }

        .options {
          grid-template-columns: 1fr;
          gap: 16px;
        }

        #influencer-statistics .grid-stats {
          grid-template-columns: repeat(2, 1fr) !important;
          gap: 16px !important;
        }

        h2 {
          font-size: 1.8rem;
        }

        .form-container {
          max-width: 100% !important;
        }
      }

      @media (max-width: 480px) {
        .container {
          padding: 20px 12px;
        }

        .logo {
          font-size: 1.8rem;
        }

        .subtitle {
          font-size: 1rem;
        }

        .template-grid {
          grid-template-columns: repeat(2, 1fr);
          gap: 16px;
        }
      }

      /* Dynamic Animations */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes slideInLeft {
        from {
          opacity: 0;
          transform: translateX(-30px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      @keyframes bounceIn {
        0% {
          opacity: 0;
          transform: scale(0.9);
        }
        50% {
          transform: scale(1.02);
        }
        100% {
          opacity: 1;
          transform: scale(1);
        }
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      /* Apply animations */
      .logo {
        animation: bounceIn 0.8s ease-out;
      }

      .subtitle {
        animation: fadeInUp 0.8s ease-out 0.2s both;
      }

      .option-card {
        animation: fadeInUp 0.6s ease-out both;
      }

      .option-card:nth-child(1) {
        animation-delay: 0.1s;
      }
      .option-card:nth-child(2) {
        animation-delay: 0.2s;
      }
      .option-card:nth-child(3) {
        animation-delay: 0.3s;
      }

      .template-card {
        animation: fadeInUp 0.5s ease-out both;
      }

      .template-card:nth-child(1) {
        animation-delay: 0.1s;
      }
      .template-card:nth-child(2) {
        animation-delay: 0.2s;
      }
      .template-card:nth-child(3) {
        animation-delay: 0.3s;
      }
      .template-card:nth-child(4) {
        animation-delay: 0.4s;
      }

      .btn {
        animation: slideInLeft 0.6s ease-out 0.3s both;
        position: relative;
        overflow: hidden;
      }

      .btn::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.2),
          transparent
        );
        transition: left 0.5s;
      }

      .btn:hover::before {
        left: 100%;
      }

      .back-btn {
        animation: slideInLeft 0.4s ease-out;
      }

      .form-container {
        animation: fadeInUp 0.6s ease-out 0.4s both;
      }

      /* Hover effects */
      .option-icon {
        transition: all 0.3s ease;
      }

      .option-card:hover .option-icon {
        animation: float 2s ease-in-out infinite;
      }

      .theme-image {
        transition: all 0.3s ease;
      }

      .template-card:hover .theme-image {
        transform: scale(1.05);
      }

      /* Loading animation for progress bars */
      @keyframes progressAnimation {
        from {
          width: 0%;
        }
        to {
          width: var(--progress-width);
        }
      }

      .progress-fill {
        animation: progressAnimation 2s ease-in-out;
      }

      /* Photo Modal Styles */
      .photo-modal {
        display: none;
        position: fixed;
        z-index: 10000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.9);
        animation: fadeIn 0.3s ease;
      }

      .photo-modal.show {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
      }

      .modal-content {
        position: relative;
        max-width: 90vw;
        max-height: 90vh;
        background: #fff;
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        animation: modalSlideIn 0.4s ease;
      }

      .modal-image {
        width: 100%;
        height: auto;
        display: block;
        max-height: 85vh;
        object-fit: contain;
      }

      .modal-close {
        position: absolute;
        top: 15px;
        right: 15px;
        background: rgba(0, 0, 0, 0.7);
        color: white;
        border: none;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        font-size: 20px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s ease;
        z-index: 10001;
      }

      .modal-close:hover {
        background: rgba(0, 0, 0, 0.9);
        transform: scale(1.1);
      }

      .modal-info {
        padding: 20px;
        background: #f8f9fa;
        text-align: center;
      }

      .modal-info h3 {
        margin: 0 0 8px 0;
        color: #2d3748;
        font-size: 1.2rem;
        font-weight: 600;
      }

      .modal-info p {
        margin: 0;
        color: #666;
        font-size: 0.9rem;
      }

      /* Modal Animations */
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes modalSlideIn {
        from {
          opacity: 0;
          transform: scale(0.9) translateY(-20px);
        }
        to {
          opacity: 1;
          transform: scale(1) translateY(0);
        }
      }

      /* Clickable photo cursor */
      .clickable-photo {
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
      }

      .clickable-photo:hover {
        transform: scale(1.02);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
      }

      .clickable-photo::after {
        content: "ğŸ”";
        position: absolute;
        top: 10px;
        right: 10px;
        background: rgba(0, 0, 0, 0.7);
        color: white;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
        opacity: 0;
        transition: opacity 0.2s ease;
      }

      .clickable-photo:hover::after {
        opacity: 1;
      }
    </style>
  </head>
  <body>
    <!-- Photo Modal -->
    <div id="photoModal" class="photo-modal" onclick="closePhotoModal(event)">
      <div class="modal-content">
        <button class="modal-close" onclick="closePhotoModal()">&times;</button>
        <img id="modalImage" class="modal-image" src="" alt="" />
        <div class="modal-info">
          <h3 id="modalTitle">AI ë„¤ì»·ì‚¬ì§„</h3>
          <p id="modalDescription">í´ë¦­í•˜ì—¬ í™•ëŒ€ëœ ì´ë¯¸ì§€ë¥¼ í™•ì¸í•˜ì„¸ìš”</p>
        </div>
      </div>
    </div>

    <div class="container">
      <!-- ë¡œê·¸ì¸ í™”ë©´ -->
      <div id="login-screen">
        <div class="logo">ğŸ“¸ studio ain</div>
        <div class="subtitle">
          ì¸í”Œë£¨ì–¸ì„œì™€ í•¨ê»˜í•˜ëŠ” í”„ë¦¬ë¯¸ì—„ AI í¬í†  ìŠ¤íŠœë””ì˜¤
        </div>

        <div class="form-container" style="max-width: 400px; margin: 0 auto">
          <div class="form-group">
            <label>ì‚¬ìš©ì ìœ í˜•</label>
            <select id="login-user-type">
              <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
              <option value="customer">ì¼ë°˜ ê³ ê°</option>
              <option value="influencer">ì¸í”Œë£¨ì–¸ì„œ</option>
            </select>
          </div>
          <div class="form-group">
            <label>ì´ë©”ì¼</label>
            <input
              type="email"
              id="login-email"
              placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"
            />
          </div>
          <div class="form-group">
            <label>ë¹„ë°€ë²ˆí˜¸</label>
            <input
              type="password"
              id="login-password"
              placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"
            />
          </div>
          <button class="btn" onclick="performLogin()">ë¡œê·¸ì¸</button>
          <p style="text-align: center; margin-top: 20px; color: #666">
            ê³„ì •ì´ ì—†ìœ¼ì‹ ê°€ìš”?
            <a
              href="#"
              onclick="showSignup()"
              style="color: #3b82f6; text-decoration: none"
              >íšŒì›ê°€ì…</a
            >
          </p>
        </div>
      </div>

      <!-- íšŒì›ê°€ì… í™”ë©´ -->
      <div id="signup-screen" class="hidden">
        <button class="back-btn" onclick="showLogin()">â† ë¡œê·¸ì¸ìœ¼ë¡œ</button>
        <div class="logo">ğŸ“¸ studio ain</div>
        <div class="subtitle">íšŒì›ê°€ì…</div>

        <div class="form-container" style="max-width: 400px; margin: 0 auto">
          <div class="form-group">
            <label>ì´ë¦„</label>
            <input
              type="text"
              id="signup-name"
              placeholder="ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"
            />
          </div>
          <div class="form-group">
            <label>ì´ë©”ì¼</label>
            <input
              type="email"
              id="signup-email"
              placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"
            />
          </div>
          <div class="form-group">
            <label>ë¹„ë°€ë²ˆí˜¸</label>
            <input
              type="password"
              id="signup-password"
              placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"
            />
          </div>
          <div class="form-group">
            <label>ì‚¬ìš©ì ìœ í˜•</label>
            <select id="user-type">
              <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
              <option value="customer">ì¼ë°˜ ê³ ê°</option>
              <option value="influencer">ì¸í”Œë£¨ì–¸ì„œ</option>
            </select>
          </div>
          <button class="btn" onclick="performSignup()">íšŒì›ê°€ì…</button>
        </div>
      </div>

      <!-- ë©”ì¸ í™”ë©´ -->
      <div id="main-screen" class="hidden">
        <div class="logo">ğŸ“¸ studio ain</div>
        <div class="subtitle">
          ì¸í”Œë£¨ì–¸ì„œì™€ í•¨ê»˜í•˜ëŠ” í”„ë¦¬ë¯¸ì—„ AI í¬í†  ìŠ¤íŠœë””ì˜¤
        </div>

        <div class="options" id="main-options">
          <!-- ì‚¬ìš©ì ìœ í˜•ë³„ ë©”ë‰´ê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
        </div>
      </div>

      <!-- ì¸í”Œë£¨ì–¸ì„œ í”Œë¡œìš° -->
      <div id="influencer-flow" class="hidden">
        <button class="back-btn" onclick="showInfluencerMain()">
          â† ë©”ì¸ìœ¼ë¡œ
        </button>

        <!-- ì¸í”Œë£¨ì–¸ì„œ 1ë‹¨ê³„: ì„œë¹„ìŠ¤ ì‹ ì²­ -->
        <div id="influencer-step1">
          <h2>ì¸í”Œë£¨ì–¸ì„œ ì„œë¹„ìŠ¤ ì‹ ì²­</h2>
          <div class="form-container">
            <div class="form-group">
              <label>ì´ë¦„</label>
              <input
                type="text"
                id="influencer-name"
                placeholder="ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"
              />
            </div>
            <div class="form-group">
              <label>ì—°ë½ì²˜</label>
              <input
                type="tel"
                id="influencer-phone"
                placeholder="ì—°ë½ì²˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"
              />
            </div>
            <div class="form-group">
              <label>ì´ë©”ì¼</label>
              <input
                type="email"
                id="influencer-email"
                placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"
              />
            </div>
            <button class="btn" onclick="goToInfluencerStep2()">
              ë‹¤ìŒ ë‹¨ê³„
            </button>
          </div>
        </div>

        <!-- ì¸í”Œë£¨ì–¸ì„œ 2ë‹¨ê³„: SNS ID ë˜ëŠ” ì‚¬ì§„ ì—…ë¡œë“œ -->
        <div id="influencer-step2" class="hidden">
          <h2>SNS ì •ë³´ ë˜ëŠ” ì‚¬ì§„ ì œê³µ</h2>
          <div class="form-container">
            <div class="form-group">
              <label>ë°©ë²• ì„ íƒ</label>
              <select id="upload-method" onchange="toggleUploadMethod()">
                <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                <option value="sns">SNS ê³„ì • ì—°ë™</option>
                <option value="photo">ì‚¬ì§„ ì§ì ‘ ì—…ë¡œë“œ</option>
              </select>
            </div>

            <div id="sns-section" class="hidden">
              <div class="form-group">
                <label>SNS í”Œë«í¼</label>
                <select id="sns-platform" onchange="checkStep2Completion()">
                  <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                  <option value="instagram">ì¸ìŠ¤íƒ€ê·¸ë¨</option>
                  <option value="tiktok">í‹±í†¡</option>
                  <option value="youtube">ìœ íŠœë¸Œ</option>
                </select>
              </div>
              <div class="form-group">
                <label>SNS ID</label>
                <input
                  type="text"
                  id="sns-id"
                  placeholder="@username í˜•íƒœë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”"
                  oninput="checkStep2Completion()"
                />
              </div>
            </div>

            <div id="photo-section" class="hidden">
              <div
                class="photo-upload"
                onclick="document.getElementById('photo-input').click()"
              >
                <div>ğŸ“· ì‚¬ì§„ì„ ì—…ë¡œë“œí•˜ë ¤ë©´ í´ë¦­í•˜ê±°ë‚˜ ë“œë˜ê·¸í•˜ì„¸ìš”</div>
                <input
                  type="file"
                  id="photo-input"
                  multiple
                  accept="image/*"
                  style="display: none"
                  onchange="handlePhotoUpload(event)"
                />
              </div>
              <div id="uploaded-photos" class="uploaded-photos"></div>
            </div>

            <button
              class="btn"
              onclick="goToInfluencerStep3()"
              disabled
              id="step2-next-btn"
            >
              í…œí”Œë¦¿ ìƒì„±í•˜ê¸°
            </button>
          </div>
        </div>

        <!-- ì¸í”Œë£¨ì–¸ì„œ 3ë‹¨ê³„: í…œí”Œë¦¿ ìŠ¤íƒ€ì¼ ì„ íƒ -->
        <div id="influencer-step3" class="hidden">
          <h2>í…œí”Œë¦¿ ìŠ¤íƒ€ì¼ ì„ íƒ</h2>
          <p style="color: #666; margin-bottom: 20px">
            ì›í•˜ëŠ” í…Œë§ˆë¥¼ ì„ íƒí•˜ì„¸ìš” (ì—¬ëŸ¬ ê°œ ì„ íƒ ê°€ëŠ¥)
          </p>
          <div class="template-grid" id="theme-selection-grid">
            <!-- í…Œë§ˆ ì¹´ë“œë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
          </div>
          <button
            class="btn"
            onclick="generateSelectedTemplates()"
            disabled
            id="generate-templates-btn"
          >
            ì„ íƒí•œ í…Œë§ˆë¡œ í…œí”Œë¦¿ ìƒì„±
          </button>
        </div>

        <!-- ì¸í”Œë£¨ì–¸ì„œ 4ë‹¨ê³„: í”¼ë“œë°± ë° ë“±ë¡ -->
        <div id="influencer-step4" class="hidden">
          <h2>í…œí”Œë¦¿ í”¼ë“œë°± ë° ë“±ë¡</h2>
          <div class="feedback-section">
            <div class="form-group">
              <label>í…œí”Œë¦¿ì— ëŒ€í•œ í”¼ë“œë°±</label>
              <textarea
                id="template-feedback"
                rows="4"
                placeholder="í…œí”Œë¦¿ ê°œì„ ì‚¬í•­ì´ë‚˜ ìš”ì²­ì‚¬í•­ì„ ìì„¸íˆ ì ì–´ì£¼ì„¸ìš”..."
              ></textarea>
            </div>
            <div class="form-group">
              <label>ë§Œì¡±ë„</label>
              <select id="satisfaction">
                <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                <option value="5">ë§¤ìš° ë§Œì¡±</option>
                <option value="4">ë§Œì¡±</option>
                <option value="3">ë³´í†µ</option>
                <option value="2">ë¶ˆë§Œì¡±</option>
                <option value="1">ë§¤ìš° ë¶ˆë§Œì¡±</option>
              </select>
            </div>
            <button class="btn" onclick="submitFeedback()">í”¼ë“œë°± ì œì¶œ</button>
            <button
              class="btn"
              onclick="registerTemplate()"
              style="background: #3b82f6; margin-top: 10px"
            >
              í…œí”Œë¦¿ ë“±ë¡í•˜ê¸°
            </button>
          </div>
        </div>

        <!-- ì¸í”Œë£¨ì–¸ì„œ í†µê³„ ëŒ€ì‹œë³´ë“œ -->
        <div id="influencer-statistics" class="hidden">
          <button class="back-btn" onclick="showInfluencerMain()">
            â† ë©”ì¸ìœ¼ë¡œ
          </button>
          <h2>ğŸ“Š ë‚˜ì˜ ëŒ€ì‹œë³´ë“œ</h2>

          <!-- ì£¼ìš” ì§€í‘œ ì¹´ë“œë“¤ -->
          <div
            style="
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
              gap: 20px;
              margin-bottom: 40px;
            "
          >
            <div
              style="
                background: #3b82f6;
                color: white;
                padding: 24px;
                border-radius: 16px;
                box-shadow: 0 4px 16px rgba(59, 130, 246, 0.2);
              "
            >
              <h3
                style="
                  color: white;
                  margin-bottom: 8px;
                  font-size: 0.9rem;
                  opacity: 0.9;
                "
              >
                ğŸ’° ì´ ìˆ˜ìµ
              </h3>
              <div
                style="font-size: 2.2rem; font-weight: bold; margin-bottom: 4px"
              >
                â‚©1,250,000
              </div>
              <div style="opacity: 0.8; font-size: 0.85rem">
                ì´ë²ˆ ë‹¬: +â‚©185,000 (+17.3%)
              </div>
            </div>

            <div
              style="
                background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
                color: white;
                padding: 24px;
                border-radius: 16px;
                box-shadow: 0 8px 32px rgba(240, 147, 251, 0.3);
              "
            >
              <h3
                style="
                  color: white;
                  margin-bottom: 8px;
                  font-size: 0.9rem;
                  opacity: 0.9;
                "
              >
                ğŸ“ˆ ì´ ì£¼ë¬¸ìˆ˜
              </h3>
              <div
                style="font-size: 2.2rem; font-weight: bold; margin-bottom: 4px"
              >
                487
              </div>
              <div style="opacity: 0.8; font-size: 0.85rem">
                ì´ë²ˆ ë‹¬: +42ê±´ (+9.4%)
              </div>
            </div>

            <div
              style="
                background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
                color: white;
                padding: 24px;
                border-radius: 16px;
                box-shadow: 0 8px 32px rgba(79, 172, 254, 0.3);
              "
            >
              <h3
                style="
                  color: white;
                  margin-bottom: 8px;
                  font-size: 0.9rem;
                  opacity: 0.9;
                "
              >
                â­ í‰ê·  í‰ì 
              </h3>
              <div
                style="font-size: 2.2rem; font-weight: bold; margin-bottom: 4px"
              >
                4.8
              </div>
              <div style="opacity: 0.8; font-size: 0.85rem">
                ë¦¬ë·° 234ê°œ â€¢ ë§Œì¡±ë„ 96%
              </div>
            </div>

            <div
              style="
                background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
                color: white;
                padding: 24px;
                border-radius: 16px;
                box-shadow: 0 8px 32px rgba(250, 112, 154, 0.3);
              "
            >
              <h3
                style="
                  color: white;
                  margin-bottom: 8px;
                  font-size: 0.9rem;
                  opacity: 0.9;
                "
              >
                ğŸ‘¥ íŒ”ë¡œì›Œ
              </h3>
              <div
                style="font-size: 2.2rem; font-weight: bold; margin-bottom: 4px"
              >
                12.4K
              </div>
              <div style="opacity: 0.8; font-size: 0.85rem">
                ì´ë²ˆ ì£¼: +287ëª… (+2.4%)
              </div>
            </div>
          </div>

          <!-- í…œí”Œë¦¿ ì„±ê³¼ ë¶„ì„ -->
          <div
            style="
              display: grid;
              grid-template-columns: 2fr 1fr;
              gap: 30px;
              margin-bottom: 40px;
            "
          >
            <div
              style="
                background: white;
                border-radius: 16px;
                border: 1px solid #e2e8f0;
                padding: 24px;
              "
            >
              <h3 style="margin-bottom: 20px; color: #2d3748">
                ğŸ† ë² ìŠ¤íŠ¸ í…œí”Œë¦¿ ìˆœìœ„
              </h3>
              <div style="space-y: 12px">
                <div
                  style="
                    display: flex;
                    align-items: center;
                    padding: 16px;
                    border-radius: 12px;
                    background: #f8f9fa;
                    margin-bottom: 12px;
                  "
                >
                  <div
                    style="
                      background: #ffd700;
                      color: #8b6914;
                      width: 32px;
                      height: 32px;
                      border-radius: 50%;
                      display: flex;
                      align-items: center;
                      justify-content: center;
                      font-weight: bold;
                      margin-right: 16px;
                    "
                  >
                    1
                  </div>
                  <img
                    src="assets/templates/night.jpeg"
                    style="
                      width: 50px;
                      height: 50px;
                      object-fit: contain;
                      background: #fff;
                      border-radius: 8px;
                      margin-right: 16px;
                      border: 1px solid #e2e8f0;
                    "
                  />
                  <div style="flex: 1">
                    <div style="font-weight: 600; color: #2d3748">
                      ì•¼ê²½ í…œí”Œë¦¿
                    </div>
                    <div style="color: #666; font-size: 0.85rem">
                      187ê±´ ì£¼ë¬¸ â€¢ â‚©467,500 â€¢ ì „í™˜ìœ¨ 23.4%
                    </div>
                  </div>
                  <div style="text-align: right">
                    <div style="color: #10b981; font-weight: 600">+15.2%</div>
                    <div style="color: #666; font-size: 0.8rem">vs ì§€ë‚œë‹¬</div>
                  </div>
                </div>

                <div
                  style="
                    display: flex;
                    align-items: center;
                    padding: 16px;
                    border-radius: 12px;
                    background: #f8f9fa;
                    margin-bottom: 12px;
                  "
                >
                  <div
                    style="
                      background: #c0c0c0;
                      color: #666;
                      width: 32px;
                      height: 32px;
                      border-radius: 50%;
                      display: flex;
                      align-items: center;
                      justify-content: center;
                      font-weight: bold;
                      margin-right: 16px;
                    "
                  >
                    2
                  </div>
                  <img
                    src="assets/templates/amusement.jpeg"
                    style="
                      width: 50px;
                      height: 50px;
                      object-fit: contain;
                      background: #fff;
                      border-radius: 8px;
                      margin-right: 16px;
                      border: 1px solid #e2e8f0;
                    "
                  />
                  <div style="flex: 1">
                    <div style="font-weight: 600; color: #2d3748">
                      ë†€ì´ê³µì› í…œí”Œë¦¿
                    </div>
                    <div style="color: #666; font-size: 0.85rem">
                      163ê±´ ì£¼ë¬¸ â€¢ â‚©407,500 â€¢ ì „í™˜ìœ¨ 19.8%
                    </div>
                  </div>
                  <div style="text-align: right">
                    <div style="color: #10b981; font-weight: 600">+8.7%</div>
                    <div style="color: #666; font-size: 0.8rem">vs ì§€ë‚œë‹¬</div>
                  </div>
                </div>

                <div
                  style="
                    display: flex;
                    align-items: center;
                    padding: 16px;
                    border-radius: 12px;
                    background: #f8f9fa;
                  "
                >
                  <div
                    style="
                      background: #cd7f32;
                      color: #fff;
                      width: 32px;
                      height: 32px;
                      border-radius: 50%;
                      display: flex;
                      align-items: center;
                      justify-content: center;
                      font-weight: bold;
                      margin-right: 16px;
                    "
                  >
                    3
                  </div>
                  <img
                    src="assets/templates/basic.png"
                    style="
                      width: 50px;
                      height: 50px;
                      object-fit: contain;
                      background: #fff;
                      border-radius: 8px;
                      margin-right: 16px;
                      border: 1px solid #e2e8f0;
                    "
                  />
                  <div style="flex: 1">
                    <div style="font-weight: 600; color: #2d3748">
                      ì¸ìƒë„¤ì»· í…œí”Œë¦¿
                    </div>
                    <div style="color: #666; font-size: 0.85rem">
                      137ê±´ ì£¼ë¬¸ â€¢ â‚©342,500 â€¢ ì „í™˜ìœ¨ 16.2%
                    </div>
                  </div>
                  <div style="text-align: right">
                    <div style="color: #dc3545; font-weight: 600">-3.4%</div>
                    <div style="color: #666; font-size: 0.8rem">vs ì§€ë‚œë‹¬</div>
                  </div>
                </div>
              </div>
            </div>

            <!-- ì›”ë³„ ìˆ˜ìµ íŠ¸ë Œë“œ -->
            <div
              style="
                background: white;
                border-radius: 16px;
                border: 1px solid #e2e8f0;
                padding: 24px;
              "
            >
              <h3 style="margin-bottom: 20px; color: #2d3748">ğŸ“Š ì›”ë³„ ìˆ˜ìµ</h3>
              <div style="space-y: 8px">
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: 8px 0;
                  "
                >
                  <span style="color: #666">12ì›”</span>
                  <span style="font-weight: 600">â‚©185,000</span>
                </div>
                <div
                  style="
                    width: 100%;
                    height: 6px;
                    background: #e2e8f0;
                    border-radius: 3px;
                    margin: 4px 0;
                  "
                >
                  <div
                    style="
                      width: 85%;
                      height: 100%;
                      background: #3b82f6;
                      border-radius: 3px;
                    "
                  ></div>
                </div>

                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: 8px 0;
                  "
                >
                  <span style="color: #666">11ì›”</span>
                  <span style="font-weight: 600">â‚©156,000</span>
                </div>
                <div
                  style="
                    width: 100%;
                    height: 6px;
                    background: #e2e8f0;
                    border-radius: 3px;
                    margin: 4px 0;
                  "
                >
                  <div
                    style="
                      width: 72%;
                      height: 100%;
                      background: #3b82f6;
                      border-radius: 3px;
                    "
                  ></div>
                </div>

                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: 8px 0;
                  "
                >
                  <span style="color: #666">10ì›”</span>
                  <span style="font-weight: 600">â‚©142,000</span>
                </div>
                <div
                  style="
                    width: 100%;
                    height: 6px;
                    background: #e2e8f0;
                    border-radius: 3px;
                    margin: 4px 0;
                  "
                >
                  <div
                    style="
                      width: 65%;
                      height: 100%;
                      background: #3b82f6;
                      border-radius: 3px;
                    "
                  ></div>
                </div>

                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: 8px 0;
                  "
                >
                  <span style="color: #666">9ì›”</span>
                  <span style="font-weight: 600">â‚©178,000</span>
                </div>
                <div
                  style="
                    width: 100%;
                    height: 6px;
                    background: #e2e8f0;
                    border-radius: 3px;
                    margin: 4px 0;
                  "
                >
                  <div
                    style="
                      width: 82%;
                      height: 100%;
                      background: #3b82f6;
                      border-radius: 3px;
                    "
                  ></div>
                </div>
              </div>
            </div>
          </div>

          <!-- ê³ ê° í”¼ë“œë°± & ì¸ì‚¬ì´íŠ¸ -->
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px">
            <div
              style="
                background: white;
                border-radius: 16px;
                border: 1px solid #e2e8f0;
                padding: 24px;
              "
            >
              <h3 style="margin-bottom: 20px; color: #2d3748">
                ğŸ’¬ ìµœê·¼ ê³ ê° ë¦¬ë·°
              </h3>
              <div style="space-y: 16px">
                <div
                  style="
                    padding: 16px;
                    background: #f8f9fa;
                    border-radius: 12px;
                    border-left: 4px solid #ffd700;
                  "
                >
                  <div
                    style="
                      display: flex;
                      align-items: center;
                      margin-bottom: 8px;
                    "
                  >
                    <div style="color: #ffd700; margin-right: 8px">
                      â­â­â­â­â­
                    </div>
                    <span style="font-size: 0.85rem; color: #666">ê¹€*ì§„ë‹˜</span>
                  </div>
                  <p style="color: #2d3748; font-size: 0.9rem">
                    "ì•¼ê²½ í…œí”Œë¦¿ ë„ˆë¬´ ì˜ˆë»ìš”! ì¸í”Œë£¨ì–¸ì„œë‹˜ê³¼ í•¨ê»˜ ì°ì€ ê²ƒ ê°™ì€
                    ëŠë‚Œì´ì—ìš” âœ¨"
                  </p>
                </div>

                <div
                  style="
                    padding: 16px;
                    background: #f8f9fa;
                    border-radius: 12px;
                    border-left: 4px solid #3b82f6;
                  "
                >
                  <div
                    style="
                      display: flex;
                      align-items: center;
                      margin-bottom: 8px;
                    "
                  >
                    <div style="color: #ffd700; margin-right: 8px">
                      â­â­â­â­â­
                    </div>
                    <span style="font-size: 0.85rem; color: #666">ë°•*ìˆ˜ë‹˜</span>
                  </div>
                  <p style="color: #2d3748; font-size: 0.9rem">
                    "ë†€ì´ê³µì› ì»¨ì…‰ ì™„ì „ ì·¨ì €! ì¹œêµ¬ë“¤ì´ ë‹¤ ë¬¼ì–´ë´¤ì–´ìš” ã…ã…"
                  </p>
                </div>
              </div>
            </div>

            <div
              style="
                background: white;
                border-radius: 16px;
                border: 1px solid #e2e8f0;
                padding: 24px;
              "
            >
              <h3 style="margin-bottom: 20px; color: #2d3748">
                ğŸ¯ ì„±ê³¼ ì¸ì‚¬ì´íŠ¸
              </h3>
              <div style="space-y: 12px">
                <div
                  style="padding: 12px; background: #e3f2fd; border-radius: 8px"
                >
                  <div
                    style="color: #1976d2; font-weight: 600; font-size: 0.85rem"
                  >
                    ğŸ”¥ íŠ¸ë Œë”©
                  </div>
                  <p style="color: #2d3748; font-size: 0.9rem; margin-top: 4px">
                    ì•¼ê²½ í…Œë§ˆê°€ 20ëŒ€ ì—¬ì„± ê³ ê°ë“¤ ì‚¬ì´ì—ì„œ ì¸ê¸° ê¸‰ìƒìŠ¹!
                  </p>
                </div>

                <div
                  style="padding: 12px; background: #f3e5f5; border-radius: 8px"
                >
                  <div
                    style="color: #7b1fa2; font-weight: 600; font-size: 0.85rem"
                  >
                    ğŸ“ˆ ê¸°íšŒ
                  </div>
                  <p style="color: #2d3748; font-size: 0.9rem; margin-top: 4px">
                    ì£¼ë§ ì£¼ë¬¸ëŸ‰ì´ í‰ì¼ ëŒ€ë¹„ 2.3ë°° ë†’ì•„ìš”. ì£¼ë§ íŠ¹ê°€ ì´ë²¤íŠ¸
                    ê³ ë ¤í•´ë³´ì„¸ìš”!
                  </p>
                </div>

                <div
                  style="padding: 12px; background: #fff3e0; border-radius: 8px"
                >
                  <div
                    style="color: #ef6c00; font-weight: 600; font-size: 0.85rem"
                  >
                    ğŸ’¡ ì œì•ˆ
                  </div>
                  <p style="color: #2d3748; font-size: 0.9rem; margin-top: 4px">
                    í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ì‹œì¦Œ ë§ì¶¤ í…œí”Œë¦¿ ì¶œì‹œí•˜ë©´ ìˆ˜ìµ 20% ì¦ê°€ ì˜ˆìƒ!
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- ì¸í”Œë£¨ì–¸ì„œ í”„ë¡œí•„ í¸ì§‘ -->
        <div id="influencer-profile" class="hidden">
          <button class="back-btn" onclick="showInfluencerMain()">
            â† ë©”ì¸ìœ¼ë¡œ
          </button>
          <h2>âœ¨ ë‚˜ì˜ í”„ë¡œí•„</h2>

          <div
            style="
              display: grid;
              grid-template-columns: 1fr 2fr;
              gap: 40px;
              max-width: 1200px;
              margin: 0 auto;
            "
          >
            <!-- ì™¼ìª½: í”„ë¡œí•„ ë¯¸ë¦¬ë³´ê¸° -->
            <div
              style="
                background: white;
                border-radius: 20px;
                border: 1px solid #e2e8f0;
                padding: 32px;
                text-align: center;
                height: fit-content;
              "
            >
              <h3 style="margin-bottom: 24px; color: #2d3748">
                ğŸ” ê³ ê° í™”ë©´ ë¯¸ë¦¬ë³´ê¸°
              </h3>

              <div
                style="
                  background: #3b82f6;
                  padding: 24px;
                  border-radius: 16px;
                  color: white;
                  margin-bottom: 20px;
                "
              >
                <div
                  style="
                    width: 80px;
                    height: 80px;
                    border-radius: 50%;
                    background: rgba(255, 255, 255, 0.2);
                    margin: 0 auto 16px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 2rem;
                    border: 3px solid rgba(255, 255, 255, 0.3);
                  "
                >
                  ğŸ‘¤
                </div>
                <h3 style="color: white; margin-bottom: 8px" id="preview-name">
                  ê¹€ì¸í”Œ
                </h3>
                <div
                  style="opacity: 0.9; font-size: 0.9rem; margin-bottom: 12px"
                >
                  â­ 4.8 í‰ì  â€¢ ğŸ‘¥ 12.4K íŒ”ë¡œì›Œ
                </div>
                <div
                  style="
                    display: flex;
                    justify-content: center;
                    flex-wrap: wrap;
                    gap: 6px;
                    margin-bottom: 16px;
                  "
                >
                  <span
                    style="
                      background: rgba(255, 255, 255, 0.2);
                      padding: 4px 12px;
                      border-radius: 12px;
                      font-size: 0.8rem;
                    "
                    >ë¼ì´í”„ìŠ¤íƒ€ì¼</span
                  >
                  <span
                    style="
                      background: rgba(255, 255, 255, 0.2);
                      padding: 4px 12px;
                      border-radius: 12px;
                      font-size: 0.8rem;
                    "
                    >ì—¬í–‰</span
                  >
                </div>
                <p
                  style="opacity: 0.9; font-size: 0.9rem; line-height: 1.4"
                  id="preview-bio"
                >
                  ì•ˆë…•í•˜ì„¸ìš”! íŠ¸ë Œë””í•œ í¬í† ì¹´ë“œë¥¼ ë§Œë“¤ì–´ë“œë¦¬ëŠ” ê¹€ì¸í”Œì…ë‹ˆë‹¤ âœ¨
                </p>
              </div>

              <div
                style="
                  background: #f8f9fa;
                  padding: 16px;
                  border-radius: 12px;
                  border: 1px solid #e2e8f0;
                  margin-bottom: 20px;
                "
              >
                <h4 style="color: #2d3748; margin-bottom: 12px">ğŸ“± SNS ì—°ê²°</h4>
                <div style="display: flex; justify-content: center; gap: 12px">
                  <div
                    style="
                      width: 36px;
                      height: 36px;
                      background: linear-gradient(
                        135deg,
                        #833ab4 0%,
                        #fd1d1d 50%,
                        #fcb045 100%
                      );
                      border-radius: 8px;
                      display: flex;
                      align-items: center;
                      justify-content: center;
                      color: white;
                      font-size: 1.2rem;
                    "
                  >
                    ğŸ“·
                  </div>
                  <div
                    style="
                      width: 36px;
                      height: 36px;
                      background: #000;
                      border-radius: 8px;
                      display: flex;
                      align-items: center;
                      justify-content: center;
                      color: white;
                      font-size: 1.2rem;
                    "
                  >
                    ğŸµ
                  </div>
                  <div
                    style="
                      width: 36px;
                      height: 36px;
                      background: #ff0000;
                      border-radius: 8px;
                      display: flex;
                      align-items: center;
                      justify-content: center;
                      color: white;
                      font-size: 1.2rem;
                    "
                  >
                    ğŸ“º
                  </div>
                </div>
              </div>

              <div
                style="
                  display: grid;
                  grid-template-columns: repeat(3, 1fr);
                  gap: 8px;
                "
              >
                <img
                  src="assets/templates/night.jpeg"
                  style="
                    width: 100%;
                    aspect-ratio: 1;
                    object-fit: cover;
                    border-radius: 8px;
                    border: 1px solid #e2e8f0;
                  "
                />
                <img
                  src="assets/templates/amusement.jpeg"
                  style="
                    width: 100%;
                    aspect-ratio: 1;
                    object-fit: cover;
                    border-radius: 8px;
                    border: 1px solid #e2e8f0;
                  "
                />
                <img
                  src="assets/templates/basic.png"
                  style="
                    width: 100%;
                    aspect-ratio: 1;
                    object-fit: cover;
                    border-radius: 8px;
                    border: 1px solid #e2e8f0;
                  "
                />
              </div>
            </div>

            <!-- ì˜¤ë¥¸ìª½: í”„ë¡œí•„ ì„¤ì • í¼ -->
            <div
              style="
                background: white;
                border-radius: 20px;
                border: 1px solid #e2e8f0;
                padding: 32px;
              "
            >
              <h3 style="margin-bottom: 24px; color: #2d3748">
                âš™ï¸ í”„ë¡œí•„ ì„¤ì •
              </h3>

              <div class="form-group">
                <label>ğŸ­ ì¸í”Œë£¨ì–¸ì„œ ì´ë¦„</label>
                <input
                  type="text"
                  id="influencer-profile-name"
                  placeholder="ê³ ê°ì—ê²Œ ë³´ì—¬ì§ˆ ì´ë¦„"
                  value="ê¹€ì¸í”Œ"
                  oninput="updatePreview()"
                />
                <small style="color: #666; font-size: 0.85rem"
                  >ê³ ê°ë“¤ì´ ë³´ëŠ” ê³µê°œ ì´ë¦„ì…ë‹ˆë‹¤</small
                >
              </div>

              <div class="form-group">
                <label>âœï¸ ìê¸°ì†Œê°œ</label>
                <textarea
                  id="influencer-bio"
                  rows="4"
                  placeholder="ë‚˜ë§Œì˜ ë§¤ë ¥ì„ ì–´í•„í•´ë³´ì„¸ìš”!"
                  oninput="updatePreview()"
                >
ì•ˆë…•í•˜ì„¸ìš”! íŠ¸ë Œë””í•œ í¬í† ì¹´ë“œë¥¼ ë§Œë“¤ì–´ë“œë¦¬ëŠ” ê¹€ì¸í”Œì…ë‹ˆë‹¤ âœ¨</textarea
                >
                <small style="color: #666; font-size: 0.85rem"
                  >ê³ ê°ë“¤ì—ê²Œ ë³´ì—¬ì§ˆ ì†Œê°œê¸€ì…ë‹ˆë‹¤ (ìµœëŒ€ 200ì)</small
                >
              </div>

              <div class="form-group">
                <label>ğŸ“± SNS ê³„ì •</label>
                <div
                  style="
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                    gap: 12px;
                  "
                >
                  <div>
                    <label
                      style="
                        font-size: 0.85rem;
                        color: #666;
                        margin-bottom: 4px;
                        display: block;
                      "
                      >Instagram</label
                    >
                    <input
                      type="text"
                      id="instagram"
                      placeholder="@username"
                      value="@kim_influencer"
                    />
                  </div>
                  <div>
                    <label
                      style="
                        font-size: 0.85rem;
                        color: #666;
                        margin-bottom: 4px;
                        display: block;
                      "
                      >TikTok</label
                    >
                    <input type="text" id="tiktok" placeholder="@username" />
                  </div>
                  <div>
                    <label
                      style="
                        font-size: 0.85rem;
                        color: #666;
                        margin-bottom: 4px;
                        display: block;
                      "
                      >YouTube</label
                    >
                    <input type="text" id="youtube" placeholder="ì±„ë„ëª…" />
                  </div>
                </div>
              </div>

              <div class="form-group">
                <label>ğŸ¯ ì „ë¬¸ ë¶„ì•¼</label>
                <div
                  style="
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
                    gap: 12px;
                    margin-top: 12px;
                  "
                >
                  <button class="tag-btn" onclick="toggleTag(this)">
                    ğŸ‘— íŒ¨ì…˜
                  </button>
                  <button class="tag-btn" onclick="toggleTag(this)">
                    ğŸ’„ ë·°í‹°
                  </button>
                  <button class="tag-btn selected" onclick="toggleTag(this)">
                    ğŸ  ë¼ì´í”„ìŠ¤íƒ€ì¼
                  </button>
                  <button class="tag-btn selected" onclick="toggleTag(this)">
                    âœˆï¸ ì—¬í–‰
                  </button>
                  <button class="tag-btn" onclick="toggleTag(this)">
                    ğŸ• ìŒì‹
                  </button>
                  <button class="tag-btn" onclick="toggleTag(this)">
                    ğŸ’ª í”¼íŠ¸ë‹ˆìŠ¤
                  </button>
                  <button class="tag-btn" onclick="toggleTag(this)">
                    ğŸ“š êµìœ¡
                  </button>
                  <button class="tag-btn" onclick="toggleTag(this)">
                    ğŸ® ê²Œì„
                  </button>
                </div>
                <small
                  style="
                    color: #666;
                    font-size: 0.85rem;
                    margin-top: 8px;
                    display: block;
                  "
                  >ê´€ì‹¬ ë¶„ì•¼ë¥¼ ì„ íƒí•˜ë©´ ë§ì¶¤ ê³ ê°ì„ ì¶”ì²œë°›ì„ ìˆ˜ ìˆì–´ìš”</small
                >
              </div>

              <div class="form-group">
                <label>ğŸ¨ í”„ë¡œí•„ í…Œë§ˆ ìƒ‰ìƒ</label>
                <div style="display: flex; gap: 12px; margin-top: 12px">
                  <div
                    onclick="changeThemeColor('#3B82F6')"
                    style="
                      width: 40px;
                      height: 40px;
                      background: #3b82f6;
                      border-radius: 50%;
                      cursor: pointer;
                      border: 3px solid #3b82f6;
                      box-shadow: 0 2px 8px rgba(59, 130, 246, 0.2);
                    "
                  ></div>
                  <div
                    onclick="changeThemeColor('linear-gradient(135deg, #f093fb 0%, #f5576c 100%)')"
                    style="
                      width: 40px;
                      height: 40px;
                      background: linear-gradient(
                        135deg,
                        #f093fb 0%,
                        #f5576c 100%
                      );
                      border-radius: 50%;
                      cursor: pointer;
                      border: 3px solid transparent;
                    "
                  ></div>
                  <div
                    onclick="changeThemeColor('linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)')"
                    style="
                      width: 40px;
                      height: 40px;
                      background: linear-gradient(
                        135deg,
                        #4facfe 0%,
                        #00f2fe 100%
                      );
                      border-radius: 50%;
                      cursor: pointer;
                      border: 3px solid transparent;
                    "
                  ></div>
                  <div
                    onclick="changeThemeColor('linear-gradient(135deg, #fa709a 0%, #fee140 100%)')"
                    style="
                      width: 40px;
                      height: 40px;
                      background: linear-gradient(
                        135deg,
                        #fa709a 0%,
                        #fee140 100%
                      );
                      border-radius: 50%;
                      cursor: pointer;
                      border: 3px solid transparent;
                    "
                  ></div>
                </div>
              </div>

              <div style="display: flex; gap: 12px; margin-top: 32px">
                <button
                  class="btn"
                  onclick="saveProfile()"
                  style="
                    flex: 1;
                    background: #3b82f6;
                    font-size: 1.1rem;
                    padding: 14px;
                  "
                >
                  ğŸ’¾ í”„ë¡œí•„ ì €ì¥
                </button>
                <button
                  class="btn"
                  onclick="previewProfile()"
                  style="background: #3b82f6; padding: 14px 20px"
                >
                  ğŸ‘€ ë¯¸ë¦¬ë³´ê¸°
                </button>
              </div>

              <!-- í”„ë¡œí•„ í†µê³„ -->
              <div
                style="
                  background: #f8f9fa;
                  border-radius: 12px;
                  padding: 20px;
                  margin-top: 24px;
                  border: 1px solid #e2e8f0;
                "
              >
                <h4 style="color: #2d3748; margin-bottom: 16px">
                  ğŸ“ˆ í”„ë¡œí•„ ì„±ê³¼
                </h4>
                <div
                  style="
                    display: grid;
                    grid-template-columns: repeat(3, 1fr);
                    gap: 16px;
                    text-align: center;
                  "
                >
                  <div>
                    <div
                      style="
                        font-size: 1.5rem;
                        font-weight: bold;
                        color: #3b82f6;
                      "
                    >
                      324
                    </div>
                    <div style="font-size: 0.8rem; color: #666">
                      í”„ë¡œí•„ ì¡°íšŒ
                    </div>
                  </div>
                  <div>
                    <div
                      style="
                        font-size: 1.5rem;
                        font-weight: bold;
                        color: #f093fb;
                      "
                    >
                      87
                    </div>
                    <div style="font-size: 0.8rem; color: #666">íŒ”ë¡œìš°</div>
                  </div>
                  <div>
                    <div
                      style="
                        font-size: 1.5rem;
                        font-weight: bold;
                        color: #4facfe;
                      "
                    >
                      23
                    </div>
                    <div style="font-size: 0.8rem; color: #666">
                      í…œí”Œë¦¿ ì£¼ë¬¸
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ê³ ê° í”Œë¡œìš° -->
      <div id="customer-flow" class="hidden">
        <button class="back-btn" onclick="showMainScreen()">â† ë©”ì¸ìœ¼ë¡œ</button>

        <!-- ê³ ê° 1ë‹¨ê³„: ì¸í”Œë£¨ì–¸ì„œ ì„ íƒ -->
        <div id="customer-step1">
          <h2>ì¸í”Œë£¨ì–¸ì„œ ì„ íƒ</h2>
          <p style="color: #666; margin-bottom: 20px">
            í•¨ê»˜ ì°ê³  ì‹¶ì€ ì¸í”Œë£¨ì–¸ì„œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”
          </p>
          <div class="template-grid" id="influencer-selection-grid">
            <!-- ì¸í”Œë£¨ì–¸ì„œ ì¹´ë“œë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
          </div>
          <button
            class="btn"
            onclick="goToCustomerStep2()"
            disabled
            id="influencer-next-btn"
          >
            ì„ íƒí•œ ì¸í”Œë£¨ì–¸ì„œì˜ í…œí”Œë¦¿ ë³´ê¸°
          </button>
        </div>

        <!-- ê³ ê° 2ë‹¨ê³„: í…œí”Œë¦¿ ì„ íƒ -->
        <div id="customer-step2" class="hidden">
          <!-- ì„ íƒëœ ì¸í”Œë£¨ì–¸ì„œ ì •ë³´ ì„¹ì…˜ -->
          <div
            id="selected-influencer-info"
            style="
              background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
              border: 1px solid #e5e7eb;
              border-radius: 20px;
              padding: 32px;
              margin-bottom: 40px;
              box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
              animation: fadeInUp 0.6s ease-out;
            "
          >
            <div
              style="
                display: flex;
                align-items: center;
                gap: 24px;
                flex-wrap: wrap;
              "
            >
              <div style="position: relative">
                <div
                  id="influencer-cover-image"
                  style="
                    width: 120px;
                    height: 120px;
                    border-radius: 16px;
                    background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    overflow: hidden;
                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
                  "
                >
                  <img
                    id="influencer-cover"
                    src=""
                    alt="ì¸í”Œë£¨ì–¸ì„œ ì»¤ë²„"
                    style="width: 100%; height: 100%; object-fit: cover"
                  />
                </div>
                <div
                  style="
                    position: absolute;
                    -bottom: 8px;
                    -right: 8px;
                    background: #10b981;
                    color: white;
                    padding: 4px 8px;
                    border-radius: 12px;
                    font-size: 0.75rem;
                    font-weight: 600;
                    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
                  "
                >
                  âœ“ ì„ íƒë¨
                </div>
              </div>
              <div style="flex: 1; min-width: 250px">
                <div
                  style="
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    margin-bottom: 16px;
                  "
                >
                  <h3
                    id="selected-influencer-name"
                    style="
                      margin: 0;
                      font-size: 1.75rem;
                      font-weight: 700;
                      color: #1f2937;
                      letter-spacing: -0.025em;
                    "
                  >
                    ì¸í”Œë£¨ì–¸ì„œ ì´ë¦„
                  </h3>
                  <span
                    style="
                      background: linear-gradient(135deg, #3b82f6, #2563eb);
                      color: white;
                      padding: 6px 12px;
                      border-radius: 20px;
                      font-size: 0.875rem;
                      font-weight: 600;
                      letter-spacing: -0.01em;
                    "
                    >í”„ë¦¬ë¯¸ì—„</span
                  >
                </div>
                <p
                  id="selected-influencer-description"
                  style="
                    margin: 0 0 20px 0;
                    color: #6b7280;
                    font-size: 1.125rem;
                    line-height: 1.6;
                  "
                >
                  ì¸í”Œë£¨ì–¸ì„œ ì„¤ëª…
                </p>
                <div style="display: flex; gap: 16px; flex-wrap: wrap">
                  <div
                    style="
                      display: flex;
                      align-items: center;
                      gap: 8px;
                      padding: 8px 16px;
                      background: rgba(59, 130, 246, 0.1);
                      border-radius: 12px;
                    "
                  >
                    <span style="font-size: 1.2rem">ğŸ“¸</span>
                    <span
                      style="
                        font-size: 0.875rem;
                        font-weight: 600;
                        color: #3b82f6;
                      "
                      >í…œí”Œë¦¿ 3ê°œ</span
                    >
                  </div>
                  <div
                    style="
                      display: flex;
                      align-items: center;
                      gap: 8px;
                      padding: 8px 16px;
                      background: rgba(16, 185, 129, 0.1);
                      border-radius: 12px;
                    "
                  >
                    <span style="font-size: 1.2rem">â­</span>
                    <span
                      style="
                        font-size: 0.875rem;
                        font-weight: 600;
                        color: #10b981;
                      "
                      >4.9/5.0</span
                    >
                  </div>
                  <div
                    style="
                      display: flex;
                      align-items: center;
                      gap: 8px;
                      padding: 8px 16px;
                      background: rgba(245, 101, 101, 0.1);
                      border-radius: 12px;
                    "
                  >
                    <span style="font-size: 1.2rem">ğŸ”¥</span>
                    <span
                      style="
                        font-size: 0.875rem;
                        font-weight: 600;
                        color: #f56565;
                      "
                      >ì¸ê¸° ì¸í”Œë£¨ì–¸ì„œ</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
          <h2>í…œí”Œë¦¿ ì„ íƒ</h2>
          <div class="template-grid" id="customer-template-grid">
            <!-- í…œí”Œë¦¿ ì¹´ë“œë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
          </div>
          <button
            class="btn"
            onclick="goToCustomerStep3()"
            disabled
            id="template-next-btn"
          >
            ë‹¤ìŒ ë‹¨ê³„ë¡œ
          </button>
        </div>

        <!-- ê³ ê° 3ë‹¨ê³„: ê²°ì œ -->
        <div id="customer-step3" class="hidden">
          <h2>ğŸ’³ ê²°ì œí•˜ê¸°</h2>
          <div style="max-width: 500px; margin: 0 auto">
            <!-- ì£¼ë¬¸ ìš”ì•½ -->
            <div
              style="
                background: white;
                border-radius: 16px;
                border: 1px solid #e2e8f0;
                padding: 24px;
                margin-bottom: 24px;
              "
            >
              <h3 style="margin-bottom: 16px; color: #2d3748">ğŸ“‹ ì£¼ë¬¸ ë‚´ì—­</h3>
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  margin-bottom: 12px;
                "
              >
                <span>AI ë„¤ì»·ì‚¬ì§„ ì œì‘</span>
                <span style="font-weight: 600">â‚©9,000</span>
              </div>
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  margin-bottom: 12px;
                "
              >
                <span style="color: #666">ì„ íƒí•œ ì¸í”Œë£¨ì–¸ì„œ:</span>
                <span id="payment-influencer">-</span>
              </div>
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  margin-bottom: 12px;
                "
              >
                <span style="color: #666">ì„ íƒí•œ í…œí”Œë¦¿:</span>
                <span id="payment-template">-</span>
              </div>
              <hr
                style="
                  margin: 16px 0;
                  border: none;
                  border-top: 1px solid #e2e8f0;
                "
              />
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  font-size: 1.2rem;
                  font-weight: bold;
                  color: #2d3748;
                "
              >
                <span>ì´ ê²°ì œ ê¸ˆì•¡</span>
                <span>â‚©9,000</span>
              </div>
            </div>

            <!-- ê²°ì œ ë°©ë²• ì„ íƒ -->
            <div
              style="
                background: white;
                border-radius: 16px;
                border: 1px solid #e2e8f0;
                padding: 24px;
                margin-bottom: 24px;
              "
            >
              <h3 style="margin-bottom: 16px; color: #2d3748">ğŸ’³ ê²°ì œ ë°©ë²•</h3>
              <div
                style="
                  display: grid;
                  grid-template-columns: repeat(2, 1fr);
                  gap: 12px;
                "
              >
                <div
                  onclick="selectPaymentMethod('card', this)"
                  id="payment-card"
                  class="payment-method"
                >
                  <div style="font-size: 1.5rem; margin-bottom: 8px">ğŸ’³</div>
                  <div style="font-weight: 500">ì¹´ë“œê²°ì œ</div>
                </div>
                <div
                  onclick="selectPaymentMethod('kakao', this)"
                  id="payment-kakao"
                  class="payment-method"
                >
                  <div style="font-size: 1.5rem; margin-bottom: 8px">ğŸ’›</div>
                  <div style="font-weight: 500">ì¹´ì¹´ì˜¤í˜ì´</div>
                </div>
              </div>
            </div>

            <button
              class="btn"
              onclick="proceedToPhotoUpload()"
              id="payment-proceed-btn"
              style="
                width: 100%;
                font-size: 1.1rem;
                padding: 16px;
                background: #3b82f6;
                cursor: pointer;
                position: relative;
                z-index: 999;
              "
            >
              ê²°ì œ í›„ ì‚¬ì§„ ì—…ë¡œë“œí•˜ê¸°
            </button>
          </div>
        </div>

        <!-- ê³ ê° 4ë‹¨ê³„: ì–¼êµ´ ì‚¬ì§„ ì—…ë¡œë“œ -->
        <div id="customer-step4" class="hidden">
          <h2>ì–¼êµ´ ì‚¬ì§„ ì—…ë¡œë“œ (3-5ì¥)</h2>
          <div
            class="photo-upload"
            onclick="document.getElementById('customer-photo-input').click()"
          >
            <div>ğŸ“· ì–¼êµ´ì´ ì˜ ë³´ì´ëŠ” ì‚¬ì§„ 3-5ì¥ì„ ì—…ë¡œë“œí•´ì£¼ì„¸ìš”</div>
            <input
              type="file"
              id="customer-photo-input"
              multiple
              accept="image/*"
              style="display: none"
              onchange="handleCustomerPhotoUpload(event)"
            />
          </div>
          <div id="customer-uploaded-photos" class="uploaded-photos"></div>
          <div style="margin-top: 20px; color: #666; font-size: 0.9rem">
            ğŸ’¡ ë” ë‚˜ì€ ê²°ê³¼ë¥¼ ìœ„í•œ íŒ:<br />
            â€¢ ì •ë©´ì—ì„œ ì´¬ì˜í•œ ì‚¬ì§„<br />
            â€¢ ì–¼êµ´ì´ ì„ ëª…í•˜ê²Œ ë³´ì´ëŠ” ì‚¬ì§„<br />
            â€¢ ë‹¤ì–‘í•œ ê°ë„ì˜ ì‚¬ì§„
          </div>
          <button
            class="btn"
            onclick="goToCustomerStep4()"
            disabled
            id="customer-photo-next-btn"
          >
            ì‚¬ì§„ ì²˜ë¦¬í•˜ê¸°
          </button>
        </div>

        <!-- ê³ ê° 5ë‹¨ê³„: ìƒ˜í”Œ í™•ì¸ -->
        <div id="customer-step5" class="hidden">
          <h2>âœ¨ AI ë„¤ì»·ì‚¬ì§„ ì™„ì„±!</h2>
          <div
            class="sample-result"
            id="generated-sample-container"
            style="text-align: center; margin: 32px auto"
          >
            <!-- ìƒì„±ëœ ìƒ˜í”Œì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
          </div>
          <div
            style="
              display: flex;
              gap: 12px;
              justify-content: center;
              margin-top: 24px;
            "
          >
            <button
              class="btn"
              onclick="goToCustomerStep6()"
              style="background: #f59e0b; color: #fff"
            >
              ìˆ˜ì • ìš”ì²­í•˜ê¸°
            </button>
            <button
              class="btn"
              onclick="goToCustomerStep7()"
              style="background: #3b82f6"
            >
              ì´ëŒ€ë¡œ ì£¼ë¬¸í•˜ê¸°
            </button>
          </div>
        </div>

        <!-- ê³ ê° 6ë‹¨ê³„: í”¼ë“œë°± -->
        <div id="customer-step6" class="hidden">
          <h2>ìƒ˜í”Œì— ëŒ€í•œ í”¼ë“œë°±</h2>
          <div class="feedback-section">
            <div class="form-group">
              <label>ê°œì„  ìš”ì²­ì‚¬í•­</label>
              <textarea
                id="customer-feedback"
                rows="4"
                placeholder="ìˆ˜ì •í•˜ê³  ì‹¶ì€ ë¶€ë¶„ì´ë‚˜ ê°œì„ ì‚¬í•­ì„ ì ì–´ì£¼ì„¸ìš”..."
              ></textarea>
            </div>
            <button class="btn" onclick="submitCustomerFeedback()">
              í”¼ë“œë°± ì œì¶œ
            </button>
            <button
              class="btn"
              onclick="goToCustomerStep7()"
              style="background: #3b82f6; margin-top: 10px"
            >
              ìµœì¢… ì£¼ë¬¸í•˜ê¸°
            </button>
          </div>
        </div>

        <!-- ê³ ê° 7ë‹¨ê³„: ìµœì¢… ì£¼ë¬¸ -->
        <div id="customer-step7" class="hidden">
          <h2>4ì»· í¬í† ì¹´ë“œ ì£¼ë¬¸</h2>
          <div
            class="sample-result"
            style="text-align: center; margin: 32px auto"
          >
            <img
              id="final-order-photo"
              src=""
              alt="ì™„ì„±ëœ AI ë„¤ì»·ì‚¬ì§„"
              class="clickable-photo"
              style="
                max-width: 100%;
                height: auto;
                border-radius: 16px;
                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
                border: 1px solid #e2e8f0;
                cursor: pointer;
              "
              onclick="openPhotoModal(this.src, 'ì™„ì„±ëœ AI ë„¤ì»·ì‚¬ì§„', 'ì£¼ë¬¸í•  ìµœì¢… AI ë„¤ì»·ì‚¬ì§„ì…ë‹ˆë‹¤')"
            />
            <p style="color: #666; margin-top: 16px; font-size: 0.9rem">
              ì£¼ë¬¸í•  ìµœì¢… AI ë„¤ì»·ì‚¬ì§„
              <span style="color: #3b82f6; font-weight: 500"
                >(í´ë¦­í•˜ì—¬ í™•ëŒ€)</span
              >
            </p>
          </div>

          <!-- ìƒí’ˆ ì •ë³´ ë° ê°€ê²© -->
          <div
            style="
              background: #f8f9fa;
              padding: 20px;
              border-radius: 10px;
              margin: 20px 0;
            "
          >
            <h3 style="margin-bottom: 15px">ğŸ“‹ ì£¼ë¬¸ ì •ë³´</h3>
            <div
              style="
                display: flex;
                justify-content: space-between;
                margin-bottom: 10px;
              "
            >
              <span>4ì»· í¬í† ì¹´ë“œ (ê³ í’ˆì§ˆ ì¸í™”)</span>
              <span style="font-weight: bold">9,000ì›</span>
            </div>
            <div
              style="
                display: flex;
                justify-content: space-between;
                margin-bottom: 10px;
              "
            >
              <span>ë°°ì†¡ë¹„</span>
              <span>3,000ì›</span>
            </div>
            <div
              style="
                display: flex;
                justify-content: space-between;
                margin-bottom: 10px;
                color: #10b981;
              "
            >
              <span>í• ì¸ (ì²« ì£¼ë¬¸)</span>
              <span>-2,000ì›</span>
            </div>
            <hr style="margin: 15px 0" />
            <div
              style="
                display: flex;
                justify-content: space-between;
                font-size: 1.2rem;
                font-weight: bold;
                color: #dc3545;
              "
            >
              <span>ì´ ê²°ì œê¸ˆì•¡</span>
              <span>9,000ì›</span>
            </div>
          </div>

          <div class="form-container">
            <h3 style="margin-bottom: 20px">ğŸ“¦ ë°°ì†¡ ì •ë³´</h3>
            <div class="form-group">
              <label>ë°›ëŠ” ë¶„ ì´ë¦„</label>
              <input
                type="text"
                id="delivery-name"
                placeholder="ë°›ëŠ” ë¶„ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"
              />
            </div>
            <div class="form-group">
              <label>ì—°ë½ì²˜</label>
              <input
                type="tel"
                id="delivery-phone"
                placeholder="íœ´ëŒ€í° ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"
              />
            </div>
            <div class="form-group">
              <label>ë°°ì†¡ ì£¼ì†Œ</label>
              <textarea
                id="delivery-address"
                rows="3"
                placeholder="ìƒì„¸ ì£¼ì†Œê¹Œì§€ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”"
              ></textarea>
            </div>
            <div class="form-group">
              <label>ë°°ì†¡ ìš”ì²­ì‚¬í•­ (ì„ íƒ)</label>
              <input
                type="text"
                id="delivery-memo"
                placeholder="ë°°ì†¡ì‹œ ìš”ì²­ì‚¬í•­ì´ ìˆìœ¼ë©´ ì ì–´ì£¼ì„¸ìš”"
              />
            </div>

            <div style="margin-top: 30px">
              <h3 style="margin-bottom: 20px">ğŸ“¤ ìˆ˜ë ¹ ë°©ë²• ì„ íƒ</h3>
              <div style="display: flex; gap: 15px; justify-content: center">
                <button
                  class="btn"
                  onclick="selectDeliveryMethod('shipping')"
                  style="
                    background: #3b82f6;
                    font-size: 1.1rem;
                    padding: 15px 20px;
                    flex: 1;
                  "
                >
                  ğŸ“¦ ë°°ì†¡ìœ¼ë¡œ ë°›ê¸°
                </button>
                <button
                  class="btn"
                  onclick="selectDeliveryMethod('kakao')"
                  style="
                    background: #f59e0b;
                    color: #000;
                    font-size: 1.1rem;
                    padding: 15px 20px;
                    flex: 1;
                  "
                >
                  ğŸ’¬ ì¹´ì¹´ì˜¤í†¡ ì „ì†¡
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- ê³ ê° 8ë‹¨ê³„: ë°°ì†¡ì •ë³´ ë° ìµœì¢…ê²°ì œ -->
        <div id="customer-step8" class="hidden">
          <h2>ğŸ’³ ê²°ì œ ì •ë³´ ì…ë ¥</h2>

          <!-- ì£¼ë¬¸ ìš”ì•½ -->
          <div
            style="
              background: #e3f2fd;
              padding: 20px;
              border-radius: 10px;
              margin-bottom: 30px;
            "
          >
            <h3 style="margin-bottom: 15px; color: #1976d2">ğŸ“‹ ì£¼ë¬¸ ìš”ì•½</h3>
            <div
              style="
                display: flex;
                justify-content: space-between;
                margin-bottom: 8px;
              "
            >
              <span>ìƒí’ˆ: 4ì»· í¬í† ì¹´ë“œ</span>
              <span>9,000ì›</span>
            </div>
            <div
              style="
                display: flex;
                justify-content: space-between;
                margin-bottom: 8px;
              "
            >
              <span>ë°°ì†¡ë¹„</span>
              <span>3,000ì›</span>
            </div>
            <div
              style="
                display: flex;
                justify-content: space-between;
                margin-bottom: 8px;
                color: #10b981;
              "
            >
              <span>ì²« ì£¼ë¬¸ í• ì¸</span>
              <span>-2,000ì›</span>
            </div>
            <hr />
            <div
              style="
                display: flex;
                justify-content: space-between;
                font-weight: bold;
                font-size: 1.1rem;
                color: #dc3545;
              "
            >
              <span>ì´ ê²°ì œê¸ˆì•¡</span>
              <span>9,000ì›</span>
            </div>
          </div>

          <div class="form-container">
            <!-- ê²°ì œ ë°©ë²• ì„ íƒ -->
            <div class="form-group">
              <label>ê²°ì œ ë°©ë²•</label>
              <div
                style="
                  display: grid;
                  grid-template-columns: repeat(2, 1fr);
                  gap: 15px;
                  margin-top: 10px;
                "
              >
                <div
                  class="payment-method"
                  onclick="selectPaymentMethod('card', this)"
                  style="
                    border: 2px solid #ddd;
                    padding: 15px;
                    border-radius: 10px;
                    text-align: center;
                    cursor: pointer;
                    transition: all 0.3s;
                  "
                >
                  ğŸ’³<br /><strong>ì‹ ìš©ì¹´ë“œ</strong><br /><small>ì¦‰ì‹œê²°ì œ</small>
                </div>
                <div
                  class="payment-method"
                  onclick="selectPaymentMethod('bank', this)"
                  style="
                    border: 2px solid #ddd;
                    padding: 15px;
                    border-radius: 10px;
                    text-align: center;
                    cursor: pointer;
                    transition: all 0.3s;
                  "
                >
                  ğŸ¦<br /><strong>ê³„ì¢Œì´ì²´</strong><br /><small
                    >ì‹¤ì‹œê°„ì´ì²´</small
                  >
                </div>
              </div>
              <div
                style="
                  display: grid;
                  grid-template-columns: repeat(2, 1fr);
                  gap: 15px;
                  margin-top: 15px;
                "
              >
                <div
                  class="payment-method"
                  onclick="selectPaymentMethod('kakao', this)"
                  style="
                    border: 2px solid #ddd;
                    padding: 15px;
                    border-radius: 10px;
                    text-align: center;
                    cursor: pointer;
                    transition: all 0.3s;
                  "
                >
                  ğŸ’›<br /><strong>ì¹´ì¹´ì˜¤í˜ì´</strong><br /><small
                    >ê°„í¸ê²°ì œ</small
                  >
                </div>
                <div
                  class="payment-method"
                  onclick="selectPaymentMethod('toss', this)"
                  style="
                    border: 2px solid #ddd;
                    padding: 15px;
                    border-radius: 10px;
                    text-align: center;
                    cursor: pointer;
                    transition: all 0.3s;
                  "
                >
                  ğŸ”µ<br /><strong>í† ìŠ¤í˜ì´</strong><br /><small>ê°„í¸ê²°ì œ</small>
                </div>
              </div>
            </div>

            <!-- ì‹ ìš©ì¹´ë“œ ê²°ì œ í¼ -->
            <div id="card-payment-form" class="hidden">
              <h3 style="margin: 30px 0 20px 0">ğŸ’³ ì‹ ìš©ì¹´ë“œ ì •ë³´</h3>
              <div class="form-group">
                <label>ì¹´ë“œë²ˆí˜¸</label>
                <input
                  type="text"
                  id="card-number"
                  placeholder="1234-5678-9012-3456"
                  maxlength="19"
                  oninput="formatCardNumber(this)"
                />
              </div>
              <div
                style="
                  display: grid;
                  grid-template-columns: 1fr 1fr 1fr;
                  gap: 15px;
                "
              >
                <div class="form-group">
                  <label>ìœ íš¨ê¸°ê°„</label>
                  <input
                    type="text"
                    id="card-expiry"
                    placeholder="MM/YY"
                    maxlength="5"
                    oninput="formatExpiry(this)"
                  />
                </div>
                <div class="form-group">
                  <label>CVC</label>
                  <input
                    type="text"
                    id="card-cvc"
                    placeholder="123"
                    maxlength="3"
                  />
                </div>
                <div class="form-group">
                  <label>í• ë¶€</label>
                  <select id="installment">
                    <option value="0">ì¼ì‹œë¶ˆ</option>
                    <option value="2">2ê°œì›”</option>
                    <option value="3">3ê°œì›”</option>
                    <option value="6">6ê°œì›”</option>
                  </select>
                </div>
              </div>
              <div class="form-group">
                <label>ì¹´ë“œ ë¹„ë°€ë²ˆí˜¸ ì• 2ìë¦¬</label>
                <input
                  type="password"
                  id="card-password"
                  placeholder="**"
                  maxlength="2"
                />
              </div>
            </div>

            <!-- ê³„ì¢Œì´ì²´ í¼ -->
            <div id="bank-payment-form" class="hidden">
              <h3 style="margin: 30px 0 20px 0">ğŸ¦ ê³„ì¢Œì´ì²´ ì •ë³´</h3>
              <div class="form-group">
                <label>ì€í–‰ ì„ íƒ</label>
                <select id="bank-select">
                  <option value="">ì€í–‰ì„ ì„ íƒí•´ì£¼ì„¸ìš”</option>
                  <option value="kb">KBêµ­ë¯¼ì€í–‰</option>
                  <option value="shinhan">ì‹ í•œì€í–‰</option>
                  <option value="woori">ìš°ë¦¬ì€í–‰</option>
                  <option value="hana">í•˜ë‚˜ì€í–‰</option>
                  <option value="nh">NHë†í˜‘ì€í–‰</option>
                </select>
              </div>
              <div class="form-group">
                <label>ê³„ì¢Œë²ˆí˜¸</label>
                <input
                  type="text"
                  id="account-number"
                  placeholder="ê³„ì¢Œë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"
                />
              </div>
              <div class="form-group">
                <label>ì˜ˆê¸ˆì£¼ëª…</label>
                <input
                  type="text"
                  id="account-holder"
                  placeholder="ì˜ˆê¸ˆì£¼ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"
                />
              </div>
            </div>

            <div
              style="
                background: #fff3cd;
                padding: 15px;
                border-radius: 8px;
                margin: 20px 0;
              "
            >
              <div
                style="display: flex; align-items: center; margin-bottom: 10px"
              >
                <input
                  type="checkbox"
                  id="agree-terms"
                  style="margin-right: 10px"
                />
                <label for="agree-terms"
                  >ê²°ì œ ì§„í–‰ ë° ê°œì¸ì •ë³´ ìˆ˜ì§‘Â·ì´ìš©ì— ë™ì˜í•©ë‹ˆë‹¤.</label
                >
              </div>
              <div style="display: flex; align-items: center">
                <input
                  type="checkbox"
                  id="agree-marketing"
                  style="margin-right: 10px"
                />
                <label for="agree-marketing"
                  >ë§ˆì¼€íŒ… ì •ë³´ ìˆ˜ì‹ ì— ë™ì˜í•©ë‹ˆë‹¤. (ì„ íƒ)</label
                >
              </div>
            </div>

            <button
              class="btn"
              onclick="processPayment()"
              id="payment-btn"
              style="
                background: #dc3545;
                font-size: 1.2rem;
                padding: 18px;
                margin-top: 20px;
                position: relative;
                z-index: 999;
                pointer-events: auto;
                cursor: pointer;
              "
            >
              ğŸ”’ 9,000ì› ê²°ì œí•˜ê¸°
            </button>
            <button
              class="btn"
              onclick="goBackToOrder()"
              style="background: #6c757d; margin-top: 10px"
            >
              â† ì£¼ë¬¸ ì •ë³´ ìˆ˜ì •
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      let selectedTemplate = null;
      let selectedInfluencer = null;
      let customerPhotos = [];
      let influencerPhotos = [];
      let currentUserType = null;
      let selectedThemes = new Set();

      // ì¸í”Œë£¨ì–¸ì„œ ë°ì´í„°
      const influencerData = [
        {
          id: "danaka",
          name: "ë‹¤ë‚˜ì¹´",
          image: "assets/influencers/danaka.png",
          description: "ê·€ì—¬ìš´ ìŠ¤íƒ€ì¼ì˜ ì „ë¬¸ê°€",
        },
        {
          id: "mijo",
          name: "ì§ë¯¸ì¡°",
          image: "assets/influencers/mijo.png",
          description: "íŠ¸ë Œë””í•œ ê°ì„±ì˜ í¬ë¦¬ì—ì´í„°",
        },
        {
          id: "sabae",
          name: "ì´ì‚¬ë°°",
          image: "assets/influencers/sabae.png",
          description: "ì„¸ë ¨ëœ ì»¨ì…‰ì˜ ì¸í”Œë£¨ì–¸ì„œ",
        },
      ];

      // í…Œë§ˆ ë°ì´í„°
      const themeData = [
        {
          id: "night",
          name: "ì•¼ê²½",
          image: "assets/background/night.png",
          description: "ë¡œë§¨í‹±í•œ ì•¼ê²½ ë°°ê²½",
        },
        {
          id: "basic",
          name: "ì¸ìƒë„¤ì»·",
          image: "assets/background/basic.png",
          description: "í´ë˜ì‹í•œ ì¸ìƒë„¤ì»· ìŠ¤íƒ€ì¼",
        },
        {
          id: "amusement",
          name: "ë†€ì´ê³µì›",
          image: "assets/background/amusement.jpg",
          description: "ì¦ê±°ìš´ ë†€ì´ê³µì› í…Œë§ˆ",
        },
      ];

      // í…œí”Œë¦¿ ë°ì´í„° (ê° ì¸í”Œë£¨ì–¸ì„œë³„)
      const templateData = [
        {
          id: "night_template",
          name: "ì•¼ê²½ í…œí”Œë¦¿",
          image: "assets/templates/night.jpeg",
          influencer: "danaka",
          theme: "night",
        },
        {
          id: "basic_template",
          name: "ì¸ìƒë„¤ì»· í…œí”Œë¦¿",
          image: "assets/templates/basic.png",
          influencer: "mijo",
          theme: "basic",
        },
        {
          id: "amusement_template",
          name: "ë†€ì´ê³µì› í…œí”Œë¦¿",
          image: "assets/templates/amusement.jpeg",
          influencer: "sabae",
          theme: "amusement",
        },
      ];

      // í™”ë©´ ì „í™˜ í•¨ìˆ˜ë“¤
      function showLogin() {
        hideAllScreens();
        document.getElementById("login-screen").classList.remove("hidden");
      }

      function showSignup() {
        hideAllScreens();
        document.getElementById("signup-screen").classList.remove("hidden");
      }

      function showMainScreen() {
        hideAllScreens();
        document.getElementById("main-screen").classList.remove("hidden");
        loadMainContent();
      }

      function showInfluencerFlow() {
        hideAllScreens();
        document.getElementById("influencer-flow").classList.remove("hidden");
        resetInfluencerFlow();
      }

      function showCustomerFlow() {
        hideAllScreens();
        document.getElementById("customer-flow").classList.remove("hidden");
        resetCustomerFlow();
        loadInfluencerSelection();
      }

      function showInfluencerMain() {
        hideAllScreens();
        document.getElementById("main-screen").classList.remove("hidden");
        loadMainContent();
      }

      function showInfluencerStatistics() {
        hideAllScreens();
        document
          .getElementById("influencer-statistics")
          .classList.remove("hidden");
      }

      function showInfluencerProfile() {
        hideAllScreens();
        document
          .getElementById("influencer-profile")
          .classList.remove("hidden");
      }

      function hideAllScreens() {
        document.querySelectorAll(".container > div").forEach((screen) => {
          screen.classList.add("hidden");
        });
      }

      // Photo Modal Functions
      function openPhotoModal(
        imageSrc,
        title = "AI ë„¤ì»·ì‚¬ì§„",
        description = "í´ë¦­í•˜ì—¬ í™•ëŒ€ëœ ì´ë¯¸ì§€ë¥¼ í™•ì¸í•˜ì„¸ìš”"
      ) {
        const modal = document.getElementById("photoModal");
        const modalImage = document.getElementById("modalImage");
        const modalTitle = document.getElementById("modalTitle");
        const modalDescription = document.getElementById("modalDescription");

        modalImage.src = imageSrc;
        modalImage.alt = title;
        modalTitle.textContent = title;
        modalDescription.textContent = description;

        modal.classList.add("show");
        document.body.style.overflow = "hidden"; // Prevent background scrolling
      }

      function closePhotoModal(event) {
        // Close only if clicking outside the modal content or on close button
        if (
          !event ||
          event.target.id === "photoModal" ||
          event.target.classList.contains("modal-close") ||
          event.target.innerHTML === "&times;"
        ) {
          const modal = document.getElementById("photoModal");
          modal.classList.remove("show");
          document.body.style.overflow = "auto"; // Restore scrolling
        }
      }

      // Keyboard support for modal
      document.addEventListener("keydown", function (event) {
        if (event.key === "Escape") {
          closePhotoModal();
        }
      });

      // Helper function to make images clickable
      function makeImageClickable(imgElement, title, description) {
        imgElement.classList.add("clickable-photo");
        imgElement.onclick = function () {
          openPhotoModal(imgElement.src, title, description);
        };
      }

      // ë¡œê·¸ì¸/íšŒì›ê°€ì… ë¡œì§
      function performLogin() {
        const userType = document.getElementById("login-user-type").value;
        const email = document.getElementById("login-email").value;
        const password = document.getElementById("login-password").value;

        if (!userType || !email || !password) {
          alert("ëª¨ë“  ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
          return;
        }

        currentUserType = userType;
        alert("ë¡œê·¸ì¸ë˜ì—ˆìŠµë‹ˆë‹¤!");
        showMainScreen();
      }

      function performSignup() {
        const name = document.getElementById("signup-name").value;
        const email = document.getElementById("signup-email").value;
        const password = document.getElementById("signup-password").value;
        const userType = document.getElementById("user-type").value;

        if (!name || !email || !password || !userType) {
          alert("ëª¨ë“  ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
          return;
        }

        currentUserType = userType;
        alert("íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!");
        showMainScreen();
      }

      // ë©”ì¸ í™”ë©´ ì½˜í…ì¸  ë¡œë“œ
      function loadMainContent() {
        const mainOptions = document.getElementById("main-options");

        if (currentUserType === "influencer") {
          mainOptions.innerHTML = `
            <div class="option-card" onclick="showInfluencerFlow()">
              <div class="option-icon">âœ¨</div>
              <div class="option-title">ìƒˆ í…œí”Œë¦¿ ë§Œë“¤ê¸°</div>
              <div class="option-desc">
                ë‚˜ë§Œì˜ ë…íŠ¹í•œ í…Œë§ˆë¡œ<br />
                ìƒˆë¡œìš´ í…œí”Œë¦¿ì„ ì œì‘í•˜ì„¸ìš”
              </div>
            </div>
            <div class="option-card" onclick="showInfluencerStatistics()">
              <div class="option-icon">ğŸ“Š</div>
              <div class="option-title">í†µê³„ ë³´ê¸°</div>
              <div class="option-desc">
                í…œí”Œë¦¿ë³„ ì£¼ë¬¸ í˜„í™©ê³¼<br />
                ìˆ˜ìµì„ í™•ì¸í•˜ì„¸ìš”
              </div>
            </div>
            <div class="option-card" onclick="showInfluencerProfile()">
              <div class="option-icon">ğŸ‘¤</div>
              <div class="option-title">í”„ë¡œí•„ ì„¤ì •</div>
              <div class="option-desc">
                ê³ ê°ì—ê²Œ ë³´ì—¬ì§ˆ<br />
                í”„ë¡œí•„ì„ ê¾¸ë©°ë³´ì„¸ìš”
              </div>
            </div>
          `;
        } else {
          mainOptions.innerHTML = `
            <div class="option-card" onclick="showCustomerFlow()">
              <div class="option-icon">ğŸ“¸</div>
              <div class="option-title">AI ë„¤ì»·ì‚¬ì§„ ì£¼ë¬¸</div>
              <div class="option-desc">
                ì¸í”Œë£¨ì–¸ì„œì˜ í…œí”Œë¦¿ì„ ì„ íƒí•˜ê³ <br />
                ë‚˜ë§Œì˜ AI ë„¤ì»·ì‚¬ì§„ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”
              </div>
            </div>
          `;
        }
      }

      // ì¸í”Œë£¨ì–¸ì„œ í…œí”Œë¦¿ ìƒì„± í”Œë¡œìš° ì´ˆê¸°í™”
      function resetInfluencerFlow() {
        // ëª¨ë“  ë‹¨ê³„ ìˆ¨ê¸°ê¸°
        document.querySelectorAll("#influencer-flow > div").forEach((step) => {
          step.classList.add("hidden");
        });
        // ë°”ë¡œ í…Œë§ˆ ì„ íƒ ë‹¨ê³„ë¡œ
        document.getElementById("influencer-step3").classList.remove("hidden");
        selectedThemes.clear();
        loadThemeSelection();
      }

      function loadThemeSelection() {
        const grid = document.getElementById("theme-selection-grid");
        grid.innerHTML = themeData
          .map(
            (theme) => `
          <div class="template-card theme-card" onclick="toggleThemeSelection('${theme.id}')">
            <div class="selection-indicator">âœ“</div>
            <img src="${theme.image}" alt="${theme.name}" class="theme-image clickable-photo" 
                 style="cursor: pointer;" 
                 onclick="event.stopPropagation(); openPhotoModal('${theme.image}', '${theme.name} í…Œë§ˆ', '${theme.description}')" 
                 onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
            <div style="display: none; width: 100%; height: 160px; background: #F3F4F6; border-radius: 12px; margin-bottom: 16px; border: 1px solid #E5E7EB; align-items: center; justify-content: center; color: #6B7280; font-weight: 500; font-size: 0.9rem;">${theme.name}</div>
            <div style="font-weight: 500; margin-bottom: 8px;">${theme.name}</div>
            <div style="color: #666; font-size: 0.85rem;">${theme.description}</div>
            <div class="request-field">
              <textarea placeholder="ì´ í…Œë§ˆì— ëŒ€í•œ íŠ¹ë³„í•œ ìš”ì²­ì‚¬í•­ì´ ìˆë‹¤ë©´ ì ì–´ì£¼ì„¸ìš”..." id="request-${theme.id}"></textarea>
            </div>
          </div>
        `
          )
          .join("");
      }

      function toggleThemeSelection(themeId) {
        const card = event.currentTarget;

        if (selectedThemes.has(themeId)) {
          selectedThemes.delete(themeId);
          card.classList.remove("multi-selected");
        } else {
          selectedThemes.add(themeId);
          card.classList.add("multi-selected");
        }

        document.getElementById("generate-templates-btn").disabled =
          selectedThemes.size === 0;
      }

      function generateSelectedTemplates() {
        if (selectedThemes.size === 0) {
          alert("ìµœì†Œ í•˜ë‚˜ì˜ í…Œë§ˆë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.");
          return;
        }

        const requests = {};
        selectedThemes.forEach((themeId) => {
          const textarea = document.getElementById(`request-${themeId}`);
          if (textarea.value.trim()) {
            requests[themeId] = textarea.value.trim();
          }
        });

        // AI ìƒì„± ì‹œë®¬ë ˆì´ì…˜
        showTemplateGenerationProgress();

        setTimeout(() => {
          showGeneratedTemplates();
          goToInfluencerStep4();
        }, 3000);
      }

      function showTemplateGenerationProgress() {
        const step3 = document.getElementById("influencer-step3");
        step3.innerHTML = `
          <div style="text-align: center; padding: 60px 20px;">
            <div style="font-size: 3rem; margin-bottom: 20px; animation: spin 1s linear infinite;">âœ¨</div>
            <h2>AIê°€ ë‹¹ì‹ ë§Œì˜ í…œí”Œë¦¿ì„ ìƒì„±í•˜ê³  ìˆì–´ìš”...</h2>
            <p style="color: #666; margin: 15px 0; font-size: 1.1rem;">ì„ íƒí•˜ì‹  í…Œë§ˆë“¤ì„ ë°”íƒ•ìœ¼ë¡œ ì™„ë²½í•œ í…œí”Œë¦¿ì„ ë§Œë“¤ê³  ìˆìŠµë‹ˆë‹¤!</p>
            <div style="width: 200px; height: 4px; background: #e2e8f0; border-radius: 2px; margin: 20px auto; overflow: hidden;">
              <div style="width: 100%; height: 100%; background: #3B82F6; border-radius: 2px; animation: progress 3s ease-in-out;"></div>
            </div>
          </div>
        `;
      }

      function showGeneratedTemplates() {
        const step3 = document.getElementById("influencer-step3");
        const selectedThemeList = Array.from(selectedThemes);

        const templatePreviews = selectedThemeList
          .map((themeId) => {
            const themeInfo = themeData.find((t) => t.id === themeId);
            const templateInfo = templateData.find((t) => t.theme === themeId);
            const imagePath = templateInfo
              ? templateInfo.image
              : `templates/${themeId}.jpeg`;

            console.log(
              `Theme: ${themeId}, Template Info:`,
              templateInfo,
              `Image Path: ${imagePath}`
            );

            return `
            <div style="text-align: center; margin: 20px;">
              <img src="${imagePath}" alt="${themeId} í…œí”Œë¦¿" 
                   style="max-width: 200px; height: auto; border-radius: 12px; box-shadow: 0 4px 16px rgba(0,0,0,0.1); border: 1px solid #e2e8f0;"
                   onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" 
                   onload="console.log('ì´ë¯¸ì§€ ë¡œë“œ ì„±ê³µ: ${imagePath}')" />
              <div style="display: none; width: 200px; height: 150px; background: #F3F4F6; border-radius: 12px; border: 1px solid #E5E7EB; align-items: center; justify-content: center; color: #6B7280; font-weight: 500; flex-direction: column;">
                <div>ğŸ“·</div>
                <div style="margin-top: 8px; font-size: 0.9rem;">${
                  themeInfo?.name || themeId
                }</div>
                <div style="font-size: 0.7rem; opacity: 0.7; margin-top: 4px;">í…œí”Œë¦¿</div>
              </div>
              <h4 style="margin-top: 12px; color: #2d3748;">${
                themeInfo?.name || themeId
              } í…œí”Œë¦¿</h4>
            </div>
          `;
          })
          .join("");

        step3.innerHTML = `
          <h2>ğŸ‰ í…œí”Œë¦¿ ìƒì„± ì™„ë£Œ!</h2>
          <p style="color: #666; margin-bottom: 30px; text-align: center;">ì„ íƒí•˜ì‹  í…Œë§ˆë“¤ë¡œ ë©‹ì§„ í…œí”Œë¦¿ì´ ì™„ì„±ë˜ì—ˆì–´ìš”!</p>
          <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 30px; margin: 30px 0;">
            ${templatePreviews}
          </div>
          <div style="text-align: center;">
            <button class="btn" onclick="goToInfluencerStep4()" style="background: #3B82F6; font-size: 1.1rem; padding: 14px 28px;">
              í…œí”Œë¦¿ ë“±ë¡í•˜ê³  í”¼ë“œë°± ë°›ê¸°
            </button>
          </div>
        `;
      }

      // ê³ ê° í”Œë¡œìš° ê´€ë ¨ í•¨ìˆ˜ë“¤
      function resetCustomerFlow() {
        // ëª¨ë“  ê³ ê° ë‹¨ê³„ ìˆ¨ê¸°ê¸°
        document.querySelectorAll("#customer-flow > div").forEach((step) => {
          if (step.id.startsWith("customer-step")) {
            step.classList.add("hidden");
          }
        });
        document.getElementById("customer-step1").classList.remove("hidden");
        selectedInfluencer = null;
        selectedTemplate = null;
      }

      function loadInfluencerSelection() {
        const grid = document.getElementById("influencer-selection-grid");
        grid.innerHTML = influencerData
          .map(
            (influencer) => `
          <div class="template-card" onclick="selectInfluencer('${influencer.id}')">
            <img src="${influencer.image}" alt="${influencer.name}" class="theme-image" />
            <div style="font-weight: 500;">${influencer.name}</div>
            <div style="color: #666; font-size: 0.85rem;">${influencer.description}</div>
          </div>
        `
          )
          .join("");
      }

      function selectInfluencer(influencerId) {
        // ê¸°ì¡´ ì„ íƒ í•´ì œ
        document
          .querySelectorAll("#influencer-selection-grid .template-card")
          .forEach((card) => {
            card.classList.remove("selected");
          });

        // ìƒˆë¡œìš´ ì„ íƒ
        event.currentTarget.classList.add("selected");
        selectedInfluencer = influencerId;

        // ì¸í”Œë£¨ì–¸ì„œ ì •ë³´ ì—…ë°ì´íŠ¸
        const influencer = influencerData.find(
          (inf) => inf.id === influencerId
        );
        if (influencer) {
          updateInfluencerInfo(influencer);
        }

        document.getElementById("influencer-next-btn").disabled = false;
      }

      function updateInfluencerInfo(influencer) {
        // ì¸í”Œë£¨ì–¸ì„œ ì •ë³´ ì—…ë°ì´íŠ¸
        document.getElementById("selected-influencer-name").textContent =
          influencer.name;
        document.getElementById("selected-influencer-description").textContent =
          influencer.description;

        // ì»¤ë²„ ì´ë¯¸ì§€ ì„¤ì • (SabaeëŠ” íŠ¹ë³„í•œ ì»¤ë²„ ì´ë¯¸ì§€ ì‚¬ìš©)
        const coverImage = document.getElementById("influencer-cover");
        if (influencer.id === "sabae") {
          coverImage.src = "assets/cover/cover_sabae.png";
          coverImage.alt = influencer.name + " ì»¤ë²„ ì´ë¯¸ì§€";
        } else {
          // ë‹¤ë¥¸ ì¸í”Œë£¨ì–¸ì„œë“¤ë„ ì»¤ë²„ ì´ë¯¸ì§€ê°€ ìˆë‹¤ë©´ ì‚¬ìš©
          coverImage.src = influencer.image;
          coverImage.alt = influencer.name;
        }
      }

      function loadCustomerTemplates() {
        if (!selectedInfluencer) return;

        const grid = document.getElementById("customer-template-grid");
        // ëª¨ë“  í…œí”Œë¦¿ì„ ë³´ì—¬ì£¼ë˜, ì„ íƒí•œ ì¸í”Œë£¨ì–¸ì„œ ì •ë³´ í‘œì‹œ
        const selectedInfluencerName = influencerData.find(
          (inf) => inf.id === selectedInfluencer
        )?.name;

        grid.innerHTML = templateData
          .map(
            (template, index) => `
          <div class="template-card" onclick="selectTemplate('${template.id}')">
            <img src="${template.image}" alt="${template.name}" class="theme-image clickable-photo" 
                 style="cursor: pointer;" 
                 onclick="event.stopPropagation(); openPhotoModal('${template.image}', '${template.name}', '${selectedInfluencerName}ì˜ ${template.name} í…œí”Œë¦¿ ë¯¸ë¦¬ë³´ê¸°')" 
                 onerror="console.log('ê³ ê° í…œí”Œë¦¿ ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨: ${template.image}'); this.style.display='none'; this.nextElementSibling.style.display='flex';"
                 onload="console.log('ê³ ê° í…œí”Œë¦¿ ì´ë¯¸ì§€ ë¡œë“œ ì„±ê³µ: ${template.image}')" />
            <div style="display: none; width: 100%; height: 160px; background: #F3F4F6; border-radius: 12px; border: 1px solid #E5E7EB; align-items: center; justify-content: center; color: #6B7280; font-weight: 500; flex-direction: column; margin-bottom: 16px;">
              <div>ğŸ“·</div>
              <div style="margin-top: 8px; font-size: 0.9rem;">${template.name}</div>
            </div>
            <div style="font-weight: 500;">${template.name}</div>
            <div style="color: #666; font-size: 0.85rem;">with ${selectedInfluencerName}</div>
          </div>
        `
          )
          .join("");
      }

      // íƒœê·¸ í† ê¸€ í•¨ìˆ˜
      function toggleTag(button) {
        button.classList.toggle("selected");
      }

      function saveProfile() {
        alert("í”„ë¡œí•„ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!");
      }

      function updatePreview() {
        const name = document.getElementById("influencer-profile-name").value;
        const bio = document.getElementById("influencer-bio").value;

        document.getElementById("preview-name").textContent = name || "ê¹€ì¸í”Œ";
        document.getElementById("preview-bio").textContent =
          bio || "ì•ˆë…•í•˜ì„¸ìš”! íŠ¸ë Œë””í•œ í¬í† ì¹´ë“œë¥¼ ë§Œë“¤ì–´ë“œë¦¬ëŠ” ê¹€ì¸í”Œì…ë‹ˆë‹¤ âœ¨";
      }

      function changeThemeColor(gradient) {
        // ëª¨ë“  ìƒ‰ìƒ ì›ë“¤ì˜ í…Œë‘ë¦¬ ì´ˆê¸°í™”
        document
          .querySelectorAll('[onclick*="changeThemeColor"]')
          .forEach((el) => {
            el.style.border = "3px solid transparent";
          });

        // ì„ íƒëœ ìƒ‰ìƒì— í…Œë‘ë¦¬ ì¶”ê°€
        event.currentTarget.style.border = "3px solid rgba(102, 126, 234, 0.8)";
        event.currentTarget.style.boxShadow =
          "0 2px 8px rgba(102, 126, 234, 0.3)";

        // ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸
        const previewCard = document.querySelector(
          "#influencer-profile .gradient-card"
        );
        if (previewCard) {
          previewCard.style.background = gradient;
        }
      }

      function previewProfile() {
        alert("í”„ë¡œí•„ ë¯¸ë¦¬ë³´ê¸°ë¥¼ ìƒˆ ì°½ì—ì„œ ì—´ê² ìŠµë‹ˆë‹¤!");
      }

      // ì¸í”Œë£¨ì–¸ì„œ í”Œë¡œìš° í•¨ìˆ˜ë“¤
      function goToInfluencerStep2() {
        const name = document.getElementById("influencer-name").value;
        const phone = document.getElementById("influencer-phone").value;
        const email = document.getElementById("influencer-email").value;

        if (!name || !phone || !email) {
          alert("ëª¨ë“  ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
          return;
        }

        document.getElementById("influencer-step1").classList.add("hidden");
        document.getElementById("influencer-step2").classList.remove("hidden");
      }

      function toggleUploadMethod() {
        const method = document.getElementById("upload-method").value;
        const snsSection = document.getElementById("sns-section");
        const photoSection = document.getElementById("photo-section");
        const nextBtn = document.getElementById("step2-next-btn");

        snsSection.classList.add("hidden");
        photoSection.classList.add("hidden");
        nextBtn.disabled = true;

        if (method === "sns") {
          snsSection.classList.remove("hidden");
        } else if (method === "photo") {
          photoSection.classList.remove("hidden");
        }
      }

      function checkStep2Completion() {
        const method = document.getElementById("upload-method").value;
        const nextBtn = document.getElementById("step2-next-btn");

        if (method === "sns") {
          const platform = document.getElementById("sns-platform").value;
          const snsId = document.getElementById("sns-id").value;
          nextBtn.disabled = !(platform && snsId);
        } else if (method === "photo") {
          nextBtn.disabled = influencerPhotos.length === 0;
        } else {
          nextBtn.disabled = true;
        }
      }

      function handlePhotoUpload(event) {
        const files = event.target.files;
        const container = document.getElementById("uploaded-photos");
        const nextBtn = document.getElementById("step2-next-btn");

        influencerPhotos = [];
        container.innerHTML = "";

        for (let file of files) {
          influencerPhotos.push(file);
          const img = document.createElement("img");
          img.src = URL.createObjectURL(file);
          img.className = "uploaded-photo";
          container.appendChild(img);
        }

        if (influencerPhotos.length > 0) {
          nextBtn.disabled = false;
        }

        checkStep2Completion();
      }

      function goToInfluencerStep3() {
        document.getElementById("influencer-step2").classList.add("hidden");
        document.getElementById("influencer-step3").classList.remove("hidden");
        loadThemeSelection();
      }

      function toggleTemplateMethod() {
        const method = document.getElementById("template-method").value;
        const aiSection = document.getElementById("ai-generation");
        const customSection = document.getElementById("custom-creation");

        aiSection.classList.add("hidden");
        customSection.classList.add("hidden");

        if (method === "ai") {
          aiSection.classList.remove("hidden");
        } else if (method === "custom") {
          customSection.classList.remove("hidden");
        }
      }

      function generateAITemplate() {
        const style = document.getElementById("template-style").value;
        if (!style) {
          alert("í…œí”Œë¦¿ ìŠ¤íƒ€ì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”.");
          return;
        }

        // AI ìƒì„± ì‹œë®¬ë ˆì´ì…˜
        setTimeout(() => {
          document.getElementById("ai-result").classList.remove("hidden");
          alert("AI í…œí”Œë¦¿ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!");
        }, 2000);
      }

      function goToInfluencerStep4() {
        document.getElementById("influencer-step3").classList.add("hidden");
        document.getElementById("influencer-step4").classList.remove("hidden");

        // ìƒì„±ëœ í…œí”Œë¦¿ ë¯¸ë¦¬ë³´ê¸° í‘œì‹œ
        showInfluencerTemplatePreview();
      }

      function showInfluencerTemplatePreview() {
        const step4 = document.getElementById("influencer-step4");
        const selectedThemeList = Array.from(selectedThemes);

        const templatePreviews = selectedThemeList
          .map((themeId) => {
            const themeInfo = themeData.find((t) => t.id === themeId);

            // ì •í™•í•œ ì´ë¯¸ì§€ ê²½ë¡œ ë§¤í•‘
            let imagePath;
            if (themeId === "amusement") {
              imagePath = "assets/templates/amusement.jpeg";
            } else if (themeId === "night") {
              imagePath = "assets/templates/night.jpeg";
            } else if (themeId === "basic") {
              imagePath = "assets/templates/basic.png";
            } else {
              imagePath = `assets/templates/${themeId}.jpeg`;
            }

            console.log(`Theme: ${themeId}, Image Path: ${imagePath}`);

            return `
            <div style="text-align: center; margin: 15px;">
              <img src="${imagePath}" alt="${themeId} í…œí”Œë¦¿" 
                   style="max-width: 180px; height: auto; border-radius: 12px; box-shadow: 0 4px 16px rgba(0,0,0,0.1); border: 1px solid #e2e8f0;"
                   onerror="console.log('ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨: ${imagePath}'); this.style.display='none'; this.nextElementSibling.style.display='flex';"
                   onload="console.log('ì´ë¯¸ì§€ ë¡œë“œ ì„±ê³µ: ${imagePath}')" />
              <div style="display: none; width: 180px; height: 135px; background: #F3F4F6; border-radius: 12px; border: 1px solid #E5E7EB; align-items: center; justify-content: center; color: #6B7280; font-weight: 500; flex-direction: column;">
                <div>ğŸ“·</div>
                <div style="margin-top: 8px; font-size: 0.9rem;">${
                  themeInfo?.name || themeId
                }</div>
                <div style="font-size: 0.7rem; opacity: 0.7; margin-top: 4px;">í…œí”Œë¦¿</div>
              </div>
              <h4 style="margin-top: 10px; color: #2d3748; font-size: 0.9rem;">${
                themeInfo?.name || themeId
              } í…œí”Œë¦¿</h4>
            </div>
          `;
          })
          .join("");

        step4.innerHTML = `
          <h2>ğŸ¨ ìƒì„±ëœ í…œí”Œë¦¿ í™•ì¸</h2>
          <p style="color: #666; margin-bottom: 20px; text-align: center;">AIê°€ ìƒì„±í•œ í…œí”Œë¦¿ì„ í™•ì¸í•˜ê³  í”¼ë“œë°±ì„ ì œê³µí•´ì£¼ì„¸ìš”</p>
          
          <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; padding: 20px; background: #f8f9fa; border-radius: 12px; margin-bottom: 30px;">
            ${templatePreviews}
          </div>
          
          <div class="feedback-section">
            <div class="form-group">
              <label>í…œí”Œë¦¿ì— ëŒ€í•œ í”¼ë“œë°±</label>
              <textarea
                id="template-feedback"
                rows="4"
                placeholder="í…œí”Œë¦¿ ê°œì„ ì‚¬í•­ì´ë‚˜ ìš”ì²­ì‚¬í•­ì„ ìì„¸íˆ ì ì–´ì£¼ì„¸ìš”..."
              ></textarea>
            </div>
            <div class="form-group">
              <label>ë§Œì¡±ë„</label>
              <select id="satisfaction">
                <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                <option value="5">ë§¤ìš° ë§Œì¡±</option>
                <option value="4">ë§Œì¡±</option>
                <option value="3">ë³´í†µ</option>
                <option value="2">ë¶ˆë§Œì¡±</option>
                <option value="1">ë§¤ìš° ë¶ˆë§Œì¡±</option>
              </select>
            </div>
            <button class="btn" onclick="submitFeedback()">í”¼ë“œë°± ì œì¶œ</button>
            <button
              class="btn"
              onclick="registerTemplate()"
              style="background: #3B82F6; margin-top: 10px"
            >
              í…œí”Œë¦¿ ë“±ë¡í•˜ê¸°
            </button>
          </div>
        `;
      }

      function submitFeedback() {
        const feedback = document.getElementById("template-feedback").value;
        const satisfaction = document.getElementById("satisfaction").value;

        if (!feedback || !satisfaction) {
          alert("í”¼ë“œë°±ê³¼ ë§Œì¡±ë„ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.");
          return;
        }

        // í”¼ë“œë°± ì²˜ë¦¬ ì¤‘ ë©”ì‹œì§€ í‘œì‹œ
        const feedbackSection = document.querySelector(".feedback-section");
        feedbackSection.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 2rem; margin-bottom: 20px;">ğŸ”„</div>
                    <h3>í”¼ë“œë°±ì„ ë°˜ì˜í•˜ì—¬ í…œí”Œë¦¿ì„ ì¬ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤...</h3>
                    <p style="color: #666; margin-top: 10px;">ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.</p>
                </div>
            `;

        // 3ì´ˆ í›„ ìƒˆë¡œìš´ í…œí”Œë¦¿ í‘œì‹œ
        setTimeout(() => {
          showRegeneratedTemplate();
        }, 3000);
      }

      function showRegeneratedTemplate() {
        const feedbackSection = document.querySelector(".feedback-section");
        const selectedThemeList = Array.from(selectedThemes);

        const templatePreviews = selectedThemeList
          .map((themeId) => {
            const themeInfo = themeData.find((t) => t.id === themeId);

            // ì •í™•í•œ ì´ë¯¸ì§€ ê²½ë¡œ ë§¤í•‘
            let imagePath;
            if (themeId === "amusement") {
              imagePath = "assets/templates/amusement.jpeg";
            } else if (themeId === "night") {
              imagePath = "assets/templates/night.jpeg";
            } else if (themeId === "basic") {
              imagePath = "assets/templates/basic.png";
            } else {
              imagePath = `assets/templates/${themeId}.jpeg`;
            }

            return `
            <div style="text-align: center; margin: 15px;">
              <img src="${imagePath}" alt="${themeId} í…œí”Œë¦¿" 
                   style="max-width: 180px; height: auto; border-radius: 12px; box-shadow: 0 4px 16px rgba(0,0,0,0.1); border: 1px solid #e2e8f0;"
                   onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
              <div style="display: none; width: 180px; height: 135px; background: #F3F4F6; border-radius: 12px; border: 1px solid #E5E7EB; align-items: center; justify-content: center; color: #6B7280; font-weight: 500; flex-direction: column;">
                <div>ğŸ“·</div>
                <div style="margin-top: 8px; font-size: 0.9rem;">${
                  themeInfo?.name || themeId
                }</div>
                <div style="font-size: 0.7rem; opacity: 0.7; margin-top: 4px;">ê°œì„ ëœ í…œí”Œë¦¿</div>
              </div>
              <h4 style="margin-top: 10px; color: #2d3748; font-size: 0.9rem;">${
                themeInfo?.name || themeId
              } í…œí”Œë¦¿</h4>
            </div>
          `;
          })
          .join("");

        feedbackSection.innerHTML = `
                <h3 style="text-align: center; margin-bottom: 20px;">ğŸ‰ ê°œì„ ëœ í…œí”Œë¦¿</h3>
                <div class="sample-result" style="display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; padding: 20px; background: #f8f9fa; border-radius: 12px;">
                    ${templatePreviews}
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <div style="background: #d4edda; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                        <strong>ê°œì„ ì‚¬í•­:</strong><br>
                        â€¢ í”¼ë“œë°±ì„ ë°”íƒ•ìœ¼ë¡œ ìƒ‰ìƒ ì¡°ì •<br>
                        â€¢ ë ˆì´ì•„ì›ƒ ìµœì í™”<br>
                        â€¢ ë”ìš± ìì—°ìŠ¤ëŸ¬ìš´ í‘œí˜„
                    </div>
                    <button class="btn" onclick="providMoreFeedback()" style="background: #F59E0B; color: #000; margin-right: 10px;">ì¶”ê°€ í”¼ë“œë°±</button>
                    <button class="btn" onclick="finalizeTemplate()" style="background: #3B82F6;">ìµœì¢… ìŠ¹ì¸</button>
                </div>
            `;
      }

      function providMoreFeedback() {
        const feedbackSection = document.querySelector(".feedback-section");
        feedbackSection.innerHTML = `
                <h3>ì¶”ê°€ í”¼ë“œë°± ì œê³µ</h3>
                <div class="form-group">
                    <label>ì¶”ê°€ ê°œì„ ì‚¬í•­</label>
                    <textarea id="additional-feedback" rows="4" placeholder="ì¶”ê°€ë¡œ ìˆ˜ì •í•˜ê³  ì‹¶ì€ ë¶€ë¶„ì´ë‚˜ ê°œì„ ì‚¬í•­ì„ ì ì–´ì£¼ì„¸ìš”..."></textarea>
                </div>
                <div class="form-group">
                    <label>í˜„ì¬ ë§Œì¡±ë„</label>
                    <select id="new-satisfaction">
                        <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                        <option value="5">ë§¤ìš° ë§Œì¡±</option>
                        <option value="4">ë§Œì¡±</option>
                        <option value="3">ë³´í†µ</option>
                        <option value="2">ë¶ˆë§Œì¡±</option>
                        <option value="1">ë§¤ìš° ë¶ˆë§Œì¡±</option>
                    </select>
                </div>
                <button class="btn" onclick="submitAdditionalFeedback()">ì¶”ê°€ í”¼ë“œë°± ì œì¶œ</button>
                <button class="btn" onclick="showRegeneratedTemplate()" style="background: #6c757d; margin-top: 10px;">ì´ì „ í…œí”Œë¦¿ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
            `;
      }

      function submitAdditionalFeedback() {
        const feedback = document.getElementById("additional-feedback").value;
        const satisfaction = document.getElementById("new-satisfaction").value;

        if (!feedback || !satisfaction) {
          alert("ì¶”ê°€ í”¼ë“œë°±ê³¼ ë§Œì¡±ë„ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.");
          return;
        }

        // ì¬ìƒì„± ê³¼ì • í‘œì‹œ
        const feedbackSection = document.querySelector(".feedback-section");
        feedbackSection.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 2rem; margin-bottom: 20px;">ğŸ¨</div>
                    <h3>ì¶”ê°€ í”¼ë“œë°±ì„ ë°˜ì˜í•˜ì—¬ ìµœì¢… í…œí”Œë¦¿ì„ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤...</h3>
                    <p style="color: #666; margin-top: 10px;">ê³ í’ˆì§ˆ í…œí”Œë¦¿ ìƒì„± ì¤‘...</p>
                </div>
            `;

        // 4ì´ˆ í›„ ìµœì¢… í…œí”Œë¦¿ í‘œì‹œ
        setTimeout(() => {
          showFinalTemplate();
        }, 4000);
      }

      function showFinalTemplate() {
        const feedbackSection = document.querySelector(".feedback-section");
        feedbackSection.innerHTML = `
                <h3 style="text-align: center; margin-bottom: 20px;">âœ¨ ìµœì¢… ì™„ì„± í…œí”Œë¦¿</h3>
                <div class="sample-result">
                    <div style="background: #3B82F6; height: 400px; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 1.2rem; text-shadow: 1px 1px 2px rgba(0,0,0,0.5); position: relative;">
                        <div style="text-align: center;">
                            ì™„ë²½í•œ 4ì»· í…œí”Œë¦¿<br>
                            ğŸŒŸ ìµœì¢… ë²„ì „ ğŸŒŸ<br>
                            <small style="opacity: 0.8;">í”¼ë“œë°± ì™„ì „ ë°˜ì˜</small>
                        </div>
                        <div style="position: absolute; top: 10px; right: 10px; background: rgba(255,255,255,0.2); padding: 5px 10px; border-radius: 20px; font-size: 0.8rem;">
                            FINAL
                        </div>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <div style="background: #d1ecf1; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                        <strong>ğŸ‰ í…œí”Œë¦¿ ì™„ì„±!</strong><br>
                        ëª¨ë“  í”¼ë“œë°±ì´ ë°˜ì˜ëœ ìµœì¢… í…œí”Œë¦¿ì…ë‹ˆë‹¤.<br>
                        ì´ì œ ì›¹ì‚¬ì´íŠ¸ì— ë“±ë¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </div>
                    <button class="btn" onclick="providMoreFeedback()" style="background: #17a2b8; margin-right: 10px;">ë¯¸ì„¸ ì¡°ì •</button>
                    <button class="btn" onclick="registerTemplate()" style="background: #3B82F6;">ì›¹ì‚¬ì´íŠ¸ì— ë“±ë¡</button>
                </div>
            `;
      }

      function finalizeTemplate() {
        const feedbackSection = document.querySelector(".feedback-section");
        feedbackSection.innerHTML = `
                <div style="text-align: center; padding: 30px;">
                    <div style="font-size: 3rem; margin-bottom: 20px;">âœ…</div>
                    <h3>í…œí”Œë¦¿ì´ ìµœì¢… ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤!</h3>
                    <p style="color: #666; margin: 15px 0;">ê³ ê°ë“¤ì´ ì„ íƒí•  ìˆ˜ ìˆë„ë¡ ì›¹ì‚¬ì´íŠ¸ì— ë“±ë¡í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
                    <button class="btn" onclick="registerTemplate()" style="background: #3B82F6;">ì›¹ì‚¬ì´íŠ¸ì— ë“±ë¡í•˜ê¸°</button>
                </div>
            `;
      }

      function registerTemplate() {
        alert(
          "í…œí”Œë¦¿ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤! ì›¹ì‚¬ì´íŠ¸ì—ì„œ ê³ ê°ë“¤ì´ ì„ íƒí•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤."
        );
      }

      // ê³ ê° í”Œë¡œìš° í•¨ìˆ˜ë“¤ ì—…ë°ì´íŠ¸
      function selectTemplate(templateId) {
        // ê¸°ì¡´ ì„ íƒ í•´ì œ
        document
          .querySelectorAll("#customer-template-grid .template-card")
          .forEach((card) => {
            card.classList.remove("selected");
          });

        // ìƒˆë¡œìš´ ì„ íƒ
        event.target.closest(".template-card").classList.add("selected");
        selectedTemplate = templateId;
        document.getElementById("template-next-btn").disabled = false;
      }

      function goToCustomerStep2() {
        if (!selectedInfluencer) {
          alert("ì¸í”Œë£¨ì–¸ì„œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.");
          return;
        }

        document.getElementById("customer-step1").classList.add("hidden");
        document.getElementById("customer-step2").classList.remove("hidden");
        loadCustomerTemplates();
      }

      function goToCustomerStep3() {
        if (!selectedTemplate) {
          alert("í…œí”Œë¦¿ì„ ì„ íƒí•´ì£¼ì„¸ìš”.");
          return;
        }

        // ê²°ì œ ì •ë³´ ì—…ë°ì´íŠ¸
        updatePaymentInfo();

        document.getElementById("customer-step2").classList.add("hidden");
        document.getElementById("customer-step3").classList.remove("hidden");
      }

      function updatePaymentInfo() {
        const influencerName =
          influencerData.find((inf) => inf.id === selectedInfluencer)?.name ||
          "-";
        const templateObj = templateData.find(
          (template) => template.id === selectedTemplate
        );
        const templateName = templateObj?.name || "-";

        document.getElementById("payment-influencer").textContent =
          influencerName;
        document.getElementById("payment-template").textContent = templateName;
      }

      function proceedToPhotoUpload() {
        console.log("proceedToPhotoUpload í•¨ìˆ˜ í˜¸ì¶œë¨");

        // ê²°ì œ ì²˜ë¦¬ ì‹œë®¬ë ˆì´ì…˜
        const btn = document.getElementById("payment-proceed-btn");
        if (btn) {
          btn.innerHTML = "ê²°ì œ ì²˜ë¦¬ ì¤‘...";
          btn.disabled = true;
          console.log("ë²„íŠ¼ ìƒíƒœ ë³€ê²½ë¨");
        } else {
          console.log("payment-proceed-btn ë²„íŠ¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ");
        }

        setTimeout(() => {
          alert("ê²°ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ì´ì œ ì‚¬ì§„ì„ ì—…ë¡œë“œí•´ì£¼ì„¸ìš”.");
          document.getElementById("customer-step3").classList.add("hidden");
          document.getElementById("customer-step4").classList.remove("hidden");
          console.log("ì‚¬ì§„ ì—…ë¡œë“œ í™”ë©´ìœ¼ë¡œ ì „í™˜ë¨");
        }, 2000);
      }

      function handleCustomerPhotoUpload(event) {
        const files = event.target.files;
        const container = document.getElementById("customer-uploaded-photos");
        const nextBtn = document.getElementById("customer-photo-next-btn");

        customerPhotos = [];
        container.innerHTML = "";

        for (let file of files) {
          customerPhotos.push(file);
          const img = document.createElement("img");
          img.src = URL.createObjectURL(file);
          img.className = "uploaded-photo";
          container.appendChild(img);
        }

        if (customerPhotos.length >= 3 && customerPhotos.length <= 5) {
          nextBtn.disabled = false;
        } else {
          nextBtn.disabled = true;
          if (customerPhotos.length > 0) {
            alert("3-5ì¥ì˜ ì‚¬ì§„ì„ ì—…ë¡œë“œí•´ì£¼ì„¸ìš”.");
          }
        }
      }

      function goToCustomerStep4() {
        // í˜„ì¬ëŠ” 4ë‹¨ê³„ê°€ ì—†ìœ¼ë¯€ë¡œ ë°”ë¡œ 5ë‹¨ê³„ë¡œ
        goToCustomerStep5();
      }

      function goToCustomerStep5() {
        if (customerPhotos.length < 3 || customerPhotos.length > 5) {
          alert("3-5ì¥ì˜ ì‚¬ì§„ì„ ì—…ë¡œë“œí•´ì£¼ì„¸ìš”.");
          return;
        }

        // AI ìƒì„± ì‹œë®¬ë ˆì´ì…˜
        document.getElementById("customer-step4").classList.add("hidden");
        showAIGenerationProgress();

        setTimeout(() => {
          showGeneratedSample();
          document.getElementById("customer-step5").classList.remove("hidden");
        }, 3000);
      }

      function showAIGenerationProgress() {
        const step5 = document.getElementById("customer-step5");
        step5.classList.remove("hidden");
        step5.innerHTML = `
          <div style="text-align: center; padding: 60px 20px;">
            <div style="font-size: 3rem; margin-bottom: 20px; animation: spin 1s linear infinite;">ğŸ¨</div>
            <h2>AIê°€ ë‹¹ì‹ ë§Œì˜ ë„¤ì»·ì‚¬ì§„ì„ ìƒì„±í•˜ê³  ìˆì–´ìš”...</h2>
            <p style="color: #666; margin: 15px 0; font-size: 1.1rem;">ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”. ì™„ë²½í•œ í¬í† ì¹´ë“œë¥¼ ë§Œë“¤ê³  ìˆìŠµë‹ˆë‹¤!</p>
            <div style="width: 200px; height: 4px; background: #e2e8f0; border-radius: 2px; margin: 20px auto; overflow: hidden;">
              <div style="width: 100%; height: 100%; background: #3B82F6; border-radius: 2px; animation: progress 3s ease-in-out;"></div>
            </div>
          </div>
          <style>
            @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
            @keyframes progress { 0% { transform: translateX(-100%); } 100% { transform: translateX(0%); } }
          </style>
        `;
      }

      function showGeneratedSample() {
        const templateObj = templateData.find(
          (template) => template.id === selectedTemplate
        );
        const themeName = templateObj ? templateObj.theme : "basic";

        // í…Œë§ˆë³„ ì •í™•í•œ íŒŒì¼ í™•ì¥ì ë§¤í•‘
        let imageExtension = ".jpeg";
        if (themeName === "basic") {
          imageExtension = ".png";
        }

        generatedImagePath = `assets/generated_images/${themeName}${imageExtension}`;
        console.log(`Generated image path: ${generatedImagePath}`);

        const step5 = document.getElementById("customer-step5");
        step5.innerHTML = `
          <h2>âœ¨ AI ë„¤ì»·ì‚¬ì§„ ì™„ì„±!</h2>
          <div class="sample-result" style="text-align: center; margin: 30px 0;">
            <img src="${generatedImagePath}" alt="ìƒì„±ëœ AI ë„¤ì»·ì‚¬ì§„" class="clickable-photo" style="max-width: 100%; height: auto; border-radius: 16px; box-shadow: 0 8px 32px rgba(0,0,0,0.1); border: 1px solid #e2e8f0; cursor: pointer;" onclick="openPhotoModal('${generatedImagePath}', 'AI ë„¤ì»·ì‚¬ì§„ ì™„ì„±', 'ì„ íƒí•˜ì‹  ${
          templateObj?.name || "í…œí”Œë¦¿"
        }ìœ¼ë¡œ ì œì‘ëœ AI ë„¤ì»·ì‚¬ì§„ì…ë‹ˆë‹¤')" />
            <p style="color: #666; margin-top: 16px; font-size: 0.9rem;">ì„ íƒí•˜ì‹  ${
              templateObj?.name || "í…œí”Œë¦¿"
            }ìœ¼ë¡œ ì œì‘ëœ AI ë„¤ì»·ì‚¬ì§„ì…ë‹ˆë‹¤ <span style="color: #3B82F6; font-weight: 500;">(í´ë¦­í•˜ì—¬ í™•ëŒ€)</span></p>
          </div>
          <div style="display: flex; gap: 12px; justify-content: center; margin-top: 24px;">
            <button class="btn" onclick="goToCustomerStep6()" style="background: #F59E0B; color: #fff;">
              ìˆ˜ì • ìš”ì²­í•˜ê¸°
            </button>
            <button class="btn" onclick="goToCustomerStep7()" style="background: #3B82F6;">
              ì´ëŒ€ë¡œ ì£¼ë¬¸í•˜ê¸°
            </button>
          </div>
        `;
      }

      function goToCustomerStep6() {
        document.getElementById("customer-step5").classList.add("hidden");
        document.getElementById("customer-step6").classList.remove("hidden");
      }

      function goToCustomerStep7() {
        document.getElementById("customer-step5").classList.add("hidden");
        document.getElementById("customer-step6").classList.add("hidden");
        document.getElementById("customer-step7").classList.remove("hidden");

        // ìµœì¢… ì£¼ë¬¸ í™”ë©´ì— ìƒì„±ëœ ì´ë¯¸ì§€ í‘œì‹œ
        displayFinalOrderPhoto();
      }

      function displayFinalOrderPhoto() {
        // ì„ íƒëœ í…œí”Œë¦¿ì— ë”°ë¼ ì´ë¯¸ì§€ ê²½ë¡œ ê²°ì •
        let themeName = "";
        let imageExtension = "";

        if (selectedTemplate) {
          const templateObj = templateData.find(
            (t) => t.id === selectedTemplate
          );
          if (templateObj) {
            themeName = templateObj.theme;
          }
        }

        // íŒŒì¼ í™•ì¥ì ê²°ì •
        if (themeName === "basic") {
          imageExtension = ".png";
        } else {
          imageExtension = ".jpeg";
        }

        const finalImagePath = `assets/generated_images/${themeName}${imageExtension}`;
        const finalPhotoElement = document.getElementById("final-order-photo");

        if (finalPhotoElement) {
          finalPhotoElement.src = finalImagePath;
          finalPhotoElement.onerror = function () {
            console.log("ìµœì¢… ì£¼ë¬¸ ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨:", finalImagePath);
            // ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨ì‹œ ê¸°ë³¸ í”Œë ˆì´ìŠ¤í™€ë”
            this.style.display = "none";
            this.parentElement.innerHTML = `
              <div style="background: #F3F4F6; border-radius: 16px; padding: 60px; text-align: center; color: #6B7280;">
                <div style="font-size: 3rem; margin-bottom: 16px;">ğŸ“¸</div>
                <div style="font-weight: 600; margin-bottom: 8px;">ì™„ì„±ëœ AI ë„¤ì»·ì‚¬ì§„</div>
                <div style="font-size: 0.9rem;">ìµœì¢… ì£¼ë¬¸ ì‚¬ì§„</div>
              </div>
            `;
          };
        }
      }

      function submitCustomerFeedback() {
        const feedback = document.getElementById("customer-feedback").value;
        if (!feedback) {
          alert("í”¼ë“œë°±ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
          return;
        }

        // í”¼ë“œë°± ì²˜ë¦¬ ì¤‘ ë©”ì‹œì§€ í‘œì‹œ
        const feedbackSection = document.querySelector(
          "#customer-step6 .feedback-section"
        );
        feedbackSection.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 2rem; margin-bottom: 20px;">ğŸ”„</div>
                    <h3>í”¼ë“œë°±ì„ ë°˜ì˜í•˜ì—¬ í¬í† ì¹´ë“œë¥¼ ì¬ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤...</h3>
                    <p style="color: #666; margin-top: 10px;">AIê°€ ê°œì„ ëœ ê²°ê³¼ë¥¼ ë§Œë“¤ê³  ìˆì–´ìš”.</p>
                </div>
            `;

        // 3ì´ˆ í›„ ê°œì„ ëœ ìƒ˜í”Œ í‘œì‹œ
        setTimeout(() => {
          showImprovedSample();
        }, 3000);
      }

      function showImprovedSample() {
        // Use the same image path that was generated originally
        if (!generatedImagePath) {
          const templateObj = templateData.find(
            (template) => template.id === selectedTemplate
          );
          const themeName = templateObj ? templateObj.theme : "basic";

          // í…Œë§ˆë³„ ì •í™•í•œ íŒŒì¼ í™•ì¥ì ë§¤í•‘
          let imageExtension = ".jpeg";
          if (themeName === "basic") {
            imageExtension = ".png";
          }

          generatedImagePath = `assets/generated_images/${themeName}${imageExtension}`;
        }

        const step6 = document.getElementById("customer-step6");
        step6.innerHTML = `
                <h2>ğŸ‰ ê°œì„ ëœ AI ë„¤ì»·ì‚¬ì§„</h2>
                <div class="sample-result" style="text-align: center; margin: 30px 0;">
                    <img src="${generatedImagePath}" alt="ê°œì„ ëœ AI ë„¤ì»·ì‚¬ì§„" class="clickable-photo" style="max-width: 100%; height: auto; border-radius: 16px; box-shadow: 0 8px 32px rgba(0,0,0,0.1); border: 1px solid #e2e8f0; cursor: pointer;" onclick="openPhotoModal('${generatedImagePath}', 'ê°œì„ ëœ AI ë„¤ì»·ì‚¬ì§„', 'í”¼ë“œë°±ì´ ë°˜ì˜ëœ ê°œì„ ëœ ë²„ì „ì…ë‹ˆë‹¤')" />
                    <div style="position: relative; display: inline-block;">
                      <div style="position: absolute; top: -10px; right: -10px; background: #3B82F6; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.7rem; font-weight: bold;">
                        IMPROVED âœ¨
                      </div>
                    </div>
                    <p style="color: #666; margin-top: 16px; font-size: 0.9rem;">í”¼ë“œë°±ì´ ë°˜ì˜ëœ ê°œì„ ëœ ë²„ì „ì…ë‹ˆë‹¤ <span style="color: #3B82F6; font-weight: 500;">(í´ë¦­í•˜ì—¬ í™•ëŒ€)</span></p>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <div style="background: #d4edda; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                        <strong>ê°œì„ ì‚¬í•­:</strong><br>
                        â€¢ í”¼ë“œë°±ì„ ë°”íƒ•ìœ¼ë¡œ ì–¼êµ´ í‘œí˜„ ê°œì„ <br>
                        â€¢ ë” ìì—°ìŠ¤ëŸ¬ìš´ ìƒ‰ê° ì¡°ì •<br>
                        â€¢ í…œí”Œë¦¿ê³¼ì˜ ì¡°í™” í–¥ìƒ
                    </div>
                    <button class="btn" onclick="provideMoreCustomerFeedback()" style="background: #F59E0B; color: #000; margin-right: 10px;">ì¶”ê°€ ìˆ˜ì • ìš”ì²­</button>
                    <button class="btn" onclick="approveCustomerSample()" style="background: #3B82F6;">ì´ëŒ€ë¡œ ì£¼ë¬¸í•˜ê¸°</button>
                </div>
            `;
      }

      function provideMoreCustomerFeedback() {
        const step6 = document.getElementById("customer-step6");
        step6.innerHTML = `
                <h2>ì¶”ê°€ ìˆ˜ì • ìš”ì²­</h2>
                <div class="sample-result">
                    <div style="background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%); height: 200px; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">
                        í˜„ì¬ ìƒ˜í”Œ
                    </div>
                </div>
                <div class="feedback-section">
                    <div class="form-group">
                        <label>ì¶”ê°€ ìˆ˜ì • ìš”ì²­ì‚¬í•­</label>
                        <textarea id="additional-customer-feedback" rows="4" placeholder="ë” ìˆ˜ì •í•˜ê³  ì‹¶ì€ ë¶€ë¶„ì„ êµ¬ì²´ì ìœ¼ë¡œ ì ì–´ì£¼ì„¸ìš”..."></textarea>
                    </div>
                    <div class="form-group">
                        <label>í˜„ì¬ ë§Œì¡±ë„</label>
                        <select id="customer-satisfaction">
                            <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                            <option value="5">ë§¤ìš° ë§Œì¡±</option>
                            <option value="4">ë§Œì¡±</option>
                            <option value="3">ë³´í†µ</option>
                            <option value="2">ë¶ˆë§Œì¡±</option>
                            <option value="1">ë§¤ìš° ë¶ˆë§Œì¡±</option>
                        </select>
                    </div>
                    <button class="btn" onclick="submitAdditionalCustomerFeedback()">ì¶”ê°€ ìˆ˜ì • ìš”ì²­í•˜ê¸°</button>
                    <button class="btn" onclick="showImprovedSample()" style="background: #6c757d; margin-top: 10px;">ì´ì „ ê²°ê³¼ë¡œ ëŒì•„ê°€ê¸°</button>
                </div>
            `;
      }

      function submitAdditionalCustomerFeedback() {
        const feedback = document.getElementById(
          "additional-customer-feedback"
        ).value;
        const satisfaction = document.getElementById(
          "customer-satisfaction"
        ).value;

        if (!feedback || !satisfaction) {
          alert("ì¶”ê°€ ìˆ˜ì • ìš”ì²­ì‚¬í•­ê³¼ ë§Œì¡±ë„ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.");
          return;
        }

        // ì¬ìƒì„± ê³¼ì • í‘œì‹œ
        const step4 = document.getElementById("customer-step4");
        step4.innerHTML = `
                <div style="text-align: center; padding: 60px 20px;">
                    <div style="font-size: 2.5rem; margin-bottom: 20px;">ğŸ¨</div>
                    <h2>ìµœì¢… í¬í† ì¹´ë“œë¥¼ ì™„ì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤</h2>
                    <p style="color: #666; margin-top: 10px; font-size: 1.1rem;">ëª¨ë“  ìš”ì²­ì‚¬í•­ì„ ë°˜ì˜í•˜ì—¬ ì™„ë²½í•œ ê²°ê³¼ë¥¼ ë§Œë“¤ê³  ìˆì–´ìš”...</p>
                    <div style="margin-top: 30px;">
                        <div style="width: 200px; height: 4px; background: #e0e0e0; border-radius: 2px; margin: 0 auto; overflow: hidden;">
                            <div style="width: 0%; height: 100%; background: #3B82F6; border-radius: 2px; animation: progress 4s ease-in-out forwards;"></div>
                        </div>
                    </div>
                </div>
                <style>
                    @keyframes progress {
                        0% { width: 0%; }
                        100% { width: 100%; }
                    }
                </style>
            `;

        // 4ì´ˆ í›„ ìµœì¢… ê²°ê³¼ í‘œì‹œ
        setTimeout(() => {
          showFinalCustomerResult();
        }, 4000);
      }

      function showFinalCustomerResult() {
        const step6 = document.getElementById("customer-step6");
        step6.innerHTML = `
                <h2>ğŸŒŸ ì™„ë²½í•œ í¬í† ì¹´ë“œ ì™„ì„±!</h2>
                <div class="sample-result">
                    <div style="background: #3B82F6; height: 200px; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 1.2rem; text-shadow: 1px 1px 2px rgba(0,0,0,0.5); position: relative;">
                        <div style="text-align: center;">
                            ì™„ì„±ëœ í¬í† ì¹´ë“œ<br>
                            ğŸ¯ ì™„ë²½ ë²„ì „<br>
                            <small style="opacity: 0.8;">ëª¨ë“  í”¼ë“œë°± ë°˜ì˜</small>
                        </div>
                        <div style="position: absolute; top: 10px; right: 10px; background: rgba(255,255,255,0.2); padding: 5px 10px; border-radius: 20px; font-size: 0.8rem;">
                            PERFECT
                        </div>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <div style="background: #d1ecf1; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                        <strong>ğŸ‰ ìµœì¢… ì™„ì„±!</strong><br>
                        ëª¨ë“  ìˆ˜ì • ìš”ì²­ì´ ì™„ë²½í•˜ê²Œ ë°˜ì˜ë˜ì—ˆìŠµë‹ˆë‹¤.<br>
                        ì´ì œ 4ì»· í¬í† ì¹´ë“œë¥¼ ì£¼ë¬¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </div>
                    <button class="btn" onclick="provideMoreCustomerFeedback()" style="background: #17a2b8; margin-right: 10px;">ë¯¸ì„¸ ì¡°ì •</button>
                    <button class="btn" onclick="goToCustomerStep7()" style="background: #3B82F6;">4ì»· í¬í† ì¹´ë“œ ì£¼ë¬¸í•˜ê¸°</button>
                </div>
            `;
      }

      function approveCustomerSample() {
        const step6 = document.getElementById("customer-step6");
        step6.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 3rem; margin-bottom: 20px;">âœ…</div>
                    <h2>ìƒ˜í”Œì´ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤!</h2>
                    <p style="color: #666; margin: 15px 0; font-size: 1.1rem;">ì´ì œ 4ì»· í¬í† ì¹´ë“œë¥¼ ì œì‘í•˜ì—¬ ë°°ì†¡í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.</p>
                    <button class="btn" onclick="goToCustomerStep7()" style="background: #3B82F6; font-size: 1.1rem; padding: 15px 30px;">4ì»· í¬í† ì¹´ë“œ ì£¼ë¬¸í•˜ê¸°</button>
                </div>
            `;
      }

      function goToCustomerStep6() {
        document.getElementById("customer-step5").classList.add("hidden");
        document.getElementById("customer-step6").classList.remove("hidden");
      }

      let selectedPaymentMethod = null;
      let generatedImagePath = null;

      function selectDeliveryMethod(method) {
        const name = document.getElementById("delivery-name").value;
        const phone = document.getElementById("delivery-phone").value;

        if (!name || !phone) {
          alert("ë°›ëŠ” ë¶„ ì´ë¦„ê³¼ ì—°ë½ì²˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
          return;
        }

        if (method === "shipping") {
          const address = document.getElementById("delivery-address").value;
          if (!address) {
            alert("ë°°ì†¡ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
            return;
          }

          alert(
            `ë°°ì†¡ìœ¼ë¡œ ì£¼ë¬¸ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\n\në°›ëŠ” ë¶„: ${name}\nì—°ë½ì²˜: ${phone}\nì£¼ì†Œ: ${address}\n\nì˜ì—…ì¼ ê¸°ì¤€ 2-3ì¼ ë‚´ ë°°ì†¡ ì˜ˆì •ì…ë‹ˆë‹¤.`
          );
        } else if (method === "kakao") {
          alert(
            `ì¹´ì¹´ì˜¤í†¡ ì „ì†¡ìœ¼ë¡œ ì£¼ë¬¸ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\n\në°›ëŠ” ë¶„: ${name}\nì—°ë½ì²˜: ${phone}\n\nê³ í™”ì§ˆ ì´ë¯¸ì§€ê°€ ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ì „ì†¡ë©ë‹ˆë‹¤.`
          );
        }

        // ì£¼ë¬¸ ì™„ë£Œ í›„ ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°
        setTimeout(() => {
          showMainScreen();
        }, 2000);
      }

      function proceedToPayment() {
        const name = document.getElementById("delivery-name").value;
        const phone = document.getElementById("delivery-phone").value;
        const address = document.getElementById("delivery-address").value;

        if (!name || !phone || !address) {
          alert("ë°°ì†¡ ì •ë³´ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.");
          return;
        }

        document.getElementById("customer-step6").classList.add("hidden");
        document.getElementById("customer-step7").classList.remove("hidden");

        // ê²°ì œ ì°½ ì§„ì… ì‹œ ë°”ë¡œ ë²„íŠ¼ í™œì„±í™”
        setTimeout(() => {
          const paymentBtn = document.getElementById("payment-btn");
          if (paymentBtn) {
            paymentBtn.disabled = false;
            paymentBtn.style.backgroundColor = "#dc3545";
            console.log("ê²°ì œ ì°½ ì§„ì… - ë²„íŠ¼ ê°•ì œ í™œì„±í™”");
          }
        }, 100);
      }

      function goBackToOrder() {
        document.getElementById("customer-step7").classList.add("hidden");
        document.getElementById("customer-step6").classList.remove("hidden");
      }

      function selectPaymentMethod(method, element) {
        console.log(`ê²°ì œ ë°©ë²• ì„ íƒ: ${method}`);
        selectedPaymentMethod = method;

        // ëª¨ë“  ê²°ì œ ë°©ë²• ì„ íƒ í•´ì œ
        document.querySelectorAll(".payment-method").forEach((el) => {
          el.classList.remove("selected");
          el.style.borderColor = "#ddd";
          el.style.backgroundColor = "white";
        });

        // ì„ íƒëœ ë°©ë²• í•˜ì´ë¼ì´íŠ¸
        const paymentElement = element.closest(".payment-method");
        if (paymentElement) {
          paymentElement.classList.add("selected");
          paymentElement.style.borderColor = "#3B82F6";
          paymentElement.style.backgroundColor = "#f0f4ff";
          console.log("ê²°ì œ ë°©ë²• í•˜ì´ë¼ì´íŠ¸ ì™„ë£Œ");
        } else {
          console.log("ê²°ì œ ë°©ë²• ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ");
        }

        // ëª¨ë“  ê²°ì œ í¼ ìˆ¨ê¸°ê¸° (ê°„ë‹¨í™”)
        const cardForm = document.getElementById("card-payment-form");
        const bankForm = document.getElementById("bank-payment-form");

        if (cardForm) cardForm.classList.add("hidden");
        if (bankForm) bankForm.classList.add("hidden");
        console.log(`${method} ê²°ì œ ë°©ë²• ì„ íƒë¨ - ì„¸ë¶€ í¼ ì—†ì´ ë°”ë¡œ ì§„í–‰`);

        checkPaymentForm();
      }

      function formatCardNumber(input) {
        let value = input.value.replace(/\D/g, "");
        let formattedValue = value.replace(/(\d{4})(?=\d)/g, "$1-");
        if (formattedValue.length > 19) {
          formattedValue = formattedValue.substr(0, 19);
        }
        input.value = formattedValue;
        checkPaymentForm();
      }

      function formatExpiry(input) {
        let value = input.value.replace(/\D/g, "");
        if (value.length >= 2) {
          value = value.substr(0, 2) + "/" + value.substr(2, 2);
        }
        input.value = value;
        checkPaymentForm();
      }

      function checkPaymentForm() {
        const paymentBtn = document.getElementById("payment-btn");

        if (!paymentBtn) {
          console.log("ê²°ì œ ë²„íŠ¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤");
          return;
        }

        console.log(`Selected payment method: ${selectedPaymentMethod}`);

        // ê²°ì œ ë°©ë²•ì´ ì„ íƒë˜ì—ˆë‹¤ë©´ ë°”ë¡œ ë²„íŠ¼ í™œì„±í™”
        if (selectedPaymentMethod) {
          console.log("ê²°ì œ ë°©ë²• ì„ íƒë¨ - ë²„íŠ¼ í™œì„±í™”");
          paymentBtn.disabled = false;
          paymentBtn.style.backgroundColor = "#dc3545";
        } else {
          console.log("ê²°ì œ ë°©ë²• ë¯¸ì„ íƒ - ë²„íŠ¼ ë¹„í™œì„±í™”");
          paymentBtn.disabled = true;
          paymentBtn.style.backgroundColor = "#ccc";
        }
      }

      function processPayment() {
        console.log("processPayment í•¨ìˆ˜ í˜¸ì¶œë¨");
        console.log("selectedPaymentMethod:", selectedPaymentMethod);

        // ê²°ì œ ë°©ë²• í™•ì¸ì„ ì œê±°í•˜ê³  ë¬´ì¡°ê±´ ì§„í–‰
        // if (!selectedPaymentMethod) {
        //   alert("ê²°ì œ ë°©ë²•ì„ ì„ íƒí•´ì£¼ì„¸ìš”.");
        //   return;
        // }

        // ê²°ì œ ì²˜ë¦¬ ì¤‘ í™”ë©´
        const step7 = document.getElementById("customer-step7");
        step7.innerHTML = `
                <div style="text-align: center; padding: 60px 20px;">
                    <div style="font-size: 3rem; margin-bottom: 20px;">ğŸ’³</div>
                    <h2>ê²°ì œ ì²˜ë¦¬ ì¤‘ì…ë‹ˆë‹¤...</h2>
                    <p style="color: #666; margin: 15px 0; font-size: 1.1rem;">ì•ˆì „í•œ ê²°ì œë¥¼ ìœ„í•´ ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.</p>
                    <div style="margin-top: 30px;">
                        <div style="width: 250px; height: 6px; background: #e0e0e0; border-radius: 3px; margin: 0 auto; overflow: hidden;">
                            <div style="width: 0%; height: 100%; background: #3B82F6; border-radius: 3px; animation: paymentProgress 3s ease-in-out forwards;"></div>
                        </div>
                        <p style="margin-top: 15px; color: #10B981; font-weight: bold;">ê²°ì œ ìŠ¹ì¸ ì¤‘...</p>
                    </div>
                </div>
                <style>
                    @keyframes paymentProgress {
                        0% { width: 0%; }
                        50% { width: 70%; }
                        100% { width: 100%; }
                    }
                </style>
            `;

        // 3ì´ˆ í›„ ê²°ì œ ì™„ë£Œ í™”ë©´
        setTimeout(() => {
          showPaymentComplete();
        }, 3000);
      }

      function showPaymentComplete() {
        const step7 = document.getElementById("customer-step7");
        const orderNumber = "PC" + Date.now().toString().substr(-8);
        const deliveryDate = new Date(
          Date.now() + 2 * 24 * 60 * 60 * 1000
        ).toLocaleDateString("ko-KR");

        step7.innerHTML = `
                <div style="text-align: center; padding: 40px 20px;">
                    <div style="font-size: 4rem; margin-bottom: 20px;">ğŸ‰</div>
                    <h2 style="color: #10B981; margin-bottom: 20px;">ê²°ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</h2>
                    
                    <div style="background: #d4edda; padding: 25px; border-radius: 15px; margin: 30px 0; text-align: left;">
                        <h3 style="color: #155724; margin-bottom: 15px; text-align: center;">ğŸ“‹ ì£¼ë¬¸ í™•ì¸ì„œ</h3>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span><strong>ì£¼ë¬¸ë²ˆí˜¸:</strong></span>
                            <span>${orderNumber}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span><strong>ìƒí’ˆëª…:</strong></span>
                            <span>4ì»· í¬í† ì¹´ë“œ</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span><strong>ê²°ì œê¸ˆì•¡:</strong></span>
                            <span style="color: #dc3545; font-weight: bold;">9,000ì›</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span><strong>ê²°ì œë°©ë²•:</strong></span>
                            <span>${getPaymentMethodName()}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span><strong>ì˜ˆìƒ ë°°ì†¡ì¼:</strong></span>
                            <span>${deliveryDate}</span>
                        </div>
                        <hr style="margin: 15px 0;">
                        <div style="text-align: center; color: #155724;">
                            <strong>ğŸ“¦ 2ì¼ í›„ ë°°ì†¡ ì‹œì‘ ì˜ˆì •</strong>
                        </div>
                    </div>
                    
                    <div style="background: #fff3cd; padding: 20px; border-radius: 10px; margin: 20px 0;">
                        <h3 style="color: #856404;">ğŸ“± ì£¼ë¬¸ ì•Œë¦¼ ì„œë¹„ìŠ¤</h3>
                        <p style="margin: 10px 0; color: #856404;">
                            â€¢ SMSë¡œ ì œì‘ ì§„í–‰ ìƒí™©ì„ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤<br>
                            â€¢ ë°°ì†¡ ì‹œì‘ ì‹œ íƒë°° ì†¡ì¥ë²ˆí˜¸ë¥¼ ë°œì†¡í•©ë‹ˆë‹¤<br>
                            â€¢ ê³ ê°ì„¼í„°: 010-1234-5678
                        </p>
                    </div>
                    
                    <div style="margin-top: 30px;">
                        <button class="btn" onclick="showMainScreen()" style="background: #3B82F6; font-size: 1.1rem; padding: 15px 30px; margin-right: 15px;">ğŸ  ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
                        <button class="btn" onclick="downloadReceipt()" style="background: #3B82F6; font-size: 1.1rem; padding: 15px 30px;">ğŸ“„ ì˜ìˆ˜ì¦ ë‹¤ìš´ë¡œë“œ</button>
                    </div>
                </div>
            `;
      }

      function getPaymentMethodName() {
        switch (selectedPaymentMethod) {
          case "card":
            return "ì‹ ìš©ì¹´ë“œ";
          case "bank":
            return "ê³„ì¢Œì´ì²´";
          case "kakao":
            return "ì¹´ì¹´ì˜¤í˜ì´";
          case "toss":
            return "í† ìŠ¤í˜ì´";
          default:
            return "ê²°ì œì™„ë£Œ";
        }
      }

      function downloadReceipt() {
        alert("ì˜ìˆ˜ì¦ì´ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤! (ì‹¤ì œ êµ¬í˜„ì‹œ PDF ìƒì„±)");
      }

      function orderPhotoCard() {
        // ê¸°ì¡´ í•¨ìˆ˜ - ì‚¬ìš©í•˜ì§€ ì•ŠìŒ (proceedToPaymentë¡œ ëŒ€ì²´)
        alert("proceedToPayment í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì£¼ì„¸ìš”.");
      }

      // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
      document.addEventListener("DOMContentLoaded", function () {
        // ì•½ê´€ ë™ì˜ ì²´í¬ë°•ìŠ¤ ì´ë²¤íŠ¸ ì œê±°ë¨ - ê²°ì œ ë°©ë²• ì„ íƒë§Œìœ¼ë¡œ í™œì„±í™”

        // ì¹´ë“œ ì •ë³´ ì…ë ¥ í•„ë“œ ì´ë²¤íŠ¸
        ["card-cvc", "card-password"].forEach((id) => {
          const element = document.getElementById(id);
          if (element) {
            element.addEventListener("input", checkPaymentForm);
          }
        });

        // ê³„ì¢Œì´ì²´ ì •ë³´ ì…ë ¥ í•„ë“œ ì´ë²¤íŠ¸
        ["bank-select", "account-number", "account-holder"].forEach((id) => {
          const element = document.getElementById(id);
          if (element) {
            element.addEventListener("input", checkPaymentForm);
            element.addEventListener("change", checkPaymentForm);
          }
        });
      });

      // ë“œë˜ê·¸ ì•¤ ë“œë¡­ ê¸°ëŠ¥
      document.addEventListener("DOMContentLoaded", function () {
        const photoUploads = document.querySelectorAll(".photo-upload");

        photoUploads.forEach((upload) => {
          upload.addEventListener("dragover", function (e) {
            e.preventDefault();
            this.classList.add("dragover");
          });

          upload.addEventListener("dragleave", function (e) {
            e.preventDefault();
            this.classList.remove("dragover");
          });

          upload.addEventListener("drop", function (e) {
            e.preventDefault();
            this.classList.remove("dragover");

            const files = e.dataTransfer.files;
            if (this.querySelector("#photo-input")) {
              document.getElementById("photo-input").files = files;
              handlePhotoUpload({ target: { files: files } });
            } else if (this.querySelector("#customer-photo-input")) {
              document.getElementById("customer-photo-input").files = files;
              handleCustomerPhotoUpload({ target: { files: files } });
            }
          });
        });
      });
    </script>
  </body>
</html>
